import{a as pt}from"./chunk-CYWGSOII.js";import{L as $t,M as K,N as W,O as Bt,V as jt,X as Yt,ja as Z,ma as Ht,na as E,oa as tt,p as Dt,pa as dt,q as It,qa as V,r as Tt,ra as F,s as Vt,sa as $,t as kt,u as Lt,v as zt,w as At,x as Nt,y as Rt,z as Ft,za as Qt}from"./chunk-YJA7LBCE.js";import{$a as H,Bd as Ut,Ea as g,F as ft,Fa as a,Ga as o,Ha as h,J as _t,Jb as yt,K as Pt,La as O,Lb as q,M as xt,Ma as b,Oa as R,Ob as Ot,P as D,Pb as bt,Q as I,Qa as C,Ra as P,Tb as St,Va as rt,Wa as ct,Xa as mt,_ as j,a as k,b as N,bb as z,db as i,ea as c,eb as f,fb as S,gb as U,h as gt,ia as Y,ma as L,mb as ht,md as G,n as v,na as vt,pb as lt,qa as _,qb as Ct,rb as Mt,rd as J,sa as T,td as A,ub as Q,uc as wt,vc as Et,vd as X,w as ut}from"./chunk-JUX2TMYD.js";function te(s,t){s&1&&(a(0,"mat-icon"),i(1,"error"),o())}function ee(s,t){s&1&&(a(0,"mat-icon"),i(1,"warning"),o())}function ne(s,t){if(s&1&&(a(0,"div",6)(1,"div",7)(2,"div",8)(3,"mat-icon"),i(4,"account_balance_wallet"),o()(),a(5,"div",9)(6,"div",10),i(7),o(),a(8,"div",11),i(9,"Capital Prestado"),o(),a(10,"div",12),i(11,"Monto original recibido"),o(),a(12,"div",13)(13,"span"),i(14),o()()()(),a(15,"div",14)(16,"div",8)(17,"mat-icon"),i(18,"trending_up"),o()(),a(19,"div",9)(20,"div",10),i(21),o(),a(22,"div",11),i(23,"Total con Intereses"),o(),a(24,"div",12),i(25,"Monto total a pagar"),o(),a(26,"div",13)(27,"mat-icon"),i(28,"info"),o(),a(29,"span"),i(30,"Incluye capital + intereses"),o()()()(),a(31,"div",15)(32,"div",8)(33,"mat-icon"),i(34,"percent"),o()(),a(35,"div",9)(36,"div",10),i(37),o(),a(38,"div",11),i(39,"Total Intereses"),o(),a(40,"div",12),i(41,"Costo financiero total"),o(),a(42,"div",13)(43,"mat-icon"),i(44,"warning"),o(),a(45,"span"),i(46),o()()()(),a(47,"div",16)(48,"div",8)(49,"mat-icon"),i(50,"payments"),o()(),a(51,"div",9)(52,"div",10),i(53),o(),a(54,"div",11),i(55,"Pagos Mensuales"),o(),a(56,"div",12),i(57,"Cuotas del mes actual"),o(),a(58,"div",13)(59,"span"),i(60),o()()()(),a(61,"div",17)(62,"div",8)(63,"mat-icon"),i(64,"pie_chart"),o()(),a(65,"div",9)(66,"div",10),i(67),o(),a(68,"div",11),i(69,"Progreso de Pagos"),o(),a(70,"div",12),i(71,"Porcentaje completado"),o(),a(72,"div",18),h(73,"mat-progress-bar",19),o(),a(74,"div",13)(75,"span"),i(76),o()()()(),a(77,"div",20)(78,"div",8)(79,"mat-icon"),i(80,"check_circle"),o()(),a(81,"div",9)(82,"div",10),i(83),o(),a(84,"div",11),i(85,"Monto Pagado"),o(),a(86,"div",12),i(87,"Ya abonado a la fecha"),o(),a(88,"div",13)(89,"span"),i(90),o()()()(),a(91,"div",21)(92,"div",8)(93,"mat-icon"),i(94,"schedule"),o()(),a(95,"div",9)(96,"div",10),i(97),o(),a(98,"div",11),i(99,"Monto Pendiente"),o(),a(100,"div",12),i(101,"Falta por pagar"),o(),a(102,"div",13)(103,"span"),i(104),o()()()(),a(105,"div",22)(106,"div",8)(107,"mat-icon"),i(108,"event"),o()(),a(109,"div",9)(110,"div",10),i(111),o(),a(112,"div",11),i(113,"Pr\xF3ximo Vencimiento"),o(),a(114,"div",12),i(115,"Fecha de pr\xF3xima cuota"),o(),a(116,"div",13),_(117,te,2,0,"mat-icon",23)(118,ee,2,0,"mat-icon",23),a(119,"span"),i(120),o()()()()()),s&2){let e=P();c(7),f(e.formatCurrency(e.stats.capitalPrestado)),c(7),S("",e.stats.prestamosActivos," pr\xE9stamos activos"),c(7),f(e.formatCurrency(e.stats.totalConIntereses)),c(16),f(e.formatCurrency(e.stats.totalIntereses)),c(9),S("",e.formatPercentage(e.stats.totalIntereses/e.stats.capitalPrestado*100)," del capital"),c(7),f(e.formatCurrency(e.stats.pagosMensuales)),c(7),S("",e.stats.cuotasRestantes," cuotas restantes"),c(7),f(e.formatPercentage(e.stats.progresoPagos)),c(6),g("value",e.stats.progresoPagos),c(3),U("",e.formatCurrency(e.stats.totalPagado)," de ",e.formatCurrency(e.stats.totalConIntereses)),c(7),f(e.formatCurrency(e.stats.totalPagado)),c(7),S("",e.stats.cuotasPagadas," cuotas pagadas"),c(7),f(e.formatCurrency(e.stats.totalPendiente)),c(7),S("",e.stats.cuotasRestantes," cuotas restantes"),c(),z("warning",e.isVencimientoProximo())("danger",e.isVencimientoVencido()),c(6),f(e.formatDate(e.stats.proximoVencimiento)||"N/A"),c(6),g("ngIf",e.isVencimientoVencido()),c(),g("ngIf",e.isVencimientoProximo()&&!e.isVencimientoVencido()),c(2),f(e.getDiasHastaVencimiento())}}function ae(s,t){s&1&&(a(0,"div",24),h(1,"mat-spinner",25),a(2,"p"),i(3,"Calculando estad\xEDsticas..."),o()())}function oe(s,t){s&1&&(a(0,"div",26)(1,"mat-icon"),i(2,"account_balance"),o(),a(3,"h4"),i(4,"No hay pr\xE9stamos registrados"),o(),a(5,"p"),i(6,"Agrega tu primer pr\xE9stamo para ver las estad\xEDsticas"),o()())}var et=class s{prestamos=[];loading=!1;stats={capitalPrestado:0,totalConIntereses:0,totalSinIntereses:0,totalIntereses:0,pagosMensuales:0,totalPagado:0,totalPendiente:0,progresoPagos:0,prestamosActivos:0,tasaPromedioInteres:0,proximoVencimiento:null,prestamosVencidos:0,prestamosProximosVencer:0,montoVencido:0,montoProximoVencer:0,cuotasTotales:0,cuotasPagadas:0,cuotasRestantes:0,ahorroIntereses:0};ngOnInit(){this.calculateStats()}ngOnChanges(t){t.prestamos&&this.calculateStats()}refreshStats(){this.calculateStats()}calculateStats(){if(!this.prestamos.length){this.resetStats();return}let t=this.prestamos.filter(p=>$(p)),e=new Date,n=new Date(e.getFullYear(),e.getMonth(),1),r=t.filter(p=>{let M=dt(p);return M?M<=n:!0}),m=0,x=0,u=0,l=0,d=0;if(t.forEach(p=>{let M=p.monto??p.montoInicial,y=Number(M);Number.isFinite(y)&&(m+=y);let w=E(p),B=tt(p);x+=w*B;let st=V(p);u+=st.total,l+=st.pagadas,d+=st.restantes}),this.stats.capitalPrestado=m,this.stats.totalSinIntereses=m,this.stats.totalConIntereses=x,this.stats.totalIntereses=x-m,this.stats.cuotasTotales=u,this.stats.cuotasPagadas=l,this.stats.cuotasRestantes=d,this.stats.pagosMensuales=r.reduce((p,M)=>{let y=M.cuotaMensual??M.pagoMensual,w=Number(y);return p+(Number.isFinite(w)?w:0)},0),this.stats.prestamosActivos=t.length,t.length>0){let p=t.map(y=>{let w=y.tasaInteres??y.tasaAnual,B=Number(w);return Number.isFinite(B)?B:0}),M=p.reduce((y,w)=>y+w,0);this.stats.tasaPromedioInteres=p.length>0?M/p.length:0}else this.stats.tasaPromedioInteres=0;this.calculatePaymentStats(),this.calculateNextDueDate(),this.calculateAlerts()}calculatePaymentStats(){let t=0,e=0,n=0,r=new Date,m=new Date(r.getFullYear(),r.getMonth(),1);this.prestamos.filter(u=>{if(!$(u))return!1;let l=dt(u);return l?l<=m:!0}).forEach(u=>{let l=V(u),d=E(u);t+=d*l.pagadas,e+=d*l.restantes,n+=d*l.total}),this.stats.totalPagado=t,this.stats.totalPendiente=e,this.stats.progresoPagos=n>0?t/n*100:0}calculateNextDueDate(){let t=this.prestamos.filter(e=>$(e)).map(e=>F(e)).filter(e=>!!e&&!isNaN(e.getTime()));if(t.length===0){this.stats.proximoVencimiento=null;return}t.sort((e,n)=>e.getTime()-n.getTime()),this.stats.proximoVencimiento=t[0]}getDiasHastaVencimiento(){if(!this.stats.proximoVencimiento)return"Sin vencimientos";let t=new Date,e=new Date(this.stats.proximoVencimiento);if(isNaN(e.getTime()))return"Fecha inv\xE1lida";let n=e.getTime()-t.getTime(),r=Math.ceil(n/(1e3*60*60*24));return r<0?`Vencido hace ${Math.abs(r)} d\xEDas`:r===0?"Vence hoy":r===1?"Vence ma\xF1ana":`En ${r} d\xEDas`}calculateAlerts(){let t=new Date,e=new Date;e.setDate(t.getDate()+7);let n=this.prestamos.filter(l=>$(l)),r=new Set,m=new Set,x=0,u=0;n.forEach(l=>{let d=F(l);if(!d)return;let p=E(l);d<t?(r.has(l.id)||(x+=p),r.add(l.id)):d>=t&&d<=e&&(m.has(l.id)||(u+=p),m.add(l.id))}),this.prestamos.filter(l=>l.estado==="vencido").forEach(l=>{r.has(l.id)||(x+=E(l),r.add(l.id))}),this.stats.prestamosVencidos=r.size,this.stats.prestamosProximosVencer=m.size,this.stats.montoVencido=x,this.stats.montoProximoVencer=u}resetStats(){this.stats={capitalPrestado:0,totalConIntereses:0,totalSinIntereses:0,totalIntereses:0,pagosMensuales:0,totalPagado:0,totalPendiente:0,progresoPagos:0,prestamosActivos:0,tasaPromedioInteres:0,proximoVencimiento:null,prestamosVencidos:0,prestamosProximosVencer:0,montoVencido:0,montoProximoVencer:0,cuotasTotales:0,cuotasPagadas:0,cuotasRestantes:0,ahorroIntereses:0}}isVencimientoVencido(){return this.stats.proximoVencimiento?new Date(this.stats.proximoVencimiento)<new Date:!1}isVencimientoProximo(){if(!this.stats.proximoVencimiento)return!1;let t=new Date,e=new Date;e.setDate(t.getDate()+7);let n=new Date(this.stats.proximoVencimiento);return n>=t&&n<=e}formatCurrency(t){let e=Number(t),n=Number.isFinite(e)?e:0;return new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS",minimumFractionDigits:0,maximumFractionDigits:0}).format(n)}formatPercentage(t){let e=Number(t),n=Number.isFinite(e)?e:0;return new Intl.NumberFormat("es-AR",{style:"percent",minimumFractionDigits:1,maximumFractionDigits:1}).format(n/100)}formatDate(t){if(!t)return"";let e;if(t instanceof Date)e=t;else{let n=String(t).trim();if(!n)return"";if(/^\d{4}-\d{2}$/.test(n)){let[r,m]=n.split("-").map(Number);e=new Date(r,m-1,1)}else e=new Date(n)}return isNaN(e.getTime())?"":new Intl.DateTimeFormat("es-AR",{day:"2-digit",month:"2-digit",year:"numeric"}).format(e)}static \u0275fac=function(e){return new(e||s)};static \u0275cmp=L({type:s,selectors:[["app-prestamo-stats"]],inputs:{prestamos:"prestamos",loading:"loading"},standalone:!1,features:[j],decls:13,vars:6,consts:[["loadingTemplate",""],[1,"prestamo-stats"],[1,"stats-header"],["mat-icon-button","",3,"click","disabled"],["class","stats-grid",4,"ngIf","ngIfElse"],["class","stats-empty",4,"ngIf"],[1,"stats-grid"],[1,"stat-card","primary"],[1,"stat-icon"],[1,"stat-content"],[1,"stat-value"],[1,"stat-label"],[1,"stat-description"],[1,"stat-trend"],[1,"stat-card","warning"],[1,"stat-card","danger"],[1,"stat-card","secondary"],[1,"stat-card","success"],[1,"stat-progress"],["mode","determinate",3,"value"],[1,"stat-card","info"],[1,"stat-card","pending"],[1,"stat-card"],[4,"ngIf"],[1,"stats-loading"],["diameter","40"],[1,"stats-empty"]],template:function(e,n){if(e&1){let r=R();a(0,"div",1)(1,"div",2)(2,"h3")(3,"mat-icon"),i(4,"analytics"),o(),i(5," Estad\xEDsticas de Pr\xE9stamos "),o(),a(6,"button",3),C("click",function(){return D(r),I(n.refreshStats())}),a(7,"mat-icon"),i(8,"refresh"),o()()(),_(9,ne,121,23,"div",4)(10,ae,4,0,"ng-template",null,0,Q)(12,oe,7,0,"div",5),o()}if(e&2){let r=H(11);c(6),g("disabled",n.loading),c(),z("spinning",n.loading),c(2),g("ngIf",!n.loading)("ngIfElse",r),c(3),g("ngIf",!n.loading&&n.prestamos.length===0)}},dependencies:[q,G,A,X,Z],styles:['.prestamo-stats[_ngcontent-%COMP%]{padding:16px;background-color:var(--mat-sys-surface-container-low);border-radius:8px;border:1px solid var(--mat-sys-outline-variant)}.stats-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}.stats-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;display:flex;align-items:center;gap:8px;color:var(--mat-sys-primary);font-weight:500;font-size:18px}.stats-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px}.stats-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{transition:transform .3s ease}.stats-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .mat-icon.spinning[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:16px}@media (min-width: 1200px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)}}@media (max-width: 768px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:12px}}.stat-card[_ngcontent-%COMP%]{background:var(--mat-sys-surface-container-low);border-radius:12px;padding:20px;box-shadow:var(--mat-sys-elevation-level2);border:1px solid var(--mat-sys-outline-variant);transition:all .3s ease;position:relative;overflow:hidden;display:flex;align-items:flex-start;gap:16px}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:var(--mat-sys-elevation-level3)}.stat-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:var(--mat-sys-outline-variant)}.stat-card.primary[_ngcontent-%COMP%]:before{background:var(--mat-sys-primary)}.stat-card.secondary[_ngcontent-%COMP%]:before{background:var(--mat-sys-secondary)}.stat-card.info[_ngcontent-%COMP%]:before{background:var(--mat-sys-info)}.stat-card.success[_ngcontent-%COMP%]:before{background:var(--mat-sys-success)}.stat-card.warning[_ngcontent-%COMP%]:before{background:var(--mat-sys-warning)}.stat-card.danger[_ngcontent-%COMP%]:before{background:var(--mat-sys-error)}.stat-card.alert[_ngcontent-%COMP%]:before{background:var(--mat-sys-error)}.stat-card.pending[_ngcontent-%COMP%]:before{background:var(--mat-sys-tertiary)}.stat-icon[_ngcontent-%COMP%]{flex-shrink:0;width:48px;height:48px;border-radius:12px;display:flex;align-items:center;justify-content:center;background-color:var(--mat-sys-surface-variant)}.stat-icon[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px;color:var(--mat-sys-on-surface-variant)}.primary[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background-color:var(--mat-sys-primary-container)}.primary[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:var(--mat-sys-on-primary-container)}.secondary[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background-color:var(--mat-sys-secondary-container)}.secondary[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:var(--mat-sys-on-secondary-container)}.info[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background-color:var(--mat-sys-info-container)}.info[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:var(--mat-sys-on-info-container)}.success[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background-color:var(--mat-sys-success-container)}.success[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:var(--mat-sys-on-success-container)}.warning[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background-color:var(--mat-sys-warning-container)}.warning[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:var(--mat-sys-on-warning-container)}.danger[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background-color:var(--mat-sys-error-container)}.danger[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:var(--mat-sys-on-error-container)}.alert[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background-color:var(--mat-sys-error-container)}.alert[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:var(--mat-sys-on-error-container)}.pending[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background-color:var(--mat-sys-tertiary-container)}.pending[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:var(--mat-sys-on-tertiary-container)}.stat-content[_ngcontent-%COMP%]{flex:1;min-width:0}.stat-value[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:var(--mat-sys-on-surface);margin-bottom:4px;line-height:1.2}@media (max-width: 480px){.stat-value[_ngcontent-%COMP%]{font-size:20px}}.stat-label[_ngcontent-%COMP%]{font-size:14px;color:var(--mat-sys-on-surface-variant);font-weight:500;margin-bottom:4px;text-transform:uppercase;letter-spacing:.5px}.stat-description[_ngcontent-%COMP%]{font-size:12px;color:var(--mat-sys-outline);margin-bottom:8px;font-style:italic;line-height:1.3}.stat-trend[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;font-size:12px;color:var(--mat-sys-outline)}.stat-trend[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.stat-trend.positive[_ngcontent-%COMP%], .stat-trend.positive[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:var(--mat-sys-success)}.stat-trend.warning[_ngcontent-%COMP%], .stat-trend.warning[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:var(--mat-sys-warning)}.stat-progress[_ngcontent-%COMP%]{margin:8px 0}.stat-progress[_ngcontent-%COMP%]   .mat-progress-bar[_ngcontent-%COMP%]{height:6px;border-radius:3px}.stat-progress[_ngcontent-%COMP%]   .mat-progress-bar[_ngcontent-%COMP%]     .mat-progress-bar-fill:after{background-color:var(--mat-sys-success)}.stat-progress[_ngcontent-%COMP%]   .mat-progress-bar[_ngcontent-%COMP%]     .mat-progress-bar-buffer{background-color:var(--mat-sys-outline-variant)}.alert-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px;margin-top:8px}.alert-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;font-size:12px}.alert-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px}.alert-item[_ngcontent-%COMP%]   .mat-icon.danger[_ngcontent-%COMP%]{color:var(--mat-sys-error)}.alert-item[_ngcontent-%COMP%]   .mat-icon.warning[_ngcontent-%COMP%]{color:var(--mat-sys-warning)}.stats-loading[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px 20px;text-align:center}.stats-loading[_ngcontent-%COMP%]   .mat-spinner[_ngcontent-%COMP%]{margin-bottom:16px}.stats-loading[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--mat-sys-on-surface-variant);font-size:14px}.stats-empty[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px 20px;text-align:center;color:var(--mat-sys-on-surface-variant)}.stats-empty[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;margin-bottom:16px;color:var(--mat-sys-outline)}.stats-empty[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 8px;font-size:18px;font-weight:500}.stats-empty[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px;color:var(--mat-sys-outline)}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.stat-card[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .3s ease-out}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 768px){.prestamo-stats[_ngcontent-%COMP%]{padding:12px}.stats-header[_ngcontent-%COMP%]{margin-bottom:16px}.stats-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px}.stats-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.stat-card[_ngcontent-%COMP%]{padding:16px;gap:12px}.stat-icon[_ngcontent-%COMP%]{width:40px;height:40px}.stat-icon[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.stat-value[_ngcontent-%COMP%]{font-size:20px}.stat-label[_ngcontent-%COMP%]{font-size:12px}.stat-trend[_ngcontent-%COMP%]{font-size:11px}.stat-trend[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px}}@media (max-width: 480px){.prestamo-stats[_ngcontent-%COMP%]{padding:8px}.stats-header[_ngcontent-%COMP%]{margin-bottom:12px;flex-direction:column;align-items:flex-start;gap:8px}.stats-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:15px}.stat-card[_ngcontent-%COMP%]{padding:12px;gap:10px}.stat-card[_ngcontent-%COMP%]:hover{transform:none}.stat-icon[_ngcontent-%COMP%]{width:36px;height:36px}.stat-icon[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.stat-value[_ngcontent-%COMP%]{font-size:18px}.stat-label[_ngcontent-%COMP%]{font-size:11px;margin-bottom:6px}.stat-trend[_ngcontent-%COMP%]{font-size:10px}.stat-trend[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:12px;width:12px;height:12px}.alert-details[_ngcontent-%COMP%]{gap:2px}.alert-item[_ngcontent-%COMP%]{font-size:10px}.alert-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:12px;width:12px;height:12px}}.stat-card[_ngcontent-%COMP%]:focus-within{outline:2px solid var(--mat-sys-primary);outline-offset:2px}.stats-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{outline:2px solid var(--mat-sys-primary);outline-offset:2px}.stat-card[_ngcontent-%COMP%], .stat-icon[_ngcontent-%COMP%], .stat-value[_ngcontent-%COMP%], .stat-label[_ngcontent-%COMP%], .stat-trend[_ngcontent-%COMP%]{transition:all .2s ease}.stat-value.negative[_ngcontent-%COMP%]{color:var(--mat-sys-error)}.stat-value.positive[_ngcontent-%COMP%]{color:var(--mat-sys-success)}.stat-value.warning[_ngcontent-%COMP%]{color:var(--mat-sys-warning)}.stat-card.pulsing[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s infinite}@keyframes _ngcontent-%COMP%_pulse{0%{box-shadow:var(--mat-sys-elevation-level2)}50%{box-shadow:var(--mat-sys-elevation-level4)}to{box-shadow:var(--mat-sys-elevation-level2)}}.stat-card[title][_ngcontent-%COMP%]{cursor:help}.stat-card[_ngcontent-%COMP%]{will-change:transform,box-shadow}.stat-icon[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{will-change:transform}']})};var se=()=>[5,10,25];function re(s,t){s&1&&(a(0,"th",22),i(1,"Pr\xE9stamo"),o())}function ce(s,t){if(s&1&&(a(0,"td",23)(1,"div",24),i(2),o(),a(3,"div",25),i(4),o()()),s&2){let e=t.$implicit;c(2),f(e.descripcion),c(2),f(e.entidad)}}function me(s,t){s&1&&(a(0,"th",22),i(1,"Monto / Saldo"),o())}function le(s,t){if(s&1&&(a(0,"td",23)(1,"div"),i(2),o(),a(3,"div",26),i(4),o()()),s&2){let e=t.$implicit,n=P(2);c(2),f(n.formatCurrency(e.monto)),c(2),S("",n.formatCurrency(n.getSaldoPendiente(e))," estimado")}}function de(s,t){s&1&&(a(0,"th",22),i(1,"Cuota Mensual"),o())}function pe(s,t){if(s&1&&(a(0,"td",23)(1,"div",27),i(2),o(),a(3,"div",25),i(4,"por mes"),o()()),s&2){let e=t.$implicit,n=P(2);c(2),f(n.formatCurrency(n.getCuotaMensual(e)))}}function ge(s,t){s&1&&(a(0,"th",22),i(1,"Tasa Anual"),o())}function ue(s,t){if(s&1&&(a(0,"td",28),i(1),o()),s&2){let e=t.$implicit,n=P(2);c(),f(n.formatPercentage(e.tasaInteres))}}function fe(s,t){s&1&&(a(0,"th",29),i(1,"Progreso Cuotas"),o())}function _e(s,t){if(s&1&&(a(0,"td",23)(1,"div",30)(2,"div",31),i(3),o(),h(4,"mat-progress-bar",32),o()()),s&2){let e=t.$implicit,n=P(2);c(3),U("",n.getCuotasPagadas(e)," / ",n.getTotalCuotas(e)),c(),g("value",n.getCuotasProgress(e))}}function Pe(s,t){s&1&&(a(0,"th",22),i(1,"Estado"),o())}function xe(s,t){if(s&1&&(a(0,"td",23)(1,"span",33),i(2),lt(3,"titlecase"),o()()),s&2){let e=t.$implicit;c(),g("ngClass","estado-"+e.estado),c(),S(" ",Ct(3,2,e.estado)," ")}}function ve(s,t){s&1&&(a(0,"th",29),i(1,"Pr\xF3ximo Vencimiento"),o())}function he(s,t){if(s&1&&(a(0,"div")(1,"div"),i(2),lt(3,"date"),o(),a(4,"div",36),i(5),o()()),s&2){let e=t.ngIf,n=P(3);c(),z("overdue",n.isOverdue(e)),c(),f(Mt(3,6,e,"dd/MM/yyyy")),c(2),z("overdue",n.isOverdue(e)),c(),f(n.getDaysUntilDue(e))}}function Ce(s,t){s&1&&(a(0,"span",25),i(1,"Pagado"),o())}function Me(s,t){if(s&1&&(a(0,"td",23),_(1,he,6,9,"div",34)(2,Ce,2,0,"span",35),o()),s&2){let e=t.$implicit,n=P(2);c(),g("ngIf",n.getProximoVencimiento(e)),c(),g("ngIf",!n.getProximoVencimiento(e))}}function ye(s,t){s&1&&(a(0,"th",37),i(1,"Acciones"),o())}function Oe(s,t){if(s&1){let e=R();a(0,"td",38)(1,"div",39)(2,"button",40),C("click",function(){let r=D(e).$implicit,m=P(2);return I(m.onEdit(r))}),a(3,"mat-icon"),i(4,"edit"),o()(),a(5,"button",41),C("click",function(){let r=D(e).$implicit,m=P(2);return I(m.onDuplicate(r))}),a(6,"mat-icon"),i(7,"content_copy"),o()(),a(8,"button",42),C("click",function(){let r=D(e).$implicit,m=P(2);return I(m.onDelete(r))}),a(9,"mat-icon"),i(10,"delete"),o()()()()}}function be(s,t){s&1&&h(0,"tr",43)}function Se(s,t){s&1&&h(0,"tr",44)}function we(s,t){if(s&1&&(a(0,"div",3)(1,"table",4),O(2,5),_(3,re,2,0,"th",6)(4,ce,5,2,"td",7),b(),O(5,8),_(6,me,2,0,"th",6)(7,le,5,2,"td",7),b(),O(8,9),_(9,de,2,0,"th",6)(10,pe,5,1,"td",7),b(),O(11,10),_(12,ge,2,0,"th",6)(13,ue,2,1,"td",11),b(),O(14,12),_(15,fe,2,0,"th",13)(16,_e,5,3,"td",7),b(),O(17,14),_(18,Pe,2,0,"th",6)(19,xe,4,4,"td",7),b(),O(20,15),_(21,ve,2,0,"th",13)(22,Me,3,2,"td",7),b(),O(23,16),_(24,ye,2,0,"th",17)(25,Oe,11,0,"td",18),b(),_(26,be,1,0,"tr",19)(27,Se,1,0,"tr",20),o(),h(28,"mat-paginator",21),o()),s&2){let e=P();c(),g("dataSource",e.dataSource),c(25),g("matHeaderRowDef",e.displayedColumns),c(),g("matRowDefColumns",e.displayedColumns),c(),g("pageSizeOptions",ht(4,se))}}function Ee(s,t){if(s&1){let e=R();a(0,"div",47)(1,"div",48)(2,"mat-icon",49),i(3,"account_balance_wallet"),o(),a(4,"h3",50),i(5,"No hay pr\xE9stamos"),o(),a(6,"p",51),i(7,"Agrega tu primer pr\xE9stamo para comenzar a gestionarlo."),o(),a(8,"button",52),C("click",function(){D(e);let r=P(2);return I(r.onAdd())}),a(9,"mat-icon"),i(10,"add"),o(),a(11,"span"),i(12,"Agregar Pr\xE9stamo"),o()()()()}}function De(s,t){s&1&&(a(0,"div",53)(1,"div",48),h(2,"mat-spinner",54),a(3,"p",51),i(4,"Cargando pr\xE9stamos..."),o()()())}function Ie(s,t){if(s&1&&_(0,Ee,13,0,"div",45)(1,De,5,0,"div",46),s&2){let e=P();g("ngIf",!e.loading&&e.prestamos.length===0),c(),g("ngIf",e.loading)}}var at=class s{prestamos=[];loading=!1;edit=new T;clone=new T;delete=new T;add=new T;duplicate=new T;viewAmortization=new T;paginator;sort;dataSource=new Ft;displayedColumns=["descripcion","monto","cuotaMensual","tasaInteres","cuotas","estado","proximoVencimiento","acciones"];ngOnInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}ngOnChanges(t){t.prestamos&&(this.dataSource.data=this.prestamos)}onEdit(t){this.edit.emit(t)}onClone(t){this.clone.emit(t)}onDelete(t){this.delete.emit(t)}onAdd(){this.add.emit()}onDuplicate(t){this.duplicate.emit(t)}onViewAmortization(t){this.viewAmortization.emit(t)}getSaldoPendiente(t){let e=E(t),n=V(t);return Math.max(0,e*n.restantes)}getCuotasPagadas(t){return V(t).pagadas}getCuotasProgress(t){let e=V(t);return e.total===0?0:e.pagadas/e.total*100}getProximoVencimiento(t){return F(t)}isOverdue(t){return t?new Date(t)<new Date:!1}isDueSoon(t){if(!t)return!1;let e=new Date,n=new Date(t),r=Math.ceil((n.getTime()-e.getTime())/(1e3*60*60*24));return r>=0&&r<=7}getDaysUntilDue(t){if(!t)return"";let e=Math.ceil((new Date(t).getTime()-new Date().getTime())/(1e3*60*60*24));return e<0?`Vencido hace ${Math.abs(e)} d\xEDas`:e===0?"Vence hoy":`En ${e} d\xEDas`}formatCurrency(t){return new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS"}).format(t)}formatPercentage(t){return`${(t||0).toFixed(2)}%`}getTotalCuotas(t){return tt(t)}getCuotaMensual(t){return E(t)}static \u0275fac=function(e){return new(e||s)};static \u0275cmp=L({type:s,selectors:[["app-prestamos-list"]],viewQuery:function(e,n){if(e&1&&(rt(K,5),rt(W,5)),e&2){let r;ct(r=mt())&&(n.paginator=r.first),ct(r=mt())&&(n.sort=r.first)}},inputs:{prestamos:"prestamos",loading:"loading"},outputs:{edit:"edit",clone:"clone",delete:"delete",add:"add",duplicate:"duplicate",viewAmortization:"viewAmortization"},standalone:!1,features:[j],decls:4,vars:2,consts:[["emptyOrLoading",""],[1,"list-container"],["class","table-container",4,"ngIf","ngIfElse"],[1,"table-container"],["mat-table","","matSort","",1,"mat-mdc-table",3,"dataSource"],["matColumnDef","descripcion"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","monto"],["matColumnDef","cuotaMensual"],["matColumnDef","tasaInteres"],["mat-cell","","style","font-weight: 500;",4,"matCellDef"],["matColumnDef","cuotas"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","estado"],["matColumnDef","proximoVencimiento"],["matColumnDef","acciones"],["mat-header-cell","","class","actions-header",4,"matHeaderCellDef"],["mat-cell","","class","actions-cell",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[2,"font-weight","500"],[2,"font-size","12px","opacity","0.7"],[2,"font-size","12px","color","var(--mat-sys-error)"],[2,"font-weight","500","color","var(--mat-sys-primary)"],["mat-cell","",2,"font-weight","500"],["mat-header-cell",""],[2,"min-width","120px"],[2,"font-size","12px","text-align","center","margin-bottom","4px"],["mode","determinate",3,"value"],[1,"status-chip",3,"ngClass"],[4,"ngIf"],["style","font-size: 12px; opacity: 0.7;",4,"ngIf"],[2,"font-size","12px"],["mat-header-cell","",1,"actions-header"],["mat-cell","",1,"actions-cell"],[1,"actions-container"],["mat-icon-button","","color","primary","matTooltip","Editar",1,"action-button",3,"click"],["mat-icon-button","","color","accent","matTooltip","Clonar",1,"action-button",3,"click"],["mat-icon-button","","color","warn","matTooltip","Eliminar",1,"action-button",3,"click"],["mat-header-row",""],["mat-row",""],["class","empty-state",4,"ngIf"],["class","loading-state",4,"ngIf"],[1,"empty-state"],[1,"content-wrapper"],[1,"state-icon"],[1,"title"],[1,"message"],["mat-raised-button","","color","primary",1,"action-button",3,"click"],[1,"loading-state"],["diameter","50"]],template:function(e,n){if(e&1&&(a(0,"div",1),_(1,we,29,5,"div",2)(2,Ie,2,2,"ng-template",null,0,Q),o()),e&2){let r=H(3);c(),g("ngIf",!n.loading&&n.dataSource.data.length>0)("ngIfElse",r)}},dependencies:[yt,q,J,G,A,Dt,Tt,zt,Vt,It,At,kt,Lt,Nt,Rt,K,W,Bt,X,$t,Z,Ot,bt],styles:['@charset "UTF-8";.status-chip[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:4px 10px;border-radius:16px;font-size:12px;font-weight:600;line-height:1.2;text-transform:uppercase;letter-spacing:.5px}.status-chip.estado-activo[_ngcontent-%COMP%]{background-color:var(--mat-sys-success-container);color:var(--mat-sys-on-success-container)}.status-chip.estado-pagado[_ngcontent-%COMP%]{background-color:var(--mat-sys-primary-container);color:var(--mat-sys-on-primary-container)}.status-chip.estado-vencido[_ngcontent-%COMP%]{background-color:var(--mat-sys-error-container);color:var(--mat-sys-on-error-container)}.status-chip.estado-pendiente[_ngcontent-%COMP%]{background-color:var(--mat-sys-warning-container);color:var(--mat-sys-on-warning-container)}.status-chip.estado-cancelado[_ngcontent-%COMP%], .status-chip.estado-suspendido[_ngcontent-%COMP%]{background-color:var(--mat-sys-surface-variant);color:var(--mat-sys-on-surface-variant)}.status-chip[_ngcontent-%COMP%]:not([class*=estado-]){background-color:var(--mat-sys-surface-container-high);color:var(--mat-sys-on-surface-variant)}']})};var ot=class s{constructor(t){this.appStateService=t}getPrestamos(){return this.appStateService.loans$}getPrestamoById(t){return this.getPrestamos().pipe(v(e=>e.find(n=>n.id===t)))}addPrestamo(t){this.appStateService.addLoan(t)}updatePrestamo(t,e){this.getPrestamoById(t).pipe(ut(1)).subscribe(n=>{if(n){let r=N(k(k({},n),e),{fechaActualizacion:new Date().toISOString().split("T")[0]});this.appStateService.updateLoan(r)}})}deletePrestamo(t){this.appStateService.deleteLoan(t)}duplicatePrestamo(t){this.getPrestamoById(t).subscribe(e=>{if(e){let n=N(k({},e),{id:Date.now().toString(),descripcion:`${e.descripcion} (Copia)`,fechaCreacion:new Date().toISOString().split("T")[0],fechaInicio:new Date().toISOString().substring(0,7)});this.addPrestamo(n)}})}getActiveLoans(){return this.getPrestamos().pipe(v(t=>t.filter(e=>e.estado==="activo")))}getCompletedLoans(){return this.getPrestamos().pipe(v(t=>t.filter(e=>e.estado==="pagado")))}getOverdueLoans(){return this.getPrestamos().pipe(v(t=>t.filter(e=>e.estado==="vencido")))}getCanceledLoans(){return this.getPrestamos().pipe(v(t=>t.filter(e=>e.estado==="cancelado")))}getTotalDebt(){return this.getActiveLoans().pipe(v(t=>t.reduce((e,n)=>e+n.monto,0)))}getTotalMonthlyPayment(){return this.getActiveLoans().pipe(v(t=>t.reduce((e,n)=>e+n.cuotaMensual,0)))}getAverageInterestRate(){return this.getActiveLoans().pipe(v(t=>t.length===0?0:t.reduce((n,r)=>n+(r.tasaInteres??r.tasaAnual??0),0)/t.length))}getLoansByType(t){return this.getPrestamos().pipe(v(e=>e.filter(n=>n.tipo===t)))}getLoansByEntity(t){return this.getPrestamos().pipe(v(e=>e.filter(n=>n.entidad===t)))}getNextDueDate(){return this.getActiveLoans().pipe(v(t=>{if(t.length===0)return null;let e=new Date,n=e.getMonth(),r=e.getFullYear(),m=t.map(x=>{let u=new Date(r,n,x.diaVencimiento);return u<e&&u.setMonth(u.getMonth()+1),u});return new Date(Math.min(...m.map(x=>x.getTime())))}))}getLoansStatistics(){return this.getPrestamos().pipe(v(t=>{let e=t.filter(d=>d.estado==="activo"),n=t.filter(d=>d.estado==="pagado"),r=t.filter(d=>d.estado==="vencido"),m=t.filter(d=>d.estado==="cancelado"),x=e.reduce((d,p)=>d+p.monto,0),u=e.reduce((d,p)=>d+p.cuotaMensual,0),l=e.length>0?e.reduce((d,p)=>d+(p.tasaInteres??p.tasaAnual??0),0)/e.length:0;return{total:t.length,active:e.length,completed:n.length,overdue:r.length,canceled:m.length,totalDebt:x,totalMonthlyPayment:u,averageInterestRate:l}}))}validatePrestamo(t){let e=[];return t.descripcion?.trim()||e.push("La descripci\xF3n es requerida"),t.entidad?.trim()||e.push("La entidad es requerida"),(!t.monto||t.monto<=0)&&e.push("El monto original debe ser mayor a 0"),(!t.tasaAnual||t.tasaAnual<0)&&e.push("La tasa anual debe ser mayor o igual a 0"),(!t.cuotas||t.cuotas<=0)&&e.push("El n\xFAmero de cuotas debe ser mayor a 0"),(!t.cuotaMensual||t.cuotaMensual<=0)&&e.push("La cuota mensual debe ser mayor a 0"),(!t.diaVencimiento||t.diaVencimiento<1||t.diaVencimiento>31)&&e.push("El d\xEDa de vencimiento debe estar entre 1 y 31"),e}isValidPrestamo(t){return this.validatePrestamo(t).length===0}static \u0275fac=function(e){return new(e||s)(xt(Qt))};static \u0275prov=_t({token:s,factory:s.\u0275fac,providedIn:"root"})};var it=class s{constructor(t,e,n){this.prestamosService=t;this.dialog=e;this.snackBar=n}destroy$=new gt;prestamos=[];loading=!1;ngOnInit(){this.loadData()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadData(){this.loading=!0,this.prestamosService.getPrestamos().pipe(ft(this.destroy$)).subscribe({next:t=>{this.prestamos=t,this.loading=!1},error:t=>{console.error("Error loading prestamos:",t),this.showError("Error al cargar los pr\xE9stamos"),this.loading=!1}})}openPrestamoDialog(t){this.dialog.open(pt,{width:"80vw",height:"80vh",maxHeight:"80vh",panelClass:"unified-modal-panel",data:{prestamo:t||null,mode:t?"edit":"add"}}).afterClosed().subscribe(n=>{n===!0&&this.showSuccess(t?"Pr\xE9stamo actualizado correctamente":"Pr\xE9stamo creado correctamente")})}onEditPrestamo(t){this.openPrestamoDialog(t)}onDeletePrestamo(t){confirm(`\xBFEst\xE1s seguro de que deseas eliminar el pr\xE9stamo "${t.descripcion}"?`)&&(this.prestamosService.deletePrestamo(t.id),this.prestamos=this.prestamos.filter(e=>e.id!==t.id),this.showSuccess("Pr\xE9stamo eliminado correctamente"))}onDuplicatePrestamo(t){this.openPrestamoDuplicateDialog(t)}openPrestamoDuplicateDialog(t){let e=N(k({},t),{id:void 0,descripcion:`${t.descripcion} (Copia)`,fechaInicio:new Date().toISOString().split("T")[0],estado:"activo"});this.dialog.open(pt,{width:"80vw",height:"80vh",maxHeight:"80vh",panelClass:"unified-modal-panel",data:{prestamo:e,mode:"duplicate"}}).afterClosed().subscribe(r=>{r===!0&&this.showSuccess("Pr\xE9stamo duplicado correctamente")})}createPrestamo(t){this.prestamosService.addPrestamo(t),this.showSuccess("Pr\xE9stamo creado correctamente")}updatePrestamo(t){this.prestamosService.updatePrestamo(t.id,t);let e=this.prestamos.findIndex(n=>n.id===t.id);e!==-1&&(this.prestamos[e]=t,this.prestamos=[...this.prestamos]),this.showSuccess("Pr\xE9stamo actualizado correctamente")}showSuccess(t){this.snackBar.open(t,"Cerrar",{duration:3e3,panelClass:["success-snackbar"]})}showError(t){this.snackBar.open(t,"Cerrar",{duration:5e3,panelClass:["error-snackbar"]})}static \u0275fac=function(e){return new(e||s)(Y(ot),Y(jt),Y(Yt))};static \u0275cmp=L({type:s,selectors:[["app-prestamos"]],standalone:!1,decls:19,vars:4,consts:[[1,"prestamos-container"],[1,"prestamos-header"],[1,"header-content"],[1,"page-title"],[1,"page-subtitle"],[1,"header-actions"],["mat-raised-button","","color","primary",3,"click"],[1,"stats-section"],[3,"prestamos","loading"],[1,"main-content"],[1,"tab-content"],[3,"edit","delete","duplicate","prestamos","loading"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3)(4,"mat-icon"),i(5,"account_balance"),o(),i(6," Gesti\xF3n de Pr\xE9stamos "),o(),a(7,"p",4),i(8," Administra tus pr\xE9stamos y mant\xE9n un control financiero completo "),o()(),a(9,"div",5)(10,"button",6),C("click",function(){return n.openPrestamoDialog()}),a(11,"mat-icon"),i(12,"add"),o(),i(13," Nuevo Pr\xE9stamo "),o()()(),a(14,"div",7),h(15,"app-prestamo-stats",8),o(),a(16,"div",9)(17,"div",10)(18,"app-prestamos-list",11),C("edit",function(m){return n.onEditPrestamo(m)})("delete",function(m){return n.onDeletePrestamo(m)})("duplicate",function(m){return n.onDuplicatePrestamo(m)}),o()()()()),e&2&&(c(15),g("prestamos",n.prestamos)("loading",n.loading),c(3),g("prestamos",n.prestamos)("loading",n.loading))},dependencies:[J,A,at,et],styles:[".prestamos-container[_ngcontent-%COMP%]{padding:24px;max-width:1400px;margin:0 auto;min-height:calc(100vh - 64px);background-color:var(--mat-sys-surface-dim)}.prestamos-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:32px;padding:24px;background:var(--mat-sys-surface-container-low);border-radius:16px;box-shadow:0 2px 12px var(--mat-sys-shadow);border:1px solid var(--mat-sys-outline-variant)}@media (max-width: 768px){.prestamos-header[_ngcontent-%COMP%]{flex-direction:column;gap:20px;align-items:stretch;padding:20px}}.header-content[_ngcontent-%COMP%]{flex:1}.page-title[_ngcontent-%COMP%]{margin:0 0 8px;font-size:28px;font-weight:700;color:var(--mat-sys-on-surface);display:flex;align-items:center;gap:12px}.page-title[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:32px;width:32px;height:32px;color:var(--mat-sys-primary)}@media (max-width: 768px){.page-title[_ngcontent-%COMP%]{font-size:24px}.page-title[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:28px;width:28px;height:28px}}.page-subtitle[_ngcontent-%COMP%]{margin:0;font-size:16px;color:var(--mat-sys-on-surface-variant);line-height:1.5}@media (max-width: 768px){.page-subtitle[_ngcontent-%COMP%]{font-size:14px}}.header-actions[_ngcontent-%COMP%]{display:flex;gap:12px;flex-shrink:0}@media (max-width: 768px){.header-actions[_ngcontent-%COMP%]{flex-direction:column;gap:8px}}@media (max-width: 480px){.header-actions[_ngcontent-%COMP%]{flex-direction:row;gap:8px}.header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;font-size:13px}.header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}}.stats-section[_ngcontent-%COMP%]{margin-bottom:32px}.main-content[_ngcontent-%COMP%]{background:var(--mat-sys-surface-container-low);border-radius:16px;box-shadow:0 2px 12px var(--mat-sys-shadow);border:1px solid var(--mat-sys-outline-variant);overflow:hidden}.tab-content[_ngcontent-%COMP%]{padding:24px;min-height:400px}@media (max-width: 768px){.tab-content[_ngcontent-%COMP%]{padding:16px}}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:48px;gap:16px}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--mat-sys-on-surface-variant);font-size:14px}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:48px;text-align:center}.empty-state[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;color:var(--mat-sys-outline);margin-bottom:16px}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;font-size:18px;font-weight:600;color:var(--mat-sys-on-surface)}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--mat-sys-on-surface-variant);font-size:14px;max-width:300px;line-height:1.5}@media (max-width: 1200px){.prestamos-container[_ngcontent-%COMP%]{padding:16px}.prestamos-header[_ngcontent-%COMP%], .stats-section[_ngcontent-%COMP%]{margin-bottom:24px}}@media (max-width: 768px){.prestamos-container[_ngcontent-%COMP%]{padding:12px;min-height:calc(100vh - 56px)}.prestamos-header[_ngcontent-%COMP%]{margin-bottom:20px;border-radius:12px}.main-content[_ngcontent-%COMP%]{border-radius:12px}.stats-section[_ngcontent-%COMP%]{margin-bottom:20px}}@media (max-width: 480px){.prestamos-container[_ngcontent-%COMP%]{padding:8px}.prestamos-header[_ngcontent-%COMP%]{margin-bottom:16px;padding:16px;border-radius:8px}.main-content[_ngcontent-%COMP%]{border-radius:8px}.stats-section[_ngcontent-%COMP%]{margin-bottom:16px}.tab-content[_ngcontent-%COMP%]{padding:12px}}.prestamos-container[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.prestamos-header[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInDown .4s ease-out}@keyframes _ngcontent-%COMP%_slideInDown{0%{opacity:0;transform:translateY(-30px)}to{opacity:1;transform:translateY(0)}}.main-content[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInUp .4s ease-out .1s both}@keyframes _ngcontent-%COMP%_slideInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{transition:all .2s ease}.header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px var(--mat-sys-shadow)}.prestamos-header[_ngcontent-%COMP%]:focus-within{outline:2px solid var(--mat-sys-primary);outline-offset:2px}.header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{outline:2px solid var(--mat-sys-primary);outline-offset:2px}@media print{.prestamos-container[_ngcontent-%COMP%]{background-color:var(--mat-sys-surface);padding:0}.prestamos-header[_ngcontent-%COMP%]{box-shadow:none;border:1px solid var(--mat-sys-outline)}.header-actions[_ngcontent-%COMP%]{display:none}.main-content[_ngcontent-%COMP%]{box-shadow:none;border:1px solid var(--mat-sys-outline)}.prestamos-tabs[_ngcontent-%COMP%]     .mat-mdc-tab-header{display:none}}@media (prefers-contrast: high){.prestamos-header[_ngcontent-%COMP%], .main-content[_ngcontent-%COMP%]{border-width:2px;border-color:var(--mat-sys-on-surface)}.page-title[_ngcontent-%COMP%]{color:var(--mat-sys-on-surface)}.page-subtitle[_ngcontent-%COMP%]{color:var(--mat-sys-on-surface-variant)}}@media (prefers-reduced-motion: reduce){.prestamos-container[_ngcontent-%COMP%], .prestamos-header[_ngcontent-%COMP%], .main-content[_ngcontent-%COMP%], .prestamos-tabs[_ngcontent-%COMP%]     .mat-mdc-tab-body-content, .header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{animation:none;transition:none}.header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:none}}"]})};var Kt=class s{static \u0275fac=function(e){return new(e||s)};static \u0275mod=vt({type:s});static \u0275inj=Pt({imports:[St,Et,wt,Ut.forChild([{path:"",component:it}]),Ht]})};export{Kt as PrestamosModule};
