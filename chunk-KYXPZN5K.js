import{n as R}from"./chunk-L3FVVQOB.js";import{A as At,B as nt,E as Lt,F as at,L as ot,P as it,a as zt,b as Nt,c as jt,d as Vt,e as Bt,ia as Gt,ja as Wt,ma as Ht,na as qt,ra as Kt,sa as Yt,xa as Jt,za as Qt}from"./chunk-YJA7LBCE.js";import{$a as kt,Bd as Ut,Ea as d,F as vt,Fa as r,Ga as o,Ha as k,J as Mt,Jb as St,K as xt,Kb as F,La as Ot,Lb as T,Ma as bt,Nb as It,Oa as E,Ob as Et,P,Pb as Dt,Q as O,Qa as M,Ra as u,Sb as J,Tb as Ft,_ as j,_b as Q,a as ut,ab as K,ac as A,b as ft,bb as B,cb as yt,db as l,dc as X,ea as s,eb as _,fb as S,gc as Z,h as q,i as _t,ia as U,kc as tt,ma as y,md as et,n as z,na as Pt,o as N,pb as I,qa as h,qb as D,rb as Tt,rd as L,sa as V,sb as Y,td as w,ub as wt,vc as $t,vd as Rt}from"./chunk-JUX2TMYD.js";function te(a,t){if(a&1&&(r(0,"div",6)(1,"mat-icon"),l(2),o(),r(3,"span"),l(4),o()()),a&2){let e=u();d("ngClass","trend--"+e.trend),s(2),_(e.getTrendIcon()),s(2),_(e.getTrendText())}}var rt=class a{title="";value="";icon="info";color="primary";trend="neutral";getTrendIcon(){switch(this.trend){case"up":return"trending_up";case"down":return"trending_down";default:return"trending_flat"}}getTrendText(){switch(this.trend){case"up":return"Aument\xF3";case"down":return"Disminuy\xF3";default:return"Sin cambios"}}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=y({type:a,selectors:[["app-metric-card"]],inputs:{title:"title",value:"value",icon:"icon",color:"color",trend:"trend"},standalone:!1,decls:10,vars:5,consts:[[1,"stat-card",3,"ngClass"],[1,"stat-icon"],[1,"stat-content"],[1,"stat-value"],[1,"stat-label"],["class","stat-trend",3,"ngClass",4,"ngIf"],[1,"stat-trend",3,"ngClass"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"mat-icon"),l(3),o()(),r(4,"div",2)(5,"div",3),l(6),o(),r(7,"div",4),l(8),o(),h(9,te,5,3,"div",5),o()()),e&2&&(d("ngClass",n.color),s(3),_(n.icon),s(3),_(n.value),s(2),_(n.title),s(),d("ngIf",n.trend!=="neutral"))},dependencies:[St,T,w],styles:['.stat-card[_ngcontent-%COMP%]{background:var(--mat-sys-surface-container-low);border-radius:12px;padding:20px;box-shadow:var(--mat-sys-elevation-level2);border:1px solid var(--mat-sys-outline-variant);transition:all .3s ease;position:relative;overflow:hidden;display:flex;align-items:flex-start;gap:16px}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:var(--mat-sys-elevation-level3)}.stat-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:var(--mat-sys-outline-variant)}.stat-card.primary[_ngcontent-%COMP%]:before{background:var(--mat-sys-primary)}.stat-card.success[_ngcontent-%COMP%]:before{background:var(--mat-sys-success)}.stat-card.warn[_ngcontent-%COMP%]:before{background:var(--mat-sys-error)}.stat-card.accent[_ngcontent-%COMP%]:before{background:var(--mat-sys-secondary)}.stat-icon[_ngcontent-%COMP%]{flex-shrink:0;width:48px;height:48px;border-radius:12px;display:flex;align-items:center;justify-content:center;background-color:var(--mat-sys-surface-variant)}.stat-icon[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px;color:var(--mat-sys-on-surface-variant)}.primary[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background-color:var(--mat-sys-primary-container)}.primary[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:var(--mat-sys-on-primary-container)}.success[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background-color:var(--mat-sys-success-container)}.success[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:var(--mat-sys-on-success-container)}.warn[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background-color:var(--mat-sys-error-container)}.warn[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:var(--mat-sys-on-error-container)}.accent[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background-color:var(--mat-sys-secondary-container)}.accent[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:var(--mat-sys-on-secondary-container)}.stat-content[_ngcontent-%COMP%]{flex:1;min-width:0}.stat-value[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:var(--mat-sys-on-surface);margin-bottom:4px;line-height:1.2}@media (max-width: 480px){.stat-value[_ngcontent-%COMP%]{font-size:20px}}.stat-label[_ngcontent-%COMP%]{font-size:14px;color:var(--mat-sys-on-surface-variant);font-weight:500;margin-bottom:4px;text-transform:uppercase;letter-spacing:.5px}.stat-trend[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;font-size:12px;margin-top:8px}.stat-trend[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.stat-trend.trend--up[_ngcontent-%COMP%], .stat-trend.trend--up[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:var(--mat-sys-success)}.stat-trend.trend--down[_ngcontent-%COMP%], .stat-trend.trend--down[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:var(--mat-sys-error)}.stat-trend.trend--neutral[_ngcontent-%COMP%], .stat-trend.trend--neutral[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:var(--mat-sys-outline)}.stat-card[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .3s ease-out}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 768px){.stat-card[_ngcontent-%COMP%]{padding:16px;gap:12px}.stat-icon[_ngcontent-%COMP%]{width:40px;height:40px}.stat-icon[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.stat-value[_ngcontent-%COMP%]{font-size:20px}.stat-label[_ngcontent-%COMP%]{font-size:12px}.stat-trend[_ngcontent-%COMP%]{font-size:11px}.stat-trend[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px}}@media (max-width: 480px){.stat-card[_ngcontent-%COMP%]{padding:12px;gap:10px}.stat-card[_ngcontent-%COMP%]:hover{transform:none}.stat-icon[_ngcontent-%COMP%]{width:36px;height:36px}.stat-icon[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.stat-value[_ngcontent-%COMP%]{font-size:18px}.stat-label[_ngcontent-%COMP%]{font-size:11px;margin-bottom:6px}.stat-trend[_ngcontent-%COMP%]{font-size:10px}.stat-trend[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:12px;width:12px;height:12px}}.stat-card[_ngcontent-%COMP%]:focus-within{outline:2px solid var(--mat-sys-primary);outline-offset:2px}.stat-card[_ngcontent-%COMP%], .stat-icon[_ngcontent-%COMP%], .stat-value[_ngcontent-%COMP%], .stat-label[_ngcontent-%COMP%], .stat-trend[_ngcontent-%COMP%]{transition:all .2s ease}.stat-card[_ngcontent-%COMP%]{will-change:transform,box-shadow}.stat-icon[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{will-change:transform}']})};function ne(a,t){a&1&&(r(0,"div",3)(1,"mat-icon"),l(2,"pie_chart_outline"),o(),r(3,"p"),l(4,"No hay gastos registrados para este mes"),o()())}function ae(a,t){if(a&1&&(r(0,"div",13),k(1,"div",14),r(2,"span",15),l(3),o(),r(4,"span",16),l(5),o()()),a&2){let e=t.$implicit,n=t.index,i=u(2);s(),K("background-color",i.getLegendColor(e.color,n)),s(2),_(e.categoria),s(2),_(i.formatCurrency(e.total))}}function oe(a,t){if(a&1&&(r(0,"div",17),l(1),o()),a&2){let e=u(2);s(),S(" ... y ",e.data.length-20," m\xE1s ")}}function ie(a,t){if(a&1&&(r(0,"div",4)(1,"div",5)(2,"div",6)(3,"span",7),l(4,"Total de Ingresos:"),o(),r(5,"span",8),l(6),o()(),k(7,"canvas",9),o(),r(8,"div",10),h(9,ae,6,4,"div",11),I(10,"slice"),h(11,oe,2,1,"div",12),o()()),a&2){let e=u();s(6),_(e.formatCurrency(e.getTotalAmount())),s(),d("data",e.pieChartData)("options",e.pieChartOptions)("type",e.pieChartType),s(2),d("ngForOf",Y(10,6,e.data,0,20)),s(2),d("ngIf",e.data.length>20)}}var st=class a{data=null;pieChartType="doughnut";fallbackPalette=["#2563eb","#10b981","#f97316","#8b5cf6","#ef4444","#14b8a6","#f59e0b","#6366f1","#0ea5e9","#f472b6"];pieChartData={labels:[],datasets:[{data:[],backgroundColor:[]}]};pieChartOptions={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:t=>{let e=t.label||"",n=t.parsed||0,i=t.dataset.data.reduce((p,C)=>p+C,0),c=i>0?(n/i*100).toFixed(1):0;return`${e}: ${this.formatCurrency(n)} (${c}%)`}}}},cutout:"70%",elements:{arc:{borderWidth:2,borderColor:"var(--mat-sys-surface)"}}};ngOnChanges(t){t.data&&this.data&&this.updateChartData()}updateChartData(){if(!this.data||this.data.length===0){this.pieChartData={labels:[],datasets:[{data:[],backgroundColor:[]}]};return}let t=[...this.data].sort((n,i)=>i.total-n.total),e=t.map((n,i)=>this.resolveColor(n.color,i));this.pieChartData={labels:t.map(n=>n.categoria),datasets:[{data:t.map(n=>n.total),backgroundColor:e,hoverBackgroundColor:e.map(n=>this.adjustHoverColor(n)),borderColor:"var(--mat-sys-surface)",borderWidth:t.length===1?6:2}]}}formatCurrency(t){return new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS",minimumFractionDigits:0,maximumFractionDigits:0}).format(t)}getTotalAmount(){return!this.data||this.data.length===0?0:this.data.reduce((t,e)=>t+e.total,0)}getLegendColor(t,e){return this.resolveColor(t,e)}resolveColor(t,e){let n=this.fallbackPalette[e%this.fallbackPalette.length];if(!t)return n;let i=t.trim();if(i.startsWith("var(")&&typeof window<"u"){let c=i.slice(4,-1).trim();if(c){let p=getComputedStyle(document.documentElement).getPropertyValue(c).trim();if(p)return p}}return this.isSupportedColor(i)?i:n}isSupportedColor(t){return t?!!(/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/.test(t)||typeof CSS<"u"&&CSS.supports&&CSS.supports("color",t)):!1}adjustHoverColor(t){let e=t.trim();return e.startsWith("#")?this.lightenColor(e,-20):e}lightenColor(t,e){try{let n=parseInt(t.slice(1,3),16),i=parseInt(t.slice(3,5),16),c=parseInt(t.slice(5,7),16),p=Math.floor(255*e/100);return n=Math.max(0,Math.min(255,n+p)),i=Math.max(0,Math.min(255,i+p)),c=Math.max(0,Math.min(255,c+p)),`#${n.toString(16).padStart(2,"0")}${i.toString(16).padStart(2,"0")}${c.toString(16).padStart(2,"0")}`}catch{return t}}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=y({type:a,selectors:[["app-expense-chart"]],inputs:{data:"data"},standalone:!1,features:[j],decls:3,vars:2,consts:[[1,"chart-container"],["class","no-data",4,"ngIf"],["class","chart-wrapper",4,"ngIf"],[1,"no-data"],[1,"chart-wrapper"],[1,"chart-header"],[1,"legend-total"],[1,"total-label"],[1,"total-value"],["baseChart","",3,"data","options","type"],[1,"chart-legend"],["class","legend-item",4,"ngFor","ngForOf"],["class","legend-item more-items",4,"ngIf"],[1,"legend-item"],[1,"legend-color"],[1,"legend-label"],[1,"legend-value"],[1,"legend-item","more-items"]],template:function(e,n){e&1&&(r(0,"div",0),h(1,ne,5,0,"div",1)(2,ie,12,10,"div",2),o()),e&2&&(s(),d("ngIf",!n.data||n.data.length===0),s(),d("ngIf",n.data&&n.data.length>0))},dependencies:[F,T,w,R,J],styles:['@charset "UTF-8";[_nghost-%COMP%]{margin-bottom:0;width:100%;padding-inline:24px}.chart-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column}.chart-wrapper[_ngcontent-%COMP%]{position:relative;height:100%;width:100%;display:flex;flex-direction:row;align-items:center;justify-content:center;gap:24px}canvas[_ngcontent-%COMP%]{max-height:200px;max-width:200px;flex-shrink:0}.no-data[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;color:var(--mat-sys-on-surface-variant);opacity:.7}.no-data[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;margin-bottom:16px}.no-data[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px;text-align:center}.chart-header[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;gap:10px}.legend-total[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px 0;margin-bottom:8px;font-weight:600}.legend-total[_ngcontent-%COMP%]   .total-label[_ngcontent-%COMP%]{color:var(--mat-sys-on-surface);font-size:14px}.legend-total[_ngcontent-%COMP%]   .total-value[_ngcontent-%COMP%]{color:var(--mat-sys-primary);font-size:14px;font-weight:700}.chart-legend[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:6px;padding:0 16px;justify-content:flex-start;max-height:250px;overflow-y:auto}.chart-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:12px;padding:2px 0}.chart-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .legend-color[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%;flex-shrink:0}.chart-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .legend-label[_ngcontent-%COMP%]{flex-grow:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:var(--mat-sys-on-surface-variant)}.chart-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .legend-value[_ngcontent-%COMP%]{font-weight:600;color:var(--mat-sys-on-surface);font-size:12px}.chart-legend[_ngcontent-%COMP%]   .legend-item.more-items[_ngcontent-%COMP%]{color:var(--mat-sys-outline);font-style:italic;justify-content:center;margin-top:4px}@media (max-width: 768px){.chart-wrapper[_ngcontent-%COMP%]{flex-direction:column!important;gap:16px}canvas[_ngcontent-%COMP%]{margin-bottom:16px}.chart-legend[_ngcontent-%COMP%]{width:100%;justify-content:flex-start}}']})};function se(a,t){a&1&&(r(0,"div",3)(1,"mat-icon"),l(2,"pie_chart_outline"),o(),r(3,"p"),l(4,"No hay ingresos registrados para este mes"),o()())}function ce(a,t){if(a&1&&(r(0,"div",13),k(1,"div",14),r(2,"span",15),l(3),o(),r(4,"span",16),l(5),o()()),a&2){let e=t.$implicit,n=t.index,i=u(2);s(),K("background-color",i.getLegendColor(e.color,n)),s(2),_(e.fuente),s(2),_(i.formatCurrency(e.total))}}function le(a,t){if(a&1&&(r(0,"div",17),l(1),o()),a&2){let e=u(2);s(),S(" ... y ",e.data.length-20," m\xE1s ")}}function de(a,t){if(a&1&&(r(0,"div",4)(1,"div",5)(2,"div",6)(3,"span",7),l(4,"Total de Ingresos:"),o(),r(5,"span",8),l(6),o()(),k(7,"canvas",9),o(),r(8,"div",10),h(9,ce,6,4,"div",11),I(10,"slice"),h(11,le,2,1,"div",12),o()()),a&2){let e=u();s(6),_(e.formatCurrency(e.getTotalAmount())),s(),d("data",e.pieChartData)("options",e.pieChartOptions)("type",e.pieChartType),s(2),d("ngForOf",Y(10,6,e.data,0,20)),s(2),d("ngIf",e.data.length>20)}}var ct=class a{data=null;pieChartType="doughnut";fallbackPalette=["#10b981","#059669","#34d399","#6ee7b7","#a7f3d0","#047857","#065f46","#064e3b","#0d9488","#14b8a6"];pieChartData={labels:[],datasets:[{data:[],backgroundColor:[]}]};pieChartOptions={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:t=>{let e=t.label||"",n=t.parsed||0,i=t.dataset.data.reduce((p,C)=>p+C,0),c=i>0?(n/i*100).toFixed(1):0;return`${e}: ${this.formatCurrency(n)} (${c}%)`}}}},cutout:"70%",elements:{arc:{borderWidth:2,borderColor:"var(--mat-sys-surface)"}}};ngOnChanges(t){t.data&&this.data&&this.updateChartData()}updateChartData(){if(!this.data||this.data.length===0){this.pieChartData={labels:[],datasets:[{data:[],backgroundColor:[]}]};return}let t=[...this.data].sort((n,i)=>i.total-n.total),e=t.map((n,i)=>this.resolveColor(n.color,i));this.pieChartData={labels:t.map(n=>n.fuente),datasets:[{data:t.map(n=>n.total),backgroundColor:e,hoverBackgroundColor:e.map(n=>this.adjustHoverColor(n)),borderColor:"var(--mat-sys-surface)",borderWidth:t.length===1?6:2}]}}formatCurrency(t){return new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS",minimumFractionDigits:0,maximumFractionDigits:0}).format(t)}getTotalAmount(){return!this.data||this.data.length===0?0:this.data.reduce((t,e)=>t+e.total,0)}getLegendColor(t,e){return this.resolveColor(t,e)}resolveColor(t,e){let n=this.fallbackPalette[e%this.fallbackPalette.length];if(!t)return n;let i=t.trim();if(i.startsWith("var(")&&typeof window<"u"){let c=i.slice(4,-1).trim();if(c){let p=getComputedStyle(document.documentElement).getPropertyValue(c).trim();if(p)return p}}return this.isSupportedColor(i)?i:n}isSupportedColor(t){return t?!!(/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/.test(t)||typeof CSS<"u"&&CSS.supports&&CSS.supports("color",t)):!1}adjustHoverColor(t){let e=t.trim();return e.startsWith("#")?this.lightenColor(e,20):e}lightenColor(t,e){try{let n=parseInt(t.slice(1,3),16),i=parseInt(t.slice(3,5),16),c=parseInt(t.slice(5,7),16),p=Math.floor(255*e/100);return n=Math.max(0,Math.min(255,n+p)),i=Math.max(0,Math.min(255,i+p)),c=Math.max(0,Math.min(255,c+p)),`#${n.toString(16).padStart(2,"0")}${i.toString(16).padStart(2,"0")}${c.toString(16).padStart(2,"0")}`}catch{return t}}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=y({type:a,selectors:[["app-income-chart"]],inputs:{data:"data"},standalone:!1,features:[j],decls:3,vars:2,consts:[[1,"chart-container"],["class","no-data",4,"ngIf"],["class","chart-wrapper",4,"ngIf"],[1,"no-data"],[1,"chart-wrapper"],[1,"chart-header"],[1,"legend-total"],[1,"total-label"],[1,"total-value"],["baseChart","",3,"data","options","type"],[1,"chart-legend"],["class","legend-item",4,"ngFor","ngForOf"],["class","legend-item more-items",4,"ngIf"],[1,"legend-item"],[1,"legend-color"],[1,"legend-label"],[1,"legend-value"],[1,"legend-item","more-items"]],template:function(e,n){e&1&&(r(0,"div",0),h(1,se,5,0,"div",1)(2,de,12,10,"div",2),o()),e&2&&(s(),d("ngIf",!n.data||n.data.length===0),s(),d("ngIf",n.data&&n.data.length>0))},dependencies:[F,T,w,R,J],styles:['@charset "UTF-8";[_nghost-%COMP%]{margin-bottom:0;width:100%;padding-inline:24px}.chart-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column}.chart-wrapper[_ngcontent-%COMP%]{position:relative;height:100%;width:100%;display:flex;flex-direction:row;align-items:center;justify-content:center;gap:24px}canvas[_ngcontent-%COMP%]{max-height:200px;max-width:200px;flex-shrink:0}.no-data[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;color:var(--mat-sys-on-surface-variant);opacity:.7}.no-data[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;margin-bottom:16px}.no-data[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px;text-align:center}.chart-header[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;gap:10px}.legend-total[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px 0;margin-bottom:8px;font-weight:600}.legend-total[_ngcontent-%COMP%]   .total-label[_ngcontent-%COMP%]{color:var(--mat-sys-on-surface);font-size:14px}.legend-total[_ngcontent-%COMP%]   .total-value[_ngcontent-%COMP%]{color:var(--mat-sys-success);font-size:14px;font-weight:700}.chart-legend[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:6px;padding:0 16px;justify-content:flex-start;max-height:250px;overflow-y:auto}.chart-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:12px;padding:2px 0}.chart-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .legend-color[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%;flex-shrink:0}.chart-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .legend-label[_ngcontent-%COMP%]{flex-grow:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:var(--mat-sys-on-surface-variant)}.chart-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .legend-value[_ngcontent-%COMP%]{font-weight:600;color:var(--mat-sys-success);font-size:12px}.chart-legend[_ngcontent-%COMP%]   .legend-item.more-items[_ngcontent-%COMP%]{color:var(--mat-sys-outline);font-style:italic;justify-content:center;margin-top:4px}@media (max-width: 768px){.chart-wrapper[_ngcontent-%COMP%]{flex-direction:column!important;gap:16px}canvas[_ngcontent-%COMP%]{margin-bottom:16px}.chart-legend[_ngcontent-%COMP%]{width:100%;justify-content:flex-start}}']})};function me(a,t){if(a&1){let e=E();r(0,"button",6),M("click",function(){let i=P(e).$implicit,c=u(2);return O(c.onPeriodChange(i.value))}),l(1),o()}if(a&2){let e=t.$implicit,n=u(2);B("active",n.selectedPeriod===e.value),s(),S(" ",e.label," ")}}function ge(a,t){if(a&1&&(r(0,"div",4),h(1,me,2,3,"button",5),o()),a&2){let e=u();s(),d("ngForOf",e.periodOptions)}}function ue(a,t){a&1&&(r(0,"div",7)(1,"mat-icon"),l(2,"trending_up"),o(),r(3,"p"),l(4,"No hay datos suficientes para mostrar el gr\xE1fico"),o()())}function Ce(a,t){if(a&1&&(r(0,"div",8),k(1,"canvas",9),o()),a&2){let e=u();s(),d("data",e.lineChartData)("options",e.lineChartOptions)("type",e.lineChartType)}}var lt=class a{data=null;currentMonth=null;monthSelected=new V;selectedPeriod=24;periodOptions=[{label:"6 meses",value:6},{label:"12 meses",value:12},{label:"24 meses",value:24},{label:"Max",value:48}];filteredData=[];lineChartType="line";lineChartData={labels:[],datasets:[]};lineChartOptions={responsive:!0,maintainAspectRatio:!1,interaction:{intersect:!1,mode:"index"},onClick:(t,e)=>{if(e.length>0){let n=e[0].index;if(this.filteredData[n]){let i=this.filteredData[n].mes;this.monthSelected.emit(i)}}},plugins:{legend:{display:!0,position:"top",labels:{usePointStyle:!0,padding:20,font:{size:12}}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#fff",bodyColor:"#fff",borderColor:"rgba(255, 255, 255, 0.1)",borderWidth:1,callbacks:{label:t=>{let e=t.dataset.label||"",n=t.parsed.y;return`${e}: ${this.formatCurrency(n)}`}}}},scales:{x:{display:!0,grid:{display:!0,color:"rgba(0, 0, 0, 0.1)"},ticks:{font:{size:12},color:"#6b7280"}},y:{display:!0,grid:{display:!0,color:"rgba(0, 0, 0, 0.1)"},ticks:{font:{size:12},color:"#6b7280",callback:t=>`$${(Number(t)/1e3).toFixed(0)}k`}}},elements:{line:{tension:.4},point:{radius:4,hoverRadius:6,borderWidth:2}}};ngOnChanges(t){(t.data&&this.data||t.currentMonth)&&(this.filterDataByPeriod(),this.updateChartData())}onPeriodChange(t){this.selectedPeriod=t,this.filterDataByPeriod(),this.updateChartData()}filterDataByPeriod(){if(!this.data||this.data.length===0){this.filteredData=[];return}if(!this.currentMonth){let c=[...this.data].sort((p,C)=>p.mes.localeCompare(C.mes));this.filteredData=c.slice(-this.selectedPeriod);return}let t=Math.floor(this.selectedPeriod/2),[e,n]=this.currentMonth.split("-").map(Number),i=this.data.filter(c=>{let[p,C]=c.mes.split("-").map(Number),m=(p-e)*12+(C-n);return m>=-t&&m<=t});this.filteredData=i.sort((c,p)=>c.mes.localeCompare(p.mes))}updateChartData(){if(this.filteredData.length===0){this.lineChartData={labels:[],datasets:[]};return}let t=this.filteredData,n=[...new Set(t.map(f=>f.mes.split("-")[0]))].length>1,i=t.map(f=>{let[g,v]=f.mes.split("-"),b=new Date(parseInt(g),parseInt(v)-1);return n?b.toLocaleDateString("es-AR",{month:"short",year:"2-digit"}):b.toLocaleDateString("es-AR",{month:"short"})}),c=this.currentMonth?t.findIndex(f=>f.mes===this.currentMonth):-1,p=t.map((f,g)=>g===c?8:4),C=t.map((f,g)=>g===c?4:2),m=t.map((f,g)=>g===c?8:4),x=t.map((f,g)=>g===c?4:2);this.lineChartData={labels:i,datasets:[{label:"Ingresos",data:t.map(f=>f.totalIngresos),borderColor:"#10b981",backgroundColor:"rgba(16, 185, 129, 0.1)",fill:!1,tension:.4,borderWidth:3,pointBackgroundColor:"#10b981",pointBorderColor:"#10b981",pointHoverBackgroundColor:"#10b981",pointHoverBorderColor:"#fff",pointRadius:p,pointBorderWidth:C,pointHoverRadius:t.map((f,g)=>g===c?10:6)},{label:"Gastos",data:t.map(f=>f.totalGastos),borderColor:"#ef4444",backgroundColor:"rgba(239, 68, 68, 0.1)",fill:!1,tension:.4,borderWidth:3,pointBackgroundColor:"#ef4444",pointBorderColor:"#ef4444",pointHoverBackgroundColor:"#ef4444",pointHoverBorderColor:"#fff",pointRadius:m,pointBorderWidth:x,pointHoverRadius:t.map((f,g)=>g===c?10:6)}]}}formatCurrency(t){return new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS",minimumFractionDigits:0,maximumFractionDigits:0}).format(t)}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=y({type:a,selectors:[["app-income-expense-chart"]],inputs:{data:"data",currentMonth:"currentMonth"},outputs:{monthSelected:"monthSelected"},standalone:!1,features:[j],decls:4,vars:3,consts:[[1,"chart-container"],["class","period-selector",4,"ngIf"],["class","no-data",4,"ngIf"],["class","chart-wrapper",4,"ngIf"],[1,"period-selector"],["mat-stroked-button","",3,"active","click",4,"ngFor","ngForOf"],["mat-stroked-button","",3,"click"],[1,"no-data"],[1,"chart-wrapper"],["baseChart","",3,"data","options","type"]],template:function(e,n){e&1&&(r(0,"div",0),h(1,ge,2,1,"div",1)(2,ue,5,0,"div",2)(3,Ce,2,3,"div",3),o()),e&2&&(s(),d("ngIf",n.data&&n.data.length>0),s(),d("ngIf",!n.data||n.data.length===0),s(),d("ngIf",n.data&&n.data.length>0))},dependencies:[F,T,L,w,R],styles:[".chart-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column}.period-selector[_ngcontent-%COMP%]{position:absolute;top:10px;right:20px;display:flex;justify-content:center;gap:8px;padding:12px 0;margin-bottom:8px}.period-selector[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:80px;font-size:13px;transition:all .2s ease}.period-selector[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:var(--mat-sys-primary);color:var(--mat-sys-on-primary);border-color:var(--mat-sys-primary)}.period-selector[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not(.active){background-color:var(--mat-sys-surface-container-high)}.chart-wrapper[_ngcontent-%COMP%]{position:relative;height:100%;width:100%;flex:1}.no-data[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;color:var(--mat-sys-on-surface-variant);opacity:.7}.no-data[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;margin-bottom:16px}.no-data[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px;text-align:center}"]})};var dt=class a{STORAGE_KEY="financial-app-tasks";tareasSubject=new _t([]);tareas$=this.tareasSubject.asObservable();constructor(){this.loadTasks()}loadTasks(){try{let t=localStorage.getItem(this.STORAGE_KEY);if(t){let e=JSON.parse(t);this.tareasSubject.next(e)}}catch(t){console.error("Error al cargar tareas desde localStorage:",t),this.tareasSubject.next([])}}saveTasks(t){try{localStorage.setItem(this.STORAGE_KEY,JSON.stringify(t)),this.tareasSubject.next(t)}catch(e){console.error("Error al guardar tareas en localStorage:",e)}}getTasks(){return this.tareas$}getTaskById(t){return this.tareasSubject.value.find(n=>n.id===t)}addTask(t){let e=this.tareasSubject.value,n={id:this.generateId(),descripcion:t.trim(),completada:!1,fechaCreacion:new Date().toISOString().split("T")[0]},i=[...e,n];this.saveTasks(i)}updateTask(t,e){let n=this.tareasSubject.value,i=n.findIndex(c=>c.id===t);if(i!==-1){let c=ft(ut(ut({},n[i]),e),{fechaActualizacion:new Date().toISOString().split("T")[0]}),p=[...n];p[i]=c,this.saveTasks(p)}}deleteTask(t){let n=this.tareasSubject.value.filter(i=>i.id!==t);this.saveTasks(n)}toggleTaskCompletion(t){let e=this.getTaskById(t);e&&this.updateTask(t,{completada:!e.completada})}getTotalTasks(){return this.tareasSubject.value.length}getCompletedTasks(){return this.tareasSubject.value.filter(t=>t.completada).length}getPendingTasks(){return this.tareasSubject.value.filter(t=>!t.completada).length}clearCompletedTasks(){let e=this.tareasSubject.value.filter(n=>!n.completada);this.saveTasks(e)}generateId(){return"task_"+Date.now()+"_"+Math.random().toString(36).substr(2,9)}static \u0275fac=function(e){return new(e||a)};static \u0275prov=Mt({token:a,factory:a.\u0275fac,providedIn:"root"})};function xe(a,t){if(a&1){let e=E();r(0,"div",2)(1,"div",3)(2,"mat-checkbox",4),M("change",function(){P(e);let i=u();return O(i.onToggleComplete())}),o(),r(3,"span",5),M("dblclick",function(){P(e);let i=u();return O(i.startEdit())}),l(4),o()(),r(5,"div",6)(6,"button",7),M("click",function(){P(e);let i=u();return O(i.startEdit())}),r(7,"mat-icon"),l(8,"edit"),o()(),r(9,"button",8),M("click",function(){P(e);let i=u();return O(i.onDelete())}),r(10,"mat-icon"),l(11,"delete"),o()()()()}if(a&2){let e=u();s(2),d("checked",e.task.completada),s(),B("completed-text",e.task.completada),s(),S(" ",e.task.descripcion," ")}}function Pe(a,t){a&1&&(r(0,"mat-error"),l(1," La descripci\xF3n es requerida "),o())}function Oe(a,t){a&1&&(r(0,"mat-error"),l(1," La descripci\xF3n debe tener al menos 1 car\xE1cter "),o())}function be(a,t){if(a&1){let e=E();r(0,"div",9)(1,"mat-form-field",10)(2,"input",11),M("keydown",function(i){P(e);let c=u();return O(c.onKeyPress(i))}),o(),h(3,Pe,2,0,"mat-error",12)(4,Oe,2,0,"mat-error",12),o(),r(5,"div",13)(6,"button",14),M("click",function(){P(e);let i=u();return O(i.saveEdit())}),r(7,"mat-icon"),l(8,"check"),o()(),r(9,"button",15),M("click",function(){P(e);let i=u();return O(i.cancelEdit())}),r(10,"mat-icon"),l(11,"close"),o()()()()}if(a&2){let e=u();s(2),d("id","edit-input-"+e.task.id)("formControl",e.editControl),s(),d("ngIf",e.editControl.hasError("required")),s(),d("ngIf",e.editControl.hasError("minlength")),s(2),d("disabled",e.editControl.invalid)}}var pt=class a{task;toggleComplete=new V;updateTask=new V;deleteTask=new V;isEditing=!1;editControl=new Z("",[A.required,A.minLength(1)]);ngOnInit(){if(!this.task)throw new Error("Task input is required")}onToggleComplete(){this.toggleComplete.emit(this.task.id)}startEdit(){this.isEditing=!0,this.editControl.setValue(this.task.descripcion),setTimeout(()=>{let t=document.querySelector(`#edit-input-${this.task.id}`);t&&(t.focus(),t.select())},0)}cancelEdit(){this.isEditing=!1,this.editControl.setValue(this.task.descripcion)}saveEdit(){if(this.editControl.valid&&this.editControl.value?.trim()){let t=this.editControl.value.trim();t!==this.task.descripcion&&this.updateTask.emit({id:this.task.id,descripcion:t}),this.isEditing=!1}}onKeyPress(t){t.key==="Enter"?(t.preventDefault(),this.saveEdit()):t.key==="Escape"&&(t.preventDefault(),this.cancelEdit())}onDelete(){this.deleteTask.emit(this.task.id)}getTaskClasses(){return`task-item ${this.task.completada?"completed":"pending"}`}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=y({type:a,selectors:[["app-task-item"]],inputs:{task:"task"},outputs:{toggleComplete:"toggleComplete",updateTask:"updateTask",deleteTask:"deleteTask"},standalone:!1,decls:3,vars:4,consts:[["class","task-view",4,"ngIf"],["class","task-edit",4,"ngIf"],[1,"task-view"],[1,"task-content"],["color","primary",1,"task-checkbox",3,"change","checked"],[1,"task-description",3,"dblclick"],[1,"task-actions"],["mat-icon-button","","matTooltip","Editar tarea",1,"edit-button",3,"click"],["mat-icon-button","","matTooltip","Eliminar tarea",1,"delete-button",3,"click"],[1,"task-edit"],["appearance","outline",1,"edit-field"],["matInput","","placeholder","Descripci\xF3n de la tarea",3,"keydown","id","formControl"],[4,"ngIf"],[1,"edit-actions"],["mat-icon-button","","matTooltip","Guardar cambios",1,"save-button",3,"click","disabled"],["mat-icon-button","","matTooltip","Cancelar edici\xF3n",1,"cancel-button",3,"click"]],template:function(e,n){e&1&&(r(0,"div"),h(1,xe,12,4,"div",0)(2,be,12,5,"div",1),o()),e&2&&(yt(n.getTaskClasses()),s(),d("ngIf",!n.isEditing),s(),d("ngIf",n.isEditing))},dependencies:[T,et,w,it,at,nt,ot,Gt,Q,X,tt],styles:['@charset "UTF-8";.task-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:8px 12px;margin-bottom:4px;background:var(--mat-sys-surface);border-radius:8px;border:1px solid var(--mat-sys-outline-variant);transition:all .2s ease}.task-item[_ngcontent-%COMP%]:hover{border-color:var(--mat-sys-primary);box-shadow:var(--mat-sys-elevation-level2)}.task-item.completed[_ngcontent-%COMP%]{background:var(--mat-sys-surface-container-low);border-color:var(--mat-sys-surface-container-high)}.task-item[_ngcontent-%COMP%]   .task-view[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%}.task-item[_ngcontent-%COMP%]   .task-view[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]{display:flex;align-items:center;flex:1;gap:8px}.task-item[_ngcontent-%COMP%]   .task-view[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .task-checkbox[_ngcontent-%COMP%]{flex-shrink:0}.task-item[_ngcontent-%COMP%]   .task-view[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .task-description[_ngcontent-%COMP%]{flex:1;font-size:13px;line-height:1.3;color:var(--mat-sys-on-surface);cursor:pointer;word-break:break-word;transition:color .2s ease}.task-item[_ngcontent-%COMP%]   .task-view[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .task-description.completed-text[_ngcontent-%COMP%]{color:var(--mat-sys-on-surface-variant);text-decoration:line-through}.task-item[_ngcontent-%COMP%]   .task-view[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .task-description[_ngcontent-%COMP%]:hover{color:var(--mat-sys-primary)}.task-item[_ngcontent-%COMP%]   .task-view[_ngcontent-%COMP%]   .task-actions[_ngcontent-%COMP%]{display:flex;gap:2px;opacity:1;transition:none}.task-item[_ngcontent-%COMP%]   .task-view[_ngcontent-%COMP%]   .task-actions[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%], .task-item[_ngcontent-%COMP%]   .task-view[_ngcontent-%COMP%]   .task-actions[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]{padding:4px;min-width:unset;height:28px;width:28px;line-height:28px;font-size:18px}.task-item[_ngcontent-%COMP%]   .task-view[_ngcontent-%COMP%]   .task-actions[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]{color:var(--mat-sys-on-surface-variant)}.task-item[_ngcontent-%COMP%]   .task-view[_ngcontent-%COMP%]   .task-actions[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]:hover{color:var(--mat-sys-primary);background:rgba(var(--mat-sys-primary-rgb),.1)}.task-item[_ngcontent-%COMP%]   .task-view[_ngcontent-%COMP%]   .task-actions[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]{color:var(--mat-sys-error)}.task-item[_ngcontent-%COMP%]   .task-view[_ngcontent-%COMP%]   .task-actions[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]:hover{color:var(--mat-sys-error);background:rgba(var(--mat-sys-error-rgb),.1)}.task-item[_ngcontent-%COMP%]:hover   .task-actions[_ngcontent-%COMP%]{opacity:1}.task-item[_ngcontent-%COMP%]   .task-edit[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;gap:8px}.task-item[_ngcontent-%COMP%]   .task-edit[_ngcontent-%COMP%]   .edit-field[_ngcontent-%COMP%]{flex:1;margin-bottom:0}.task-item[_ngcontent-%COMP%]   .task-edit[_ngcontent-%COMP%]   .edit-field[_ngcontent-%COMP%]     .mat-mdc-form-field-wrapper{padding-bottom:0}.task-item[_ngcontent-%COMP%]   .task-edit[_ngcontent-%COMP%]   .edit-field[_ngcontent-%COMP%]     .mat-mdc-text-field-wrapper{height:36px}.task-item[_ngcontent-%COMP%]   .task-edit[_ngcontent-%COMP%]   .edit-field[_ngcontent-%COMP%]     .mat-mdc-form-field-subscript-wrapper{display:none}.task-item[_ngcontent-%COMP%]   .task-edit[_ngcontent-%COMP%]   .edit-actions[_ngcontent-%COMP%]{display:flex;gap:2px;flex-shrink:0}.task-item[_ngcontent-%COMP%]   .task-edit[_ngcontent-%COMP%]   .edit-actions[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%], .task-item[_ngcontent-%COMP%]   .task-edit[_ngcontent-%COMP%]   .edit-actions[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]{padding:4px;min-width:unset;height:28px;width:28px;line-height:28px;font-size:18px}.task-item[_ngcontent-%COMP%]   .task-edit[_ngcontent-%COMP%]   .edit-actions[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{color:var(--mat-sys-success)}.task-item[_ngcontent-%COMP%]   .task-edit[_ngcontent-%COMP%]   .edit-actions[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]:hover:not(:disabled){background:rgba(var(--mat-sys-success-rgb),.1)}.task-item[_ngcontent-%COMP%]   .task-edit[_ngcontent-%COMP%]   .edit-actions[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]:disabled{color:var(--mat-sys-outline)}.task-item[_ngcontent-%COMP%]   .task-edit[_ngcontent-%COMP%]   .edit-actions[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]{color:var(--mat-sys-on-surface-variant)}.task-item[_ngcontent-%COMP%]   .task-edit[_ngcontent-%COMP%]   .edit-actions[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]:hover{color:var(--mat-sys-error);background:rgba(var(--mat-sys-error-rgb),.1)}@media (max-width: 768px){.task-item[_ngcontent-%COMP%]{padding:8px 12px}.task-item[_ngcontent-%COMP%]   .task-view[_ngcontent-%COMP%]   .task-actions[_ngcontent-%COMP%]{opacity:1}.task-item[_ngcontent-%COMP%]   .task-edit[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:8px}.task-item[_ngcontent-%COMP%]   .task-edit[_ngcontent-%COMP%]   .edit-actions[_ngcontent-%COMP%]{justify-content:center}}']})};function ye(a,t){if(a&1&&(r(0,"div",14)(1,"div",15)(2,"span",16),l(3),o(),r(4,"span",17),l(5,"Total"),o()(),r(6,"div",15)(7,"span",16),l(8),o(),r(9,"span",17),l(10,"Pendientes"),o()(),r(11,"div",15)(12,"span",16),l(13),o(),r(14,"span",17),l(15,"Completadas"),o()()()),a&2){let e=u();s(3),_(e.totalTasks),s(5),_(e.pendingTasks),s(5),_(e.completedTasks)}}function Te(a,t){if(a&1&&(r(0,"div",18),k(1,"mat-progress-bar",19),r(2,"span",20),l(3),o()()),a&2){let e=u();s(),d("value",e.getProgressPercentage()),s(2),S("",e.getProgressPercentage(),"% completado")}}function we(a,t){a&1&&(r(0,"mat-error"),l(1," La descripci\xF3n es requerida "),o())}function Se(a,t){a&1&&(r(0,"mat-error"),l(1," La descripci\xF3n debe tener al menos 1 car\xE1cter "),o())}function Ie(a,t){if(a&1){let e=E();r(0,"app-task-item",25),M("toggleComplete",function(i){P(e);let c=u(2);return O(c.onToggleTaskComplete(i))})("updateTask",function(i){P(e);let c=u(2);return O(c.onUpdateTask(i))})("deleteTask",function(i){P(e);let c=u(2);return O(c.onDeleteTask(i))}),o()}if(a&2){let e=t.$implicit;d("task",e)}}function Ee(a,t){if(a&1){let e=E();r(0,"div",26)(1,"button",27),M("click",function(){P(e);let i=u(2);return O(i.clearCompletedTasks())}),r(2,"mat-icon"),l(3,"clear_all"),o(),l(4),o()()}if(a&2){let e=u(2);s(4),S(" Limpiar completadas (",e.completedTasks,") ")}}function De(a,t){if(a&1&&(r(0,"div",21)(1,"div",22),h(2,Ie,1,1,"app-task-item",23),o(),h(3,Ee,5,1,"div",24),o()),a&2){let e=u();s(2),d("ngForOf",e.tasks)("ngForTrackBy",e.trackByTaskId),s(),d("ngIf",e.hasCompletedTasks())}}function Fe(a,t){a&1&&(r(0,"div",28)(1,"mat-icon",29),l(2,"assignment"),o(),r(3,"h4",30),l(4,"No hay tareas"),o(),r(5,"p",31),l(6," Agrega tu primera tarea para comenzar a organizar tus actividades. "),o()())}var mt=class a{constructor(t){this.taskService=t}destroy$=new q;tasks=[];newTaskControl=new Z("",[A.required,A.minLength(1)]);totalTasks=0;completedTasks=0;pendingTasks=0;ngOnInit(){this.loadTasks()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadTasks(){this.taskService.getTasks().pipe(vt(this.destroy$)).subscribe(t=>{this.tasks=t,this.updateStatistics()})}updateStatistics(){this.totalTasks=this.taskService.getTotalTasks(),this.completedTasks=this.taskService.getCompletedTasks(),this.pendingTasks=this.taskService.getPendingTasks()}addTask(){if(this.newTaskControl.valid&&this.newTaskControl.value?.trim()){let t=this.newTaskControl.value.trim();this.taskService.addTask(t),this.newTaskControl.reset()}}onKeyPress(t){t.key==="Enter"&&(t.preventDefault(),this.addTask())}onToggleTaskComplete(t){this.taskService.toggleTaskCompletion(t)}onUpdateTask(t){this.taskService.updateTask(t.id,{descripcion:t.descripcion})}onDeleteTask(t){this.taskService.deleteTask(t)}clearCompletedTasks(){this.completedTasks>0&&this.taskService.clearCompletedTasks()}getProgressPercentage(){return this.totalTasks===0?0:Math.round(this.completedTasks/this.totalTasks*100)}hasCompletedTasks(){return this.completedTasks>0}hasTasks(){return this.totalTasks>0}trackByTaskId(t,e){return e.id}static \u0275fac=function(e){return new(e||a)(U(dt))};static \u0275cmp=y({type:a,selectors:[["app-tasks-list"]],standalone:!1,decls:22,vars:8,consts:[["noTasksTemplate",""],[1,"tasks-container"],[1,"tasks-header"],[1,"header-content"],[1,"tasks-title"],[1,"title-icon"],["class","tasks-stats",4,"ngIf"],["class","progress-section",4,"ngIf"],[1,"add-task-section"],["appearance","outline",1,"add-task-field"],["matInput","","placeholder","Escribe una nueva tarea...",3,"keydown","formControl"],["matSuffix","","mat-icon-button","","matTooltip","Agregar tarea",3,"click","disabled"],[4,"ngIf"],["class","tasks-list",4,"ngIf","ngIfElse"],[1,"tasks-stats"],[1,"stats-item"],[1,"stats-number"],[1,"stats-label"],[1,"progress-section"],["mode","determinate",1,"progress-bar",3,"value"],[1,"progress-text"],[1,"tasks-list"],[1,"tasks-scroll"],[3,"task","toggleComplete","updateTask","deleteTask",4,"ngFor","ngForOf","ngForTrackBy"],["class","list-actions",4,"ngIf"],[3,"toggleComplete","updateTask","deleteTask","task"],[1,"list-actions"],["mat-stroked-button","","color","warn",1,"clear-completed-button",3,"click"],[1,"no-tasks"],[1,"no-tasks-icon"],[1,"no-tasks-title"],[1,"no-tasks-message"]],template:function(e,n){if(e&1){let i=E();r(0,"div",1)(1,"div",2)(2,"div",3)(3,"h3",4)(4,"mat-icon",5),l(5,"task_alt"),o(),l(6," Lista de Tareas "),o(),h(7,ye,16,3,"div",6),o(),h(8,Te,4,2,"div",7),o(),r(9,"div",8)(10,"mat-form-field",9)(11,"mat-label"),l(12,"Nueva tarea"),o(),r(13,"input",10),M("keydown",function(p){return P(i),O(n.onKeyPress(p))}),o(),r(14,"button",11),M("click",function(){return P(i),O(n.addTask())}),r(15,"mat-icon"),l(16,"add"),o()(),h(17,we,2,0,"mat-error",12)(18,Se,2,0,"mat-error",12),o()(),h(19,De,4,3,"div",13)(20,Fe,7,0,"ng-template",null,0,wt),o()}if(e&2){let i=kt(21);s(7),d("ngIf",n.hasTasks()),s(),d("ngIf",n.hasTasks()),s(5),d("formControl",n.newTaskControl),s(),d("disabled",n.newTaskControl.invalid),s(3),d("ngIf",n.newTaskControl.hasError("required")),s(),d("ngIf",n.newTaskControl.hasError("minlength")),s(),d("ngIf",n.hasTasks())("ngIfElse",i)}},dependencies:[F,T,L,et,w,it,at,At,nt,Lt,ot,Wt,Q,X,tt,pt],styles:[".tasks-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;background:var(--mat-sys-surface-container-low);border-radius:12px;overflow:hidden;border:1px solid var(--mat-sys-outline-variant)}.tasks-header[_ngcontent-%COMP%]{background:var(--mat-sys-surface);padding:20px;border-bottom:1px solid var(--mat-sys-outline-variant)}.tasks-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.tasks-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .tasks-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin:0;font-size:18px;font-weight:600;color:var(--mat-sys-on-surface)}.tasks-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .tasks-title[_ngcontent-%COMP%]   .title-icon[_ngcontent-%COMP%]{color:var(--mat-sys-primary);font-size:20px}.tasks-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .tasks-stats[_ngcontent-%COMP%]{display:flex;gap:16px}.tasks-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .tasks-stats[_ngcontent-%COMP%]   .stats-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center}.tasks-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .tasks-stats[_ngcontent-%COMP%]   .stats-item[_ngcontent-%COMP%]   .stats-number[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:var(--mat-sys-primary);line-height:1}.tasks-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .tasks-stats[_ngcontent-%COMP%]   .stats-item[_ngcontent-%COMP%]   .stats-label[_ngcontent-%COMP%]{font-size:11px;color:var(--mat-sys-on-surface-variant);text-transform:uppercase;letter-spacing:.5px;margin-top:2px}.tasks-header[_ngcontent-%COMP%]   .progress-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.tasks-header[_ngcontent-%COMP%]   .progress-section[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{flex:1;height:6px;border-radius:3px}.tasks-header[_ngcontent-%COMP%]   .progress-section[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]     .mat-mdc-progress-bar-buffer{background:var(--mat-sys-primary-container)}.tasks-header[_ngcontent-%COMP%]   .progress-section[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]     .mat-mdc-progress-bar-fill:after{background:var(--mat-sys-primary)}.tasks-header[_ngcontent-%COMP%]   .progress-section[_ngcontent-%COMP%]   .progress-text[_ngcontent-%COMP%]{font-size:12px;color:var(--mat-sys-on-surface-variant);font-weight:500;white-space:nowrap}.add-task-section[_ngcontent-%COMP%]{padding:16px 20px;background:var(--mat-sys-surface);border-bottom:1px solid var(--mat-sys-outline-variant)}.add-task-section[_ngcontent-%COMP%]   .add-task-field[_ngcontent-%COMP%]{width:100%;margin-bottom:0}.add-task-section[_ngcontent-%COMP%]   .add-task-field[_ngcontent-%COMP%]     .mat-mdc-form-field-wrapper{padding-bottom:0}.add-task-section[_ngcontent-%COMP%]   .add-task-field[_ngcontent-%COMP%]     .mat-mdc-text-field-wrapper{border-radius:8px}.add-task-section[_ngcontent-%COMP%]   .add-task-field[_ngcontent-%COMP%]     .mat-mdc-form-field-subscript-wrapper{margin-top:4px}.tasks-list[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-height:0}.tasks-list[_ngcontent-%COMP%]   .tasks-scroll[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:16px 20px}.tasks-list[_ngcontent-%COMP%]   .tasks-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.tasks-list[_ngcontent-%COMP%]   .tasks-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--mat-sys-surface-container-high);border-radius:3px}.tasks-list[_ngcontent-%COMP%]   .tasks-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--mat-sys-outline);border-radius:3px}.tasks-list[_ngcontent-%COMP%]   .tasks-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--mat-sys-on-surface-variant)}.tasks-list[_ngcontent-%COMP%]   .list-actions[_ngcontent-%COMP%]{padding:16px 20px;background:var(--mat-sys-surface);border-top:1px solid var(--mat-sys-outline-variant)}.tasks-list[_ngcontent-%COMP%]   .list-actions[_ngcontent-%COMP%]   .clear-completed-button[_ngcontent-%COMP%]{width:100%;height:40px;border-radius:8px;font-size:13px;font-weight:500}.tasks-list[_ngcontent-%COMP%]   .list-actions[_ngcontent-%COMP%]   .clear-completed-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px;font-size:18px}.no-tasks[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px;text-align:center}.no-tasks[_ngcontent-%COMP%]   .no-tasks-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;color:var(--mat-sys-outline);margin-bottom:16px}.no-tasks[_ngcontent-%COMP%]   .no-tasks-title[_ngcontent-%COMP%]{margin:0 0 8px;font-size:16px;font-weight:500;color:var(--mat-sys-on-surface-variant)}.no-tasks[_ngcontent-%COMP%]   .no-tasks-message[_ngcontent-%COMP%]{margin:0;font-size:14px;color:var(--mat-sys-on-surface-variant);line-height:1.4;max-width:200px}@media (max-width: 768px){.tasks-header[_ngcontent-%COMP%]{padding:16px}.tasks-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:12px}.tasks-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .tasks-title[_ngcontent-%COMP%]{justify-content:center}.tasks-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .tasks-stats[_ngcontent-%COMP%]{justify-content:center;gap:20px}.add-task-section[_ngcontent-%COMP%], .tasks-list[_ngcontent-%COMP%]   .tasks-scroll[_ngcontent-%COMP%], .list-actions[_ngcontent-%COMP%]{padding:12px 16px}.no-tasks[_ngcontent-%COMP%]{padding:30px 16px}}.tasks-list[_ngcontent-%COMP%]   app-task-item[_ngcontent-%COMP%]{display:block}"]})};function ze(a,t){if(a&1&&(Ot(0),k(1,"app-metric-card",19)(2,"app-metric-card",20)(3,"app-metric-card",21)(4,"app-metric-card",22),bt()),a&2){let e=t.ngIf,n=u();s(),d("value",n.formatCurrency(e.totalIngresos)),s(),d("value",n.formatCurrency(e.totalGastos)),s(),d("value",n.formatCurrency(e.balance))("color",n.getBalanceColor(e.balance)),s(),d("value",n.formatCurrency(e.balanceAcumulado))}}function Ne(a,t){a&1&&(r(0,"div",23),k(1,"mat-spinner",24),r(2,"p"),l(3,"Actualizando tu dashboard..."),o()())}var gt=class a{constructor(t,e){this.appStateService=t;this.calculationsService=e;this.currentMonth$=this.appStateService.currentMonth$,this.metrics$=N([this.appStateService.monthlySummaries$,this.appStateService.currentMonth$]).pipe(z(([n,i])=>{let c=n.find(p=>p.mes===i);return{totalIngresos:c?.totalIngresos||0,totalGastos:c?.totalGastos||0,balance:c?.balance||0,balanceAcumulado:c?.balanceAcumulado||0}})),this.chartData$=N([this.appStateService.categories$,this.appStateService.recurringExpenses$,this.appStateService.gastos$,this.appStateService.loans$,this.appStateService.currentMonth$]).pipe(z(([n,i,c,p,C])=>{console.log("[Dashboard Chart] Procesando datos:",{categorias:n.length,gastosRecurrentes:i.length,gastos:c.length,prestamos:p.length,mes:C});let m=new Map;i.forEach(g=>{if(!g.categoriaId)return;let v=this.calculationsService.calcularMontoGasto(g,C);if(v>0){console.log(`  \u2713 Gasto recurrente: ${g.descripcion} \u2192 ${v} (cat: ${g.categoriaId})`);let b=m.get(g.categoriaId)||0;m.set(g.categoriaId,b+v)}}),c.forEach(g=>{if(!g.categoriaId)return;let v=this.calculationsService.calcularMontoGastoVariable(g,C);if(v>0){console.log(`  \u2713 Gasto variable: ${g.descripcion} \u2192 ${v} (cat: ${g.categoriaId})`);let b=m.get(g.categoriaId)||0;m.set(g.categoriaId,b+v)}});let x="__prestamos__",f=p.reduce((g,v)=>{let b=this.calculationsService.calcularMontoPrestamo(v,C);return b>0&&console.log(`  \u2713 Pr\xE9stamo: ${v.descripcion||"Sin descripci\xF3n"} \u2192 ${b}`),b>0?g+b:g},0);return f>0&&m.set(x,f),console.log("[Dashboard Chart] Total por categor\xEDa:",Object.fromEntries(m)),Array.from(m.entries()).map(([g,v])=>{let b=n.find(ht=>ht.id===g);return b?{categoria:b.nombre,total:v,color:b.color,icono:b.icono}:g===x?{categoria:"Pr\xE9stamos",total:v,color:"#f44336",icono:"account_balance"}:{categoria:"Desconocido",total:v,color:"#9e9e9e",icono:"category"}}).filter(g=>g.total>0).sort((g,v)=>v.total-g.total)})),this.incomeChartData$=N([this.appStateService.incomes$,this.appStateService.currentMonth$]).pipe(z(([n,i])=>{console.log("[Dashboard Income Chart] Procesando datos de ingresos:",{ingresos:n.length,mes:i});let c=new Map;n.forEach(C=>{let m=this.calculationsService.calcularMontoIngreso(C,i);if(m>0){console.log(`  \u2713 Ingreso: ${C.descripcion} \u2192 ${m} (fuente: ${C.fuente})`);let x=c.get(C.fuente)||0;c.set(C.fuente,x+m)}}),console.log("[Dashboard Income Chart] Total por fuente:",Object.fromEntries(c));let p=["#4caf50","#66bb6a","#2e7d32","#81c784","#1b5e20","#a5d6a7","#388e3c","#c8e6c9"];return Array.from(c.entries()).map(([C,m],x)=>({fuente:C,total:m,color:p[x%p.length]})).filter(C=>C.total>0).sort((C,m)=>m.total-C.total)})),this.monthlyTrend$=N([this.appStateService.monthlySummaries$,this.appStateService.currentMonth$]).pipe(z(([n,i])=>n.sort((c,p)=>c.mes.localeCompare(p.mes)))),this.upcomingPayments$=N([this.appStateService.loans$,this.appStateService.cardExpenses$]).pipe(z(([n,i])=>{let c=new Date,p=new Date;p.setDate(c.getDate()+30);let C=[];return n.filter(m=>Yt(m)).forEach(m=>{let x=Kt(m);x&&x>=c&&x<=p&&C.push({descripcion:this.getLoanDescription(m),fechaVencimiento:x,monto:qt(m)})}),i.filter(m=>m.activo!==!1).forEach(m=>{let x=m.mes?`${m.mes}-01`:void 0,f=this.parseDate(m.fechaVencimiento??x??m.fechaCompra);f&&f>=c&&f<=p&&C.push({descripcion:m.descripcion||m.descripcionComercio||"Gasto con tarjeta",fechaVencimiento:f,monto:this.getExpenseAmount(m)})}),C.sort((m,x)=>m.fechaVencimiento.getTime()-x.fechaVencimiento.getTime())}))}destroy$=new q;currentMonth$;metrics$;chartData$;incomeChartData$;monthlyTrend$;upcomingPayments$;loading=!1;ngOnInit(){this.refreshData()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}refreshData(){this.loading=!0,this.appStateService.recalculateMonthlySummaries(),setTimeout(()=>{this.loading=!1},1e3)}onMonthSelectedFromChart(t){this.appStateService.setCurrentMonth(t),this.appStateService.recalculateMonthlySummaries()}formatCurrency(t){return new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS",minimumFractionDigits:0,maximumFractionDigits:0}).format(t)}getBalanceColor(t){return t>0?"success":t<0?"warn":"primary"}getLoanDescription(t){return`Cuota pr\xE9stamo ${t.descripcion||t.entidad||"Pr\xE9stamo"}`}parseDate(t){if(!t)return null;if(t instanceof Date)return new Date(t.getTime());let e=String(t).trim();if(!e)return null;if(/^\d{4}-\d{2}$/.test(e)){let[i,c]=e.split("-").map(Number),p=new Date(i,c-1,1);return isNaN(p.getTime())?null:p}let n=new Date(e);return isNaN(n.getTime())?null:n}getExpenseAmount(t){if("montoCuota"in t){let n=Number(t.montoCuota??t.monto??0);return Number.isFinite(n)&&n>0?n:0}let e=Number(t.monto??0);return Number.isFinite(e)&&e>0?e:0}static \u0275fac=function(e){return new(e||a)(U(Qt),U(Jt))};static \u0275cmp=y({type:a,selectors:[["app-dashboard"]],standalone:!1,decls:62,vars:28,consts:[[1,"dashboard-container"],[1,"dashboard-header"],[1,"header-content"],[1,"page-title"],[1,"page-subtitle"],[1,"header-actions"],["mat-flat-button","","color","primary",3,"click","disabled"],[1,"dashboard-grid"],[1,"kpi-section"],[4,"ngIf"],[1,"evolution-tasks-section"],[1,"chart-card","evolution-chart-card"],[3,"monthSelected","data","currentMonth"],[1,"chart-card","tasks-card"],[1,"tasks-content"],[1,"composition-charts-section"],[1,"chart-card","composition-chart-card"],[3,"data"],["class","loading-overlay",4,"ngIf"],["title","Ingresos del Mes","icon","trending_up","color","success",3,"value"],["title","Gastos del Mes","icon","trending_down","color","warn",3,"value"],["title","Balance del Mes","icon","account_balance",3,"value","color"],["title","Balance Acumulado","icon","savings","color","primary",3,"value"],[1,"loading-overlay"],["diameter","60"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3)(4,"mat-icon"),l(5,"dashboard"),o(),l(6," Dashboard Financiero "),o(),r(7,"p",4),l(8),I(9,"async"),I(10,"date"),I(11,"titlecase"),o()(),r(12,"div",5)(13,"button",6),M("click",function(){return n.refreshData()}),r(14,"mat-icon"),l(15,"refresh"),o(),r(16,"span"),l(17),o()()()(),r(18,"div",7)(19,"div",8),h(20,ze,5,5,"ng-container",9),I(21,"async"),o(),r(22,"div",10)(23,"mat-card",11)(24,"mat-card-header")(25,"mat-card-title")(26,"mat-icon"),l(27,"timeline"),o(),l(28," Evoluci\xF3n Mensual"),o(),r(29,"mat-card-subtitle"),l(30,"Ingresos y gastos a lo largo del tiempo"),o()(),r(31,"mat-card-content")(32,"app-income-expense-chart",12),I(33,"async"),I(34,"async"),M("monthSelected",function(c){return n.onMonthSelectedFromChart(c)}),o()()(),r(35,"mat-card",13)(36,"mat-card-content",14),k(37,"app-tasks-list"),o()()(),r(38,"div",15)(39,"mat-card",16)(40,"mat-card-header")(41,"mat-card-title")(42,"mat-icon"),l(43,"pie_chart"),o(),l(44," Composici\xF3n de Gastos"),o(),r(45,"mat-card-subtitle"),l(46,"Distribuci\xF3n de gastos por categor\xEDa este mes"),o()(),r(47,"mat-card-content"),k(48,"app-expense-chart",17),I(49,"async"),o()(),r(50,"mat-card",16)(51,"mat-card-header")(52,"mat-card-title")(53,"mat-icon"),l(54,"donut_large"),o(),l(55," Composici\xF3n de Ingresos"),o(),r(56,"mat-card-subtitle"),l(57,"Distribuci\xF3n de ingresos por fuente este mes"),o()(),r(58,"mat-card-content"),k(59,"app-income-chart",17),I(60,"async"),o()()()(),h(61,Ne,4,0,"div",18),o()),e&2&&(s(8),S("Tu resumen ejecutivo financiero para ",D(11,16,Tt(10,13,D(9,11,n.currentMonth$),"MMMM yyyy"))),s(5),d("disabled",n.loading),s(),B("spinning",n.loading),s(3),_(n.loading?"Actualizando...":"Actualizar"),s(3),d("ngIf",D(21,18,n.metrics$)),s(12),d("data",D(33,20,n.monthlyTrend$))("currentMonth",D(34,22,n.currentMonth$)),s(16),d("data",D(49,24,n.chartData$)),s(11),d("data",D(60,26,n.incomeChartData$)),s(2),d("ngIf",n.loading))},dependencies:[T,L,zt,jt,Bt,Vt,Nt,w,Rt,rt,st,ct,lt,mt,It,Et,Dt],styles:['@charset "UTF-8";.dashboard-container[_ngcontent-%COMP%]{padding:24px;background-color:var(--mat-sys-surface-dim);animation:_ngcontent-%COMP%_fadeIn .5s ease-out;overflow:hidden;flex:1}.dashboard-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:24px}.dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin:0 0 4px;font-size:28px;font-weight:700;color:var(--mat-sys-on-surface)}.dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--mat-sys-primary)}.dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .page-subtitle[_ngcontent-%COMP%]{margin:0;font-size:16px;color:var(--mat-sys-on-surface-variant)}.dashboard-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon.spinning[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}.dashboard-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(8,1fr);grid-template-rows:auto;gap:24px}.dashboard-grid[_ngcontent-%COMP%]   .kpi-section[_ngcontent-%COMP%]{grid-column:1/-1;display:grid;grid-template-columns:repeat(4,1fr);gap:24px}.dashboard-grid[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]{border-radius:16px;box-shadow:none;border:1px solid var(--mat-sys-outline-variant);background:var(--mat-sys-surface);transition:box-shadow .3s ease}.dashboard-grid[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]:hover{box-shadow:var(--mat-sys-elevation-level2)}.dashboard-grid[_ngcontent-%COMP%]   .chart-card.large-card[_ngcontent-%COMP%]{grid-column:1/-1;min-height:400px}.dashboard-grid[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding-bottom:16px;border-bottom:1px solid var(--mat-sys-outline-variant)}.dashboard-grid[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:18px;font-weight:600;color:var(--mat-sys-on-surface)}.dashboard-grid[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{height:calc(100% - 72px);padding:16px}.dashboard-grid[_ngcontent-%COMP%]   .evolution-tasks-section[_ngcontent-%COMP%]{grid-column:1/-1;display:grid;grid-template-columns:calc(62.5% - 15px) calc(37.5% - 9px);gap:24px;min-height:400px}.dashboard-grid[_ngcontent-%COMP%]   .evolution-tasks-section[_ngcontent-%COMP%]   .evolution-chart-card[_ngcontent-%COMP%]{min-height:400px}.dashboard-grid[_ngcontent-%COMP%]   .evolution-tasks-section[_ngcontent-%COMP%]   .evolution-chart-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{height:calc(100% - 72px)}.dashboard-grid[_ngcontent-%COMP%]   .evolution-tasks-section[_ngcontent-%COMP%]   .tasks-card[_ngcontent-%COMP%]{min-height:400px;max-height:400px}.dashboard-grid[_ngcontent-%COMP%]   .evolution-tasks-section[_ngcontent-%COMP%]   .tasks-card[_ngcontent-%COMP%]   .tasks-content[_ngcontent-%COMP%]{padding:0;height:100%}.dashboard-grid[_ngcontent-%COMP%]   .evolution-tasks-section[_ngcontent-%COMP%]   .tasks-card[_ngcontent-%COMP%]   .tasks-content[_ngcontent-%COMP%]   app-tasks-list[_ngcontent-%COMP%]{display:block;height:100%}.dashboard-grid[_ngcontent-%COMP%]   .composition-charts-section[_ngcontent-%COMP%]{grid-column:1/-1;display:grid;grid-template-columns:1fr 1fr;gap:24px}.dashboard-grid[_ngcontent-%COMP%]   .composition-charts-section[_ngcontent-%COMP%]   .composition-chart-card[_ngcontent-%COMP%]{position:relative;min-height:400px}.dashboard-grid[_ngcontent-%COMP%]   .composition-charts-section[_ngcontent-%COMP%]   .composition-chart-card[_ngcontent-%COMP%]:first-child{background:linear-gradient(135deg,var(--mat-sys-surface) 0%,rgba(var(--mat-sys-primary-rgb),.02) 100%);border-left:4px solid var(--mat-sys-primary)}.dashboard-grid[_ngcontent-%COMP%]   .composition-charts-section[_ngcontent-%COMP%]   .composition-chart-card[_ngcontent-%COMP%]:last-child{background:linear-gradient(135deg,var(--mat-sys-surface) 0%,rgba(76,175,80,.02) 100%);border-left:4px solid #4caf50}.dashboard-grid[_ngcontent-%COMP%]   .composition-charts-section[_ngcontent-%COMP%]   .composition-chart-card[_ngcontent-%COMP%]:hover{box-shadow:var(--mat-sys-elevation-level3);transform:translateY(-2px);transition:all .3s ease}.dashboard-grid[_ngcontent-%COMP%]   .composition-charts-section[_ngcontent-%COMP%]   .composition-chart-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{background:rgba(var(--mat-sys-primary-rgb),.1);border-radius:8px;padding:4px;font-size:20px;width:20px}.dashboard-grid[_ngcontent-%COMP%]   .composition-charts-section[_ngcontent-%COMP%]   .composition-chart-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:first-child{color:var(--mat-sys-primary)}.dashboard-grid[_ngcontent-%COMP%]   .composition-charts-section[_ngcontent-%COMP%]   .composition-chart-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]:has(mat-icon[fontIcon=donut_large])   mat-card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .dashboard-grid[_ngcontent-%COMP%]   .composition-charts-section[_ngcontent-%COMP%]   .composition-chart-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:contains("donut_large"){color:#4caf50;background:#4caf501a}.dashboard-grid[_ngcontent-%COMP%]   .composition-charts-section[_ngcontent-%COMP%]   .composition-chart-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:calc(100% - 72px)}.dashboard-grid[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]{grid-column:4/5;display:flex;flex-direction:column;gap:24px}.quick-actions-card[_ngcontent-%COMP%], .upcoming-payments-card[_ngcontent-%COMP%]{border-radius:16px;box-shadow:none;border:1px solid var(--mat-sys-outline-variant);background:var(--mat-sys-surface)}.quick-actions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%], .upcoming-payments-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.upcoming-payments-card[_ngcontent-%COMP%]   .payment-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px 0;border-bottom:1px solid var(--mat-sys-outline-variant)}.upcoming-payments-card[_ngcontent-%COMP%]   .payment-item[_ngcontent-%COMP%]:last-of-type{border-bottom:none}.upcoming-payments-card[_ngcontent-%COMP%]   .payment-item[_ngcontent-%COMP%]   .payment-info[_ngcontent-%COMP%]   .payment-desc[_ngcontent-%COMP%]{display:block;font-weight:500;font-size:14px}.upcoming-payments-card[_ngcontent-%COMP%]   .payment-item[_ngcontent-%COMP%]   .payment-info[_ngcontent-%COMP%]   .payment-due[_ngcontent-%COMP%]{font-size:12px;color:var(--mat-sys-on-surface-variant)}.upcoming-payments-card[_ngcontent-%COMP%]   .payment-item[_ngcontent-%COMP%]   .payment-amount[_ngcontent-%COMP%]{font-weight:600;color:var(--mat-sys-error)}.upcoming-payments-card[_ngcontent-%COMP%]   .no-payments-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;gap:8px;padding:24px 0;color:var(--mat-sys-on-surface-variant)}.upcoming-payments-card[_ngcontent-%COMP%]   .no-payments-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--mat-sys-success);font-size:32px;width:32px;height:32px}.loading-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:rgba(var(--mat-sys-surface-rgb),.8);display:flex;flex-direction:column;align-items:center;justify-content:center;gap:16px;z-index:10}.loading-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:500;color:var(--mat-sys-on-surface)}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 1200px){.dashboard-grid[_ngcontent-%COMP%], .dashboard-grid[_ngcontent-%COMP%]   .kpi-section[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.dashboard-grid[_ngcontent-%COMP%]   .chart-card.large-card[_ngcontent-%COMP%]{grid-column:1/-1}.dashboard-grid[_ngcontent-%COMP%]   .evolution-tasks-section[_ngcontent-%COMP%]{grid-template-columns:2fr 1fr}.dashboard-grid[_ngcontent-%COMP%]   .composition-charts-section[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr;gap:16px}.dashboard-grid[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]{grid-column:1/-1;grid-row:4;flex-direction:row}.dashboard-grid[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]{flex:1}}@media (max-width: 768px){.dashboard-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.dashboard-grid[_ngcontent-%COMP%]   .kpi-section[_ngcontent-%COMP%], .dashboard-grid[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]{grid-template-columns:1fr;flex-direction:column}.dashboard-grid[_ngcontent-%COMP%]   .evolution-tasks-section[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:16px}.dashboard-grid[_ngcontent-%COMP%]   .evolution-tasks-section[_ngcontent-%COMP%]   .evolution-chart-card[_ngcontent-%COMP%], .dashboard-grid[_ngcontent-%COMP%]   .evolution-tasks-section[_ngcontent-%COMP%]   .tasks-card[_ngcontent-%COMP%]{min-height:350px}.dashboard-grid[_ngcontent-%COMP%]   .composition-charts-section[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:16px}.dashboard-grid[_ngcontent-%COMP%]   .composition-charts-section[_ngcontent-%COMP%]   .composition-chart-card[_ngcontent-%COMP%]{min-height:350px}}']})};var je=[{path:"",component:gt}],Zt=class a{static \u0275fac=function(e){return new(e||a)};static \u0275mod=Pt({type:a});static \u0275inj=xt({imports:[Ft,Ut.forChild(je),Ht,$t]})};export{Zt as DashboardModule};
