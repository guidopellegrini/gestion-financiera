import{a as Me,b as Wt}from"./chunk-FHBLNETZ.js";import{a as Qt}from"./chunk-X3W4WF3Y.js";import{a as zt,b as Pt,c as Ht,d as Tt,e as Vt,f as Dt,g as jt,h as Ft,i as _t,j as Bt,k as Et,l as Rt,m as Ot}from"./chunk-L3FVVQOB.js";import{A as Mt,F as mt,G as _1,H as B1,I as gt,J as vt,L as ft,T as Lt,U as xt,V as wt,W as Ct,ca as St,da as It,f as ct,g as F1,h as ht,i as dt,j as yt,ka as bt,l as lt,la as qt,m as pt,ma as At,n as kt,o as ut,ta as Zt,xa as Kt,ya as Xt,za as qe}from"./chunk-YJA7LBCE.js";import{$a as Ea,$c as D1,Bd as E1,Cd as Gt,Ea as q,F as we,Fa as y,Ga as d,H as S,Ha as he,J as Z,Jb as Wa,K as N,Kb as Za,Kc as T1,L as za,Lb as Je,M as ue,Nb as Ka,Oa as Ce,Ob as Xa,P as K,Pb as Qa,Pc as V1,Q as X,Qa as R,Ra as $,Tb as $a,U as Pa,Ub as Ja,V as Ha,Va as Fa,Vb as Ya,Wa as _a,Wb as et,Xa as Ba,Xb as Ye,Y as Ta,Yb as at,a as ke,bb as Ra,c as Ia,ca as P1,cb as Qe,d as Ke,db as l,dc as tt,ea as w,eb as J,fb as Se,ga as Va,h as Xe,hb as Oa,hc as it,i as ba,ia as F,ib as Ua,jb as Na,ma as se,md as e1,na as G,nb as H1,od as j1,pb as je,qa as Q,qb as $e,rb as Ga,rd as Ie,sd as ot,t as qa,ta as Da,td as be,uc as nt,ud as rt,va as ja,vc as st,xd as Ut,y as Aa,yd as Nt,zd as a1}from"./chunk-JUX2TMYD.js";var Jt=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]];var Yt=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]];var e2=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]];var a2=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],t2=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],i2=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]];var n2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]];var s2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]];var o2=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]];var r2=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]];var c2=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]];var h2=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]];var d2=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],y2=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]];var l2=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]];var p2=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]];var k2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]];var u2=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]];var M2=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]];var m2=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]];var g2=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]];var v2=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]];var f2=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]];var L2=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]];var x2=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]];var w2=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]];var C2=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]];var S2=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]];var I2=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]];var $t=new za("LucideIcons",{factory:()=>new Fe({})}),Fe=class{constructor(e){this.icons=e}getIcon(e){return this.hasIcon(e)?this.icons[e]:null}hasIcon(e){return typeof this.icons=="object"&&e in this.icons}};var R1=class{constructor(e){this.icons=e}},z0=i=>new Fe(i??{}),O1=(()=>{class i{static pick(a){return{ngModule:i,providers:[{provide:$t,multi:!0,useValue:new Fe(a)},{provide:$t,multi:!0,useFactory:z0,deps:[[new Ta,R1]]}]}}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275mod=G({type:i}),i.\u0275inj=N({imports:[[]]}),i})();var P0={Home:p2,CreditCard:o2,DollarSign:r2,TrendingUp:w2,TrendingDown:x2,Calendar:Jt,Settings:v2,User:S2,Menu:u2,X:I2,Plus:M2,Edit:f2,Trash2:L2,Save:m2,Search:g2,Filter:l2,Download:c2,Upload:C2,Eye:y2,EyeOff:d2,ChevronDown:e2,ChevronUp:i2,ChevronLeft:a2,ChevronRight:t2,MoreVertical:h2,Check:Yt,AlertCircle:n2,Info:k2,HelpCircle:s2},t1=class i{static \u0275fac=function(a){return new(a||i)};static \u0275mod=G({type:i});static \u0275inj=N({imports:[O1.pick(P0),O1]})};var H0=[B1,_1,F1,V1,j1,T1,D1],i1=class i{static \u0275fac=function(a){return new(a||i)};static \u0275mod=G({type:i});static \u0275inj=N({imports:[H0,B1,_1,F1,V1,j1,T1,D1]})};var T0=[{path:"",redirectTo:"/dashboard",pathMatch:"full"},{path:"login",loadChildren:()=>import("./chunk-RWP5ERHE.js").then(i=>i.AuthModule)},{path:"dashboard",loadChildren:()=>import("./chunk-KYXPZN5K.js").then(i=>i.DashboardModule),canActivate:[Me]},{path:"gastos",loadChildren:()=>import("./chunk-XBZTZMV5.js").then(i=>i.GastosModule),canActivate:[Me]},{path:"ingresos",loadChildren:()=>import("./chunk-MWC4YECG.js").then(i=>i.IngresosModule),canActivate:[Me]},{path:"tarjetas",loadChildren:()=>import("./chunk-6FN4LLBT.js").then(i=>i.TarjetasModule),canActivate:[Me]},{path:"prestamos",loadChildren:()=>import("./chunk-TAS2ITU4.js").then(i=>i.PrestamosModule),canActivate:[Me]},{path:"categorias",loadChildren:()=>import("./chunk-XHC66IGJ.js").then(i=>i.CategoriasModule),canActivate:[Me]},{path:"**",redirectTo:"/dashboard"}],n1=class i{static \u0275fac=function(a){return new(a||i)};static \u0275mod=G({type:i});static \u0275inj=N({imports:[E1.forRoot(T0,{scrollPositionRestoration:"top",enableTracing:!1}),E1]})};function j0(i,e){i&1&&(y(0,"div",27)(1,"span",28)(2,"mat-icon"),l(3,"warning"),d(),l(4," \u26A0\uFE0F Advertencia: "),d(),y(5,"span",31),l(6,"Esta operaci\xF3n reemplazar\xE1 todos los datos existentes"),d()())}function F0(i,e){i&1&&(y(0,"div",27)(1,"span",28)(2,"mat-icon"),l(3,"merge_type"),d(),l(4," Comportamiento: "),d(),y(5,"span",29),l(6,"Se combinar\xE1n con los datos existentes"),d()())}function _0(i,e){if(i&1&&(y(0,"div",24)(1,"div",25)(2,"mat-icon"),l(3,"info"),d(),y(4,"h4"),l(5,"Informaci\xF3n de la Importaci\xF3n"),d()(),y(6,"div",26)(7,"div",27)(8,"span",28)(9,"mat-icon"),l(10,"label"),d(),l(11," Tipo seleccionado: "),d(),y(12,"span",29),l(13),d()(),y(14,"div",27)(15,"span",28)(16,"mat-icon"),l(17,"description"),d(),l(18," Archivo requerido: "),d(),y(19,"span",29),l(20,"JSON (.json)"),d()(),Q(21,j0,7,0,"div",30)(22,F0,7,0,"div",30),d()()),i&2){let a=$();w(13),J(a.getImportTypeLabel()),w(8),q("ngIf",a.selectedOption==="complete"),w(),q("ngIf",a.selectedOption!=="complete")}}var s1=class i{constructor(e,a,t){this.dialogRef=e;this.appStateService=a;this.data=t}selectedOption="";getImportTypeLabel(){return{complete:"Importaci\xF3n Completa",categorias:"Solo Categor\xEDas",tarjetas:"Solo Tarjetas de Cr\xE9dito",ingresos:"Solo Ingresos","gastos-recurrentes":"Solo Gastos Recurrentes",prestamos:"Solo Pr\xE9stamos"}[this.selectedOption]||""}onCancel(){this.dialogRef.close()}onConfirm(){if(this.selectedOption)if(this.selectedOption==="complete")this.dialogRef.close({type:"complete"});else{let a={categorias:{name:"Categor\xEDas",method:t=>this.appStateService.importCategorias(t)},tarjetas:{name:"Tarjetas de Cr\xE9dito",method:t=>this.appStateService.importTarjetas(t)},ingresos:{name:"Ingresos",method:t=>this.appStateService.importIngresos(t)},"gastos-recurrentes":{name:"Gastos Recurrentes",method:t=>this.appStateService.importGastosRecurrentes(t)},prestamos:{name:"Pr\xE9stamos",method:t=>this.appStateService.importPrestamos(t)}}[this.selectedOption];this.dialogRef.close(ke({type:"partial"},a))}}static \u0275fac=function(a){return new(a||i)(F(Lt),F(qe),F(xt))};static \u0275cmp=se({type:i,selectors:[["app-import-data-modal"]],standalone:!1,decls:79,vars:3,consts:[[1,"unified-modal"],[1,"modal-header"],[1,"header-content"],[1,"header-icon"],[1,"header-title"],["mat-icon-button","","mat-dialog-close","",1,"close-button"],[1,"modal-content"],[1,"form-section"],[1,"description"],[1,"import-options",3,"ngModelChange","ngModel"],["value","complete",1,"import-option"],[1,"option-content"],[1,"option-header"],[1,"option-title"],[1,"option-description"],["value","categorias",1,"import-option"],["value","tarjetas",1,"import-option"],["value","ingresos",1,"import-option"],["value","gastos-recurrentes",1,"import-option"],["value","prestamos",1,"import-option"],["class","summary-card",4,"ngIf"],[1,"modal-actions"],["mat-stroked-button","","mat-dialog-close",""],["mat-raised-button","","color","primary",3,"click","disabled"],[1,"summary-card"],[1,"summary-header"],[1,"import-info"],[1,"info-item"],[1,"label"],[1,"value"],["class","info-item",4,"ngIf"],[1,"value","warning"]],template:function(a,t){a&1&&(y(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-icon",3),l(4,"upload"),d(),y(5,"h2",4),l(6,"Importar Datos"),d()(),y(7,"button",5)(8,"mat-icon"),l(9,"close"),d()()(),y(10,"div",6)(11,"div",7)(12,"h3"),l(13,"Tipo de Importaci\xF3n"),d(),y(14,"p",8),l(15," Selecciona el tipo de importaci\xF3n que deseas realizar: "),d(),y(16,"mat-radio-group",9),Na("ngModelChange",function(s){return Ua(t.selectedOption,s)||(t.selectedOption=s),s}),y(17,"mat-radio-button",10)(18,"div",11)(19,"div",12)(20,"mat-icon"),l(21,"cloud_upload"),d(),y(22,"span",13),l(23,"Importaci\xF3n Completa"),d()(),y(24,"p",14),l(25," Importa categor\xEDas, tarjetas, ingresos, gastos recurrentes y pr\xE9stamos. "),d()()(),y(26,"mat-radio-button",15)(27,"div",11)(28,"div",12)(29,"mat-icon"),l(30,"category"),d(),y(31,"span",13),l(32,"Solo Categor\xEDas"),d()(),y(33,"p",14),l(34," Importa \xFAnicamente las categor\xEDas de gastos. "),d()()(),y(35,"mat-radio-button",16)(36,"div",11)(37,"div",12)(38,"mat-icon"),l(39,"credit_card"),d(),y(40,"span",13),l(41,"Solo Tarjetas de Cr\xE9dito"),d()(),y(42,"p",14),l(43," Importa \xFAnicamente las tarjetas de cr\xE9dito. "),d()()(),y(44,"mat-radio-button",17)(45,"div",11)(46,"div",12)(47,"mat-icon"),l(48,"trending_up"),d(),y(49,"span",13),l(50,"Solo Ingresos"),d()(),y(51,"p",14),l(52," Importa \xFAnicamente los ingresos. "),d()()(),y(53,"mat-radio-button",18)(54,"div",11)(55,"div",12)(56,"mat-icon"),l(57,"repeat"),d(),y(58,"span",13),l(59,"Solo Gastos Recurrentes"),d()(),y(60,"p",14),l(61," Importa \xFAnicamente los gastos recurrentes. "),d()()(),y(62,"mat-radio-button",19)(63,"div",11)(64,"div",12)(65,"mat-icon"),l(66,"account_balance"),d(),y(67,"span",13),l(68,"Solo Pr\xE9stamos"),d()(),y(69,"p",14),l(70," Importa \xFAnicamente los pr\xE9stamos. "),d()()()()(),Q(71,_0,23,3,"div",20),d(),y(72,"div",21)(73,"button",22),l(74,"Cancelar"),d(),y(75,"button",23),R("click",function(){return t.onConfirm()}),y(76,"mat-icon"),l(77,"upload"),d(),l(78," Seleccionar Archivo "),d()()()),a&2&&(w(16),Oa("ngModel",t.selectedOption),w(55),q("ngIf",t.selectedOption),w(4),q("disabled",!t.selectedOption))},dependencies:[Je,tt,it,Ie,e1,be,Ct,bt,qt],styles:['@charset "UTF-8";.description[_ngcontent-%COMP%]{margin-bottom:20px;color:var(--mat-sys-on-surface-variant);font-size:14px;line-height:1.5}.mat-internal-form-field[_ngcontent-%COMP%]{width:100%}.import-options[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:stretch;gap:10px}.import-option[_ngcontent-%COMP%]{border:1px solid var(--mat-sys-outline-variant);border-radius:12px;padding:16px;transition:all .2s cubic-bezier(.4,0,.2,1);background:var(--mat-sys-surface-container-low);flex-basis:45%;flex-grow:1}.import-option[_ngcontent-%COMP%]:hover{background:var(--mat-sys-surface-container);border-color:var(--mat-sys-outline);box-shadow:var(--mat-sys-elevation-level1)}.import-option.mat-mdc-radio-button-checked[_ngcontent-%COMP%]{border-color:var(--mat-sys-primary);background:var(--mat-sys-primary-container);box-shadow:var(--mat-sys-elevation-level2)}.import-option.mat-mdc-radio-button-checked[_ngcontent-%COMP%]   .option-title[_ngcontent-%COMP%]{color:var(--mat-sys-on-primary-container)}.import-option.mat-mdc-radio-button-checked[_ngcontent-%COMP%]   .option-description[_ngcontent-%COMP%]{color:var(--mat-sys-on-primary-container);opacity:.8}.import-option.mat-mdc-radio-button-checked[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--mat-sys-primary)}.mat-internal-form-field[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{width:100%!important}.mat-internal-form-field[_ngcontent-%COMP%]{width:100%!important}.option-content[_ngcontent-%COMP%]{box-sizing:border-box;padding-left:16px;display:flex;align-items:flex-start;justify-content:space-between;gap:10px;width:100%;flex-direction:column}.option-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:8px}.option-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--mat-sys-primary);font-size:20px;width:30px;height:20px}.option-title[_ngcontent-%COMP%]{font-weight:500;font-size:16px;color:var(--mat-sys-on-surface)}.option-description[_ngcontent-%COMP%]{margin:0;font-size:14px;color:var(--mat-sys-on-surface-variant);line-height:1.4}.import-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 0;border-bottom:1px solid var(--mat-sys-surface-variant)}.import-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.import-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-weight:500;color:var(--mat-sys-on-surface-variant);font-size:14px}.import-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:600;font-size:14px;color:var(--mat-sys-on-surface)}.import-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .value.warning[_ngcontent-%COMP%]{color:var(--mat-sys-error);font-weight:600}@media (max-width: 768px){.import-option[_ngcontent-%COMP%]{padding:12px}.option-content[_ngcontent-%COMP%]{margin-left:15px}.option-title[_ngcontent-%COMP%]{font-size:15px}.option-description[_ngcontent-%COMP%]{font-size:13px}}']})};var Ae=class i{THEME_KEY="app-theme";themeSubject=new ba(this.getInitialTheme());theme$=this.themeSubject.asObservable();constructor(){this.applyTheme(this.themeSubject.value)}getInitialTheme(){let e=localStorage.getItem(this.THEME_KEY);return e&&(e==="light"||e==="dark")?e:window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}getCurrentTheme(){return this.themeSubject.value}toggleTheme(){let e=this.themeSubject.value==="light"?"dark":"light";this.setTheme(e)}setTheme(e){this.themeSubject.next(e),this.applyTheme(e),this.saveTheme(e)}applyTheme(e){let a=document.body;a.classList.remove("light-theme","dark-theme"),a.classList.add(`${e}-theme`),a.setAttribute("data-theme",e)}saveTheme(e){localStorage.setItem(this.THEME_KEY,e)}isDarkTheme(){return this.themeSubject.value==="dark"}isLightTheme(){return this.themeSubject.value==="light"}static \u0275fac=function(a){return new(a||i)};static \u0275prov=Z({token:i,factory:i.\u0275fac,providedIn:"root"})};var E0=i=>({spin:i}),R0=i=>({expanded:i});function O0(i,e){if(i&1&&he(0,"span",9),i&2){let a=$(2);q("matBadge",a.syncStatus.pendingChanges>9?"9+":a.syncStatus.pendingChanges)}}function U0(i,e){i&1&&(y(0,"span"),l(1,"Sincronizar ahora"),d())}function N0(i,e){i&1&&(y(0,"span",19)(1,"mat-icon",20),l(2,"autorenew"),d(),l(3," Sincronizando... "),d())}function G0(i,e){if(i&1){let a=Ce();y(0,"div",10)(1,"div",11)(2,"div",12)(3,"span",13),l(4,"Conexi\xF3n:"),d(),y(5,"span"),l(6),d()(),y(7,"div",12)(8,"span",13),l(9,"\xDAltima sync:"),d(),y(10,"span",14),l(11),d()(),y(12,"div",12)(13,"span",13),l(14,"Pendientes:"),d(),y(15,"span"),l(16),d()(),y(17,"div",12)(18,"span",13),l(19,"Estado:"),d(),y(20,"span"),l(21),d()()(),y(22,"div",15)(23,"button",16),R("click",function(){K(a);let n=$(2);return X(n.forceSync())}),Q(24,U0,2,0,"span",17)(25,N0,4,0,"span",18),d()()()}if(i&2){let a=$(2);w(5),Qe(a.syncStatus.isOnline?"value success":"value error"),w(),Se(" ",a.syncStatus.isOnline?"En l\xEDnea":"Sin conexi\xF3n"," "),w(5),J(a.formatLastSync()),w(4),Qe(a.syncStatus.pendingChanges>0?"value warning":"value success"),w(),Se(" ",a.syncStatus.pendingChanges," cambios "),w(4),Qe(a.syncStatus.syncInProgress?"value info":"value"),w(),Se(" ",a.syncStatus.syncInProgress?"Sincronizando...":"Inactivo"," "),w(2),q("disabled",!a.syncStatus.isOnline||a.syncStatus.syncInProgress),w(),q("ngIf",!a.syncStatus.syncInProgress),w(),q("ngIf",a.syncStatus.syncInProgress)}}function W0(i,e){if(i&1){let a=Ce();y(0,"div",1)(1,"button",2),R("click",function(){K(a);let n=$();return X(n.toggleDetails())}),y(2,"span",3)(3,"mat-icon",4),l(4),d()(),y(5,"span",5),l(6),d(),Q(7,O0,1,1,"span",6),y(8,"mat-icon",7),l(9,"expand_more"),d()(),Q(10,G0,26,13,"div",8),d()}if(i&2){let a=$();w(2),q("ngClass",a.getStatusClass()),w(),q("ngClass",H1(8,E0,a.syncStatus==null?null:a.syncStatus.syncInProgress)),w(),J(a.getMaterialIcon()),w(),q("ngClass",a.getStatusClass()),w(),J(a.getStatusText()),w(),q("ngIf",a.syncStatus.pendingChanges>0),w(),q("ngClass",H1(10,R0,a.showDetails)),w(2),q("ngIf",a.showDetails)}}var ze=class i{constructor(e,a){this.syncService=e;this.authService=a}destroy$=new Xe;syncStatus=null;isAuthenticated=!1;showDetails=!1;ngOnInit(){this.authService.isAuthenticated$.pipe(we(this.destroy$)).subscribe(e=>{this.isAuthenticated=e}),this.syncService.syncStatus$.pipe(we(this.destroy$)).subscribe(e=>{this.syncStatus=e})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}forceSync(){return Ke(this,null,function*(){try{yield this.syncService.forcSync()}catch(e){console.error("Error al forzar sincronizaci\xF3n:",e)}})}toggleDetails(){this.showDetails=!this.showDetails}getStatusIcon(){return this.syncStatus?this.syncStatus.syncInProgress?"refresh-cw":this.syncStatus.isOnline?this.syncStatus.pendingChanges>0?"upload-cloud":"cloud-done":"wifi-off":"cloud-off"}getStatusText(){return this.syncStatus?this.syncStatus.syncInProgress?"Sincronizando...":this.syncStatus.isOnline?this.syncStatus.pendingChanges>0?`${this.syncStatus.pendingChanges} cambios pendientes`:"Sincronizado":"Sin conexi\xF3n":"Desconectado"}getStatusClass(){return this.syncStatus?this.syncStatus.syncInProgress?"status-info":this.syncStatus.isOnline?this.syncStatus.pendingChanges>0?"status-warning":"status-success":"status-error":"status-muted"}getMaterialIcon(){return this.syncStatus?this.syncStatus.syncInProgress?"autorenew":this.syncStatus.isOnline?this.syncStatus.pendingChanges>0?"cloud_upload":"cloud_done":"wifi_off":"cloud_off"}formatLastSync(){if(!this.syncStatus?.lastSync)return"Nunca";let e=new Date,a=new Date(this.syncStatus.lastSync),t=e.getTime()-a.getTime(),n=Math.floor(t/(1e3*60));if(n<1)return"Hace un momento";if(n<60)return`Hace ${n} min`;let s=Math.floor(n/60);return s<24?`Hace ${s}h`:`Hace ${Math.floor(s/24)}d`}static \u0275fac=function(a){return new(a||i)(F(Zt),F(Gt))};static \u0275cmp=se({type:i,selectors:[["app-sync-status"]],decls:1,vars:1,consts:[["class","sync-status",4,"ngIf"],[1,"sync-status"],["type","button","mat-button","",1,"status-header",3,"click"],[1,"status-icon",3,"ngClass"],[3,"ngClass"],[1,"status-text",3,"ngClass"],["class","badge-anchor","matBadgeColor","warn","matBadgeSize","small",3,"matBadge",4,"ngIf"],[1,"chevron",3,"ngClass"],["class","status-details",4,"ngIf"],["matBadgeColor","warn","matBadgeSize","small",1,"badge-anchor",3,"matBadge"],[1,"status-details"],[1,"details-grid"],[1,"detail-row"],[1,"label"],[1,"value"],[1,"actions"],["mat-raised-button","","color","primary",1,"sync-button",3,"click","disabled"],[4,"ngIf"],["class","syncing",4,"ngIf"],[1,"syncing"],[1,"spinner"]],template:function(a,t){a&1&&Q(0,W0,11,12,"div",0),a&2&&q("ngIf",t.isAuthenticated&&t.syncStatus)},dependencies:[$a,Wa,Je,rt,be,ot,Ie,It,St],styles:[".sync-status[_ngcontent-%COMP%]{display:block;background:var(--mat-sys-surface-container-high);color:var(--mat-sys-on-surface);border:1px solid var(--mat-sys-outline-variant);border-radius:12px;padding:8px 12px;-webkit-user-select:none;user-select:none}.sync-status[_ngcontent-%COMP%]:hover{background:var(--mat-sys-surface-container)}.status-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;width:100%;background:transparent;border:0;color:inherit;padding:0;cursor:pointer}.status-icon[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;width:20px;height:20px}.status-icon[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:18px;height:18px}.status-text[_ngcontent-%COMP%]{font-size:12px;font-weight:600}.pending-badge[_ngcontent-%COMP%]{display:none}.badge-anchor[_ngcontent-%COMP%]{margin-left:auto}.chevron[_ngcontent-%COMP%]{width:14px;height:14px;margin-left:4px;transform:rotate(0);transition:transform .2s ease-in-out}.chevron.expanded[_ngcontent-%COMP%]{transform:rotate(180deg)}.status-details[_ngcontent-%COMP%]{margin-top:8px;padding-top:8px;border-top:1px solid var(--mat-sys-outline-variant)}.details-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:6px;font-size:12px}.detail-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.label[_ngcontent-%COMP%]{color:var(--mat-sys-on-surface-variant)}.value[_ngcontent-%COMP%]{color:var(--mat-sys-on-surface);font-weight:600}.value.success[_ngcontent-%COMP%]{color:var(--mat-sys-success)}.value.error[_ngcontent-%COMP%]{color:var(--mat-sys-error)}.value.warning[_ngcontent-%COMP%]{color:var(--mat-sys-warning)}.value.info[_ngcontent-%COMP%]{color:var(--mat-sys-primary)}.actions[_ngcontent-%COMP%]{margin-top:10px;padding-top:10px;border-top:1px solid var(--mat-sys-outline-variant)}.sync-button[_ngcontent-%COMP%]{width:100%;padding:8px 12px;font-size:12px;font-weight:600;border-radius:8px;border:none;background:var(--mat-sys-primary);color:var(--mat-sys-on-primary);transition:background-color .2s ease-in-out,opacity .2s ease-in-out}.sync-button[_ngcontent-%COMP%]:hover{background:color-mix(in oklab,var(--mat-sys-primary) 90%,black)}.sync-button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.syncing[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px}.spinner[_ngcontent-%COMP%]{width:16px;height:16px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.status-success[_ngcontent-%COMP%]{color:var(--mat-sys-success)}.status-warning[_ngcontent-%COMP%]{color:var(--mat-sys-warning)}.status-error[_ngcontent-%COMP%]{color:var(--mat-sys-error)}.status-info[_ngcontent-%COMP%]{color:var(--mat-sys-primary)}.status-muted[_ngcontent-%COMP%]{color:var(--mat-sys-on-surface-variant)}@media (max-width: 640px){.status-text[_ngcontent-%COMP%]{font-size:11px}}"]})};var X0=["drawer"];function Q0(i,e){if(i&1&&(y(0,"mat-option",21),l(1),d()),i&2){let a=e.$implicit;q("value",a.value),w(),Se(" ",a.label," ")}}function $0(i,e){if(i&1){let a=Ce();y(0,"mat-list-item",22),R("click",function(){let n=K(a).$implicit,s=$();return X(s.navigateTo(n.path))}),y(1,"mat-icon",23),l(2),d(),y(3,"span",24),l(4),d()()}if(i&2){let a=e.$implicit,t=$();Ra("active",t.isActiveRoute(a.path)),w(2),J(a.icon),w(2),J(a.name)}}var o1=class i{constructor(e,a,t,n,s){this.router=e;this.appStateService=a;this.themeService=t;this.dialog=n;this.sidenavService=s;this.currentMonth$=this.appStateService.currentMonth$,this.generateMonthOptions()}drawer;currentMonth$;monthOptions=[];isDarkTheme=!1;destroy$=new Xe;navItems=[{id:"dashboard",name:"Dashboard",path:"/dashboard",icon:"dashboard"},{id:"ingresos",name:"Ingresos",path:"/ingresos",icon:"trending_up"},{id:"gastos",name:"Gastos",path:"/gastos",icon:"trending_down"},{id:"tarjetas",name:"Tarjetas",path:"/tarjetas",icon:"credit_card"},{id:"big-picture",name:"Big Picture",path:"/tarjetas/big-picture",icon:"analytics"},{id:"prestamos",name:"Pr\xE9stamos",path:"/prestamos",icon:"account_balance"},{id:"categorias",name:"Categor\xEDas",path:"/categorias",icon:"category"}];ngOnInit(){this.themeService.theme$.pipe(we(this.destroy$)).subscribe(e=>{this.isDarkTheme=e==="dark"}),this.sidenavService.closeDrawer$.pipe(we(this.destroy$)).subscribe(()=>{this.drawer&&this.drawer.opened&&this.drawer.close()});try{new URLSearchParams(window.location.search).get("sample")==="1"&&this.loadSampleData()}catch(e){console.warn("No se pudo leer par\xE1metros de la URL para importaci\xF3n de ejemplo:",e)}}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}navigateTo(e){this.router.navigate([e]).then(()=>{let a=document.querySelector(".main-content");a&&typeof a.scrollTo=="function"?a.scrollTo({top:0,left:0,behavior:"smooth"}):window.scrollTo({top:0,left:0,behavior:"smooth"})})}isActiveRoute(e){return this.router.url===e}onMonthChange(e){let a=e.value;this.appStateService.setCurrentMonth(a),this.appStateService.recalculateMonthlySummaries()}exportData(){let e=this.appStateService.exportData(),a=JSON.stringify(e,null,2),t=new Blob([a],{type:"application/json"}),n=window.URL.createObjectURL(t),s=document.createElement("a");s.href=n,s.download=`gestion-financiera-${new Date().toISOString().split("T")[0]}.json`,s.click(),window.URL.revokeObjectURL(n)}openImportDialog(){this.dialog.open(s1,{panelClass:"unified-modal-panel",disableClose:!1,autoFocus:!1}).afterClosed().subscribe(a=>{a&&(a.type==="complete"?this.triggerFileInput("complete"):a.type==="partial"&&this.triggerFileInput("partial",a))})}triggerFileInput(e,a){let t=document.createElement("input");t.type="file",t.accept=".json",t.style.display="none",t.onchange=n=>{e==="complete"?this.importCompleteData(n):this.importPartialData(n,a),document.body.removeChild(t)},document.body.appendChild(t),t.click()}importCompleteData(e){let a=e.target.files[0];if(!a){alert("Por favor selecciona un archivo para importar.");return}if(!a.name.toLowerCase().endsWith(".json")){alert("Error: Solo se permiten archivos con extensi\xF3n .json");return}let t=10*1024*1024;if(a.size>t){alert("Error: El archivo es demasiado grande. El tama\xF1o m\xE1ximo permitido es 10MB.");return}let n=new FileReader;n.onerror=()=>{alert("Error al leer el archivo. Por favor intenta con otro archivo.")},n.onload=s=>{try{let o=s.target?.result;if(!o||o.trim()===""){alert("Error: El archivo est\xE1 vac\xEDo.");return}let r=this.appStateService.importData(o);if(r.success)alert("\u2705 Datos importados correctamente");else{let c=`\u274C Error al importar datos:

${r.error}`;r.details&&(c+=`

Detalles: ${r.details}`),alert(c)}}catch(o){alert(`\u274C Error inesperado al procesar el archivo:

${o instanceof Error?o.message:"Error desconocido"}`)}},n.readAsText(a,"UTF-8")}importPartialData(e,a){let t=e.target.files[0];if(!t){alert("Por favor selecciona un archivo para importar.");return}if(!t.name.toLowerCase().endsWith(".json")){alert("Error: Solo se permiten archivos con extensi\xF3n .json");return}let n=10*1024*1024;if(t.size>n){alert("Error: El archivo es demasiado grande. El tama\xF1o m\xE1ximo permitido es 10MB.");return}let s=new FileReader;s.onerror=()=>{alert("Error al leer el archivo. Por favor intenta con otro archivo.")},s.onload=o=>{try{let r=o.target?.result;if(!r||r.trim()===""){alert("Error: El archivo est\xE1 vac\xEDo.");return}let c=a.method(r);if(c.success)alert(`\u2705 ${a.name} importados correctamente`);else{let h=`\u274C Error al importar ${a.name.toLowerCase()}:

${c.error}`;c.details&&(h+=`

Detalles: ${c.details}`),alert(h)}}catch(r){alert(`\u274C Error inesperado al procesar el archivo:

${r instanceof Error?r.message:"Error desconocido"}`)}},s.readAsText(t,"UTF-8")}importData(e){this.openImportDialog()}clearAllData(){confirm("\xBFEst\xE1s seguro de que quieres eliminar todos los datos? Esta acci\xF3n no se puede deshacer.")&&(this.appStateService.clearAllData(),alert("Todos los datos han sido eliminados"))}loadSampleData(){return Ke(this,null,function*(){try{let e=yield fetch("/gestion-financiera-2025-10-04.json");if(!e.ok)throw new Error(`Error HTTP ${e.status}: No se pudo cargar el archivo de datos de ejemplo`);let a=yield e.json(),t=this.appStateService.importData(a);if(t.success)alert("\u2705 Datos de ejemplo cargados correctamente. El reporte Big Picture ahora mostrar\xE1 informaci\xF3n."),this.router.navigate(["/tarjetas/big-picture"]);else{console.error("\u274C Error al importar datos de ejemplo:",t);let n=`\u274C Error al cargar los datos de ejemplo:

${t.error}`;t.details&&(n+=`

Detalles: ${t.details}`),alert(n)}}catch(e){console.error("\u274C Error al cargar datos de ejemplo:",e);let a=e instanceof Error?`\u274C Error al cargar el archivo de datos de ejemplo:

${e.message}

Aseg\xFArate de que el archivo gestion-financiera-2025-10-04.json est\xE9 disponible en la carpeta public.`:"\u274C Error desconocido al cargar los datos de ejemplo.";alert(a)}})}toggleTheme(){this.themeService.toggleTheme()}generateMonthOptions(){let e=[],a=new Date;for(let t=-12;t<=6;t++){let n=new Date(a.getFullYear(),a.getMonth()+t,1),s=n.getFullYear()+"-"+String(n.getMonth()+1).padStart(2,"0"),o=n.toLocaleDateString("es-ES",{month:"long",year:"numeric"});e.push({value:s,label:o.charAt(0).toUpperCase()+o.slice(1)})}this.monthOptions=e}static \u0275fac=function(a){return new(a||i)(F(a1),F(qe),F(Ae),F(wt),F(Qt))};static \u0275cmp=se({type:i,selectors:[["app-main-layout"]],viewQuery:function(a,t){if(a&1&&Fa(X0,5),a&2){let n;_a(n=Ba())&&(t.drawer=n.first)}},standalone:!1,decls:47,vars:15,consts:[["drawer",""],[1,"sidenav-container"],["fixedInViewport","","mode","side","opened","",1,"sidenav"],[1,"sidenav-header"],[1,"app-title"],[1,"month-selector"],["appearance","outline",1,"full-width"],[3,"selectionChange","value"],[3,"value",4,"ngFor","ngForOf"],[3,"active","click",4,"ngFor","ngForOf"],[1,"data-actions"],[1,"section-title"],["mat-stroked-button","",1,"action-button",3,"click"],["mat-stroked-button","","color","warn",1,"action-button",3,"click"],[1,"main-toolbar"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click"],["aria-label","Side nav toggle icon"],[1,"toolbar-spacer"],[1,"current-month"],["type","button","mat-icon-button","","matTooltipPosition","below",1,"theme-toggle-btn",3,"click","matTooltip"],[1,"main-content"],[3,"value"],[3,"click"],["matListItemIcon",""],["matListItemTitle",""]],template:function(a,t){if(a&1){let n=Ce();y(0,"mat-sidenav-container",1)(1,"mat-sidenav",2,0)(3,"mat-toolbar",3)(4,"span",4),l(5,"Gesti\xF3n Financiera"),d()(),y(6,"div",5)(7,"mat-form-field",6)(8,"mat-label"),l(9,"Mes actual"),d(),y(10,"mat-select",7),je(11,"async"),R("selectionChange",function(o){return K(n),X(t.onMonthChange(o))}),Q(12,Q0,2,2,"mat-option",8),d()()(),y(13,"mat-nav-list"),Q(14,$0,5,4,"mat-list-item",9),d(),y(15,"div",10)(16,"h3",11),l(17,"Gesti\xF3n de Datos"),d(),y(18,"button",12),R("click",function(){return K(n),X(t.exportData())}),y(19,"mat-icon"),l(20,"download"),d(),l(21," Exportar Datos "),d(),y(22,"button",12),R("click",function(){return K(n),X(t.openImportDialog())}),y(23,"mat-icon"),l(24,"upload"),d(),l(25," Importar Datos "),d(),y(26,"button",13),R("click",function(){return K(n),X(t.clearAllData())}),y(27,"mat-icon"),l(28,"delete_forever"),d(),l(29," Limpiar Todo "),d()()(),y(30,"mat-sidenav-content")(31,"mat-toolbar",14)(32,"button",15),R("click",function(){K(n);let o=Ea(2);return X(o.toggle())}),y(33,"mat-icon",16),l(34,"menu"),d()(),he(35,"span",17),y(36,"span",18),l(37),je(38,"async"),je(39,"date"),je(40,"titlecase"),d(),he(41,"app-sync-status"),y(42,"button",19),R("click",function(){return K(n),X(t.toggleTheme())}),y(43,"mat-icon"),l(44),d()()(),y(45,"div",20),he(46,"router-outlet"),d()()()}a&2&&(w(10),q("value",$e(11,6,t.currentMonth$)),w(2),q("ngForOf",t.monthOptions),w(2),q("ngForOf",t.navItems),w(23),J($e(40,13,Ga(39,10,$e(38,8,t.currentMonth$),"MMMM yyyy"))),w(5),q("matTooltip",t.isDarkTheme?"Cambiar a modo claro":"Cambiar a modo oscuro"),w(2),J(t.isDarkTheme?"light_mode":"dark_mode"))},dependencies:[Za,Nt,Ie,e1,be,ct,dt,yt,ht,ut,kt,pt,lt,mt,Mt,vt,gt,ft,ze,Ka,Xa,Qa],styles:[".sidenav-container[_ngcontent-%COMP%]{height:100vh;background-color:var(--mat-sys-background)}.sidenav[_ngcontent-%COMP%]{width:280px;background-color:var(--mat-sys-surface-container);border-right:1px solid var(--mat-sys-outline-variant)}.sidenav-header[_ngcontent-%COMP%]{background:var(--mat-sys-primary-container);color:var(--mat-sys-on-primary-container);min-height:64px;display:flex;align-items:center;justify-content:flex-start}.sidenav-header[_ngcontent-%COMP%]   .app-title[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;text-align:center}.month-selector[_ngcontent-%COMP%]{padding:16px;color:var(--mat-sys-on-surface-variant);border-bottom:1px solid var(--mat-sys-outline-variant)}.month-selector[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%]{width:100%}.mat-nav-list[_ngcontent-%COMP%]{padding-top:0}.mat-nav-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{cursor:pointer;transition:background-color .2s ease;border-radius:8px;margin:4px 8px}.mat-nav-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]:hover{background-color:var(--mat-sys-surface-container-high)}.mat-nav-list[_ngcontent-%COMP%]   .mat-list-item.active[_ngcontent-%COMP%]{background-color:var(--mat-sys-primary-container);color:var(--mat-sys-on-primary-container)}.mat-nav-list[_ngcontent-%COMP%]   .mat-list-item.active[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:var(--mat-sys-on-primary-container)}.mat-nav-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:16px;color:var(--mat-sys-on-surface-variant)}.data-actions[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;padding:16px;background-color:var(--mat-sys-surface-container-low);border-top:1px solid var(--mat-sys-outline-variant)}.data-actions[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:.9rem;font-weight:500;color:var(--mat-sys-on-surface-variant);margin:16px 0 8px}.data-actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{width:100%;margin-bottom:8px;justify-content:flex-start}.data-actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]:last-child{margin-bottom:0}.data-actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:8px}.main-toolbar[_ngcontent-%COMP%]{background-color:var(--mat-sys-surface);color:var(--mat-sys-on-surface);border-bottom:1px solid var(--mat-sys-outline-variant);z-index:2}.main-toolbar[_ngcontent-%COMP%]   .toolbar-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.main-toolbar[_ngcontent-%COMP%]   .current-month[_ngcontent-%COMP%]{font-weight:500;color:var(--mat-sys-primary)}.main-content[_ngcontent-%COMP%]{padding:24px;background-color:var(--mat-sys-background);min-height:calc(100vh - 100px);overflow-y:auto}@media (max-width: 768px){.sidenav[_ngcontent-%COMP%]{width:100%}.main-content[_ngcontent-%COMP%]{padding:16px}}.mat-sidenav-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.mat-toolbar[_ngcontent-%COMP%]{position:sticky;top:0}.mat-list-item[_ngcontent-%COMP%]{height:48px!important}.mat-form-field[_ngcontent-%COMP%]{font-size:14px}[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--mat-sys-surface-variant)}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--mat-sys-outline);border-radius:3px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--mat-sys-primary)}*[_ngcontent-%COMP%]{scrollbar-width:thin;scrollbar-color:var(--mat-sys-outline) var(--mat-sys-surface-variant)}"]})};var r1=class i{title="Gesti\xF3n Financiera";static \u0275fac=function(a){return new(a||i)};static \u0275cmp=se({type:i,selectors:[["app-root"]],standalone:!1,decls:1,vars:0,template:function(a,t){a&1&&he(0,"app-main-layout")},dependencies:[o1],encapsulation:2})};var G1=class i{handleError(e){console.error("Error global capturado:",e)}static \u0275fac=function(a){return new(a||i)};static \u0275prov=Z({token:i,factory:i.\u0275fac})};function A2(){return{provide:Ha,useClass:G1}}var _e=class i{constructor(e,a){this.router=e;this.viewportScroller=a;this.initScrollToTop()}initScrollToTop(){this.router.events.pipe(qa(e=>e instanceof Ut),Aa(0)).subscribe(()=>{this.scrollToTop()})}scrollToTop(){this.viewportScroller.scrollToPosition([0,0]),setTimeout(()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})},10)}smoothScrollToTop(){this.scrollToTop()}scrollToElement(e){let a=document.getElementById(e);a&&a.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}static \u0275fac=function(a){return new(a||i)(ue(a1),ue(Ja))};static \u0275prov=Z({token:i,factory:i.\u0275fac,providedIn:"root"})};var L=(function(i){return i[i.State=0]="State",i[i.Transition=1]="Transition",i[i.Sequence=2]="Sequence",i[i.Group=3]="Group",i[i.Animate=4]="Animate",i[i.Keyframes=5]="Keyframes",i[i.Style=6]="Style",i[i.Trigger=7]="Trigger",i[i.Reference=8]="Reference",i[i.AnimateChild=9]="AnimateChild",i[i.AnimateRef=10]="AnimateRef",i[i.Query=11]="Query",i[i.Stagger=12]="Stagger",i})(L||{}),Y="*";function z2(i,e=null){return{type:L.Sequence,steps:i,options:e}}function W1(i){return{type:L.Style,styles:i,offset:null}}var oe=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(e=0,a=0){this.totalTime=e+a}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let a=e=="start"?this._onStartFns:this._onDoneFns;a.forEach(t=>t()),a.length=0}},Pe=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(e){this.players=e;let a=0,t=0,n=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++a==s&&this._onFinish()}),o.onDestroy(()=>{++t==s&&this._onDestroy()}),o.onStart(()=>{++n==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,r)=>Math.max(o,r.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let a=e*this.totalTime;this.players.forEach(t=>{let n=t.totalTime?Math.min(1,a/t.totalTime):1;t.setPosition(n)})}getPosition(){let e=this.players.reduce((a,t)=>a===null||t.totalTime>a.totalTime?t:a,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let a=e=="start"?this._onStartFns:this._onDoneFns;a.forEach(t=>t()),a.length=0}},Be="!";function P2(i){return new S(3e3,!1)}function Y0(){return new S(3100,!1)}function ei(){return new S(3101,!1)}function ai(i){return new S(3001,!1)}function ti(i){return new S(3003,!1)}function ii(i){return new S(3004,!1)}function T2(i,e){return new S(3005,!1)}function V2(){return new S(3006,!1)}function D2(){return new S(3007,!1)}function j2(i,e){return new S(3008,!1)}function F2(i){return new S(3002,!1)}function _2(i,e,a,t,n){return new S(3010,!1)}function B2(){return new S(3011,!1)}function E2(){return new S(3012,!1)}function R2(){return new S(3200,!1)}function O2(){return new S(3202,!1)}function U2(){return new S(3013,!1)}function N2(i){return new S(3014,!1)}function G2(i){return new S(3015,!1)}function W2(i){return new S(3016,!1)}function Z2(i,e){return new S(3404,!1)}function ni(i){return new S(3502,!1)}function K2(i){return new S(3503,!1)}function X2(){return new S(3300,!1)}function Q2(i){return new S(3504,!1)}function $2(i){return new S(3301,!1)}function J2(i,e){return new S(3302,!1)}function Y2(i){return new S(3303,!1)}function e0(i,e){return new S(3400,!1)}function a0(i){return new S(3401,!1)}function t0(i){return new S(3402,!1)}function i0(i,e){return new S(3505,!1)}function re(i){switch(i.length){case 0:return new oe;case 1:return i[0];default:return new Pe(i)}}function Q1(i,e,a=new Map,t=new Map){let n=[],s=[],o=-1,r=null;if(e.forEach(c=>{let h=c.get("offset"),k=h==o,p=k&&r||new Map;c.forEach((x,f)=>{let M=f,v=x;if(f!=="offset")switch(M=i.normalizePropertyName(M,n),v){case Be:v=a.get(f);break;case Y:v=t.get(f);break;default:v=i.normalizeStyleValue(f,M,v,n);break}p.set(M,v)}),k||s.push(p),r=p,o=h}),n.length)throw ni(n);return s}function c1(i,e,a,t){switch(e){case"start":i.onStart(()=>t(a&&Z1(a,"start",i)));break;case"done":i.onDone(()=>t(a&&Z1(a,"done",i)));break;case"destroy":i.onDestroy(()=>t(a&&Z1(a,"destroy",i)));break}}function Z1(i,e,a){let t=a.totalTime,n=!!a.disabled,s=h1(i.element,i.triggerName,i.fromState,i.toState,e||i.phaseName,t??i.totalTime,n),o=i._data;return o!=null&&(s._data=o),s}function h1(i,e,a,t,n="",s=0,o){return{element:i,triggerName:e,fromState:a,toState:t,phaseName:n,totalTime:s,disabled:!!o}}function _(i,e,a){let t=i.get(e);return t||i.set(e,t=a),t}function $1(i){let e=i.indexOf(":"),a=i.substring(1,e),t=i.slice(e+1);return[a,t]}var si=typeof document>"u"?null:document.documentElement;function d1(i){let e=i.parentNode||i.host||null;return e===si?null:e}function oi(i){return i.substring(1,6)=="ebkit"}var me=null,H2=!1;function n0(i){me||(me=ri()||{},H2=me.style?"WebkitAppearance"in me.style:!1);let e=!0;return me.style&&!oi(i)&&(e=i in me.style,!e&&H2&&(e="Webkit"+i.charAt(0).toUpperCase()+i.slice(1)in me.style)),e}function ri(){return typeof document<"u"?document.body:null}function J1(i,e){for(;e;){if(e===i)return!0;e=d1(e)}return!1}function Y1(i,e,a){if(a)return Array.from(i.querySelectorAll(e));let t=i.querySelector(e);return t?[t]:[]}var ci=1e3,ea="{{",hi="}}",aa="ng-enter",y1="ng-leave",Ee="ng-trigger",Re=".ng-trigger",ta="ng-animating",l1=".ng-animating";function ne(i){if(typeof i=="number")return i;let e=i.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:K1(parseFloat(e[1]),e[2])}function K1(i,e){switch(e){case"s":return i*ci;default:return i}}function Oe(i,e,a){return i.hasOwnProperty("duration")?i:yi(i,e,a)}var di=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i;function yi(i,e,a){let t,n=0,s="";if(typeof i=="string"){let o=i.match(di);if(o===null)return e.push(P2(i)),{duration:0,delay:0,easing:""};t=K1(parseFloat(o[1]),o[2]);let r=o[3];r!=null&&(n=K1(parseFloat(r),o[4]));let c=o[5];c&&(s=c)}else t=i;if(!a){let o=!1,r=e.length;t<0&&(e.push(Y0()),o=!0),n<0&&(e.push(ei()),o=!0),o&&e.splice(r,0,P2(i))}return{duration:t,delay:n,easing:s}}function s0(i){return i.length?i[0]instanceof Map?i:i.map(e=>new Map(Object.entries(e))):[]}function ee(i,e,a){e.forEach((t,n)=>{let s=p1(n);a&&!a.has(n)&&a.set(n,i.style[s]),i.style[s]=t})}function de(i,e){e.forEach((a,t)=>{let n=p1(t);i.style[n]=""})}function He(i){return Array.isArray(i)?i.length==1?i[0]:z2(i):i}function o0(i,e,a){let t=e.params||{},n=ia(i);n.length&&n.forEach(s=>{t.hasOwnProperty(s)||a.push(ai(s))})}var X1=new RegExp(`${ea}\\s*(.+?)\\s*${hi}`,"g");function ia(i){let e=[];if(typeof i=="string"){let a;for(;a=X1.exec(i);)e.push(a[1]);X1.lastIndex=0}return e}function Te(i,e,a){let t=`${i}`,n=t.replace(X1,(s,o)=>{let r=e[o];return r==null&&(a.push(ti(o)),r=""),r.toString()});return n==t?i:n}var li=/-+([a-z0-9])/g;function p1(i){return i.replace(li,(...e)=>e[1].toUpperCase())}function r0(i,e){return i===0||e===0}function c0(i,e,a){if(a.size&&e.length){let t=e[0],n=[];if(a.forEach((s,o)=>{t.has(o)||n.push(o),t.set(o,s)}),n.length)for(let s=1;s<e.length;s++){let o=e[s];n.forEach(r=>o.set(r,k1(i,r)))}}return e}function B(i,e,a){switch(e.type){case L.Trigger:return i.visitTrigger(e,a);case L.State:return i.visitState(e,a);case L.Transition:return i.visitTransition(e,a);case L.Sequence:return i.visitSequence(e,a);case L.Group:return i.visitGroup(e,a);case L.Animate:return i.visitAnimate(e,a);case L.Keyframes:return i.visitKeyframes(e,a);case L.Style:return i.visitStyle(e,a);case L.Reference:return i.visitReference(e,a);case L.AnimateChild:return i.visitAnimateChild(e,a);case L.AnimateRef:return i.visitAnimateRef(e,a);case L.Query:return i.visitQuery(e,a);case L.Stagger:return i.visitStagger(e,a);default:throw ii(e.type)}}function k1(i,e){return window.getComputedStyle(i)[e]}var fa=(()=>{class i{validateStyleProperty(a){return n0(a)}containsElement(a,t){return J1(a,t)}getParentElement(a){return d1(a)}query(a,t,n){return Y1(a,t,n)}computeStyle(a,t,n){return n||""}animate(a,t,n,s,o,r=[],c){return new oe(n,s)}static \u0275fac=function(t){return new(t||i)};static \u0275prov=Z({token:i,factory:i.\u0275fac})}return i})(),ve=class{static NOOP=new fa},fe=class{};var pi=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),v1=class extends fe{normalizePropertyName(e,a){return p1(e)}normalizeStyleValue(e,a,t,n){let s="",o=t.toString().trim();if(pi.has(a)&&t!==0&&t!=="0")if(typeof t=="number")s="px";else{let r=t.match(/^[+-]?[\d\.]+([a-z]*)$/);r&&r[1].length==0&&n.push(T2(e,t))}return o+s}};var f1="*";function ki(i,e){let a=[];return typeof i=="string"?i.split(/\s*,\s*/).forEach(t=>ui(t,a,e)):a.push(i),a}function ui(i,e,a){if(i[0]==":"){let c=Mi(i,a);if(typeof c=="function"){e.push(c);return}i=c}let t=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(t==null||t.length<4)return a.push(G2(i)),e;let n=t[1],s=t[2],o=t[3];e.push(h0(n,o));let r=n==f1&&o==f1;s[0]=="<"&&!r&&e.push(h0(o,n))}function Mi(i,e){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(a,t)=>parseFloat(t)>parseFloat(a);case":decrement":return(a,t)=>parseFloat(t)<parseFloat(a);default:return e.push(W2(i)),"* => *"}}var u1=new Set(["true","1"]),M1=new Set(["false","0"]);function h0(i,e){let a=u1.has(i)||M1.has(i),t=u1.has(e)||M1.has(e);return(n,s)=>{let o=i==f1||i==n,r=e==f1||e==s;return!o&&a&&typeof n=="boolean"&&(o=n?u1.has(i):M1.has(i)),!r&&t&&typeof s=="boolean"&&(r=s?u1.has(e):M1.has(e)),o&&r}}var v0=":self",mi=new RegExp(`s*${v0}s*,?`,"g");function f0(i,e,a,t){return new ha(i).build(e,a,t)}var d0="",ha=class{_driver;constructor(e){this._driver=e}build(e,a,t){let n=new da(a);return this._resetContextStyleTimingState(n),B(this,He(e),n)}_resetContextStyleTimingState(e){e.currentQuerySelector=d0,e.collectedStyles=new Map,e.collectedStyles.set(d0,new Map),e.currentTime=0}visitTrigger(e,a){let t=a.queryCount=0,n=a.depCount=0,s=[],o=[];return e.name.charAt(0)=="@"&&a.errors.push(V2()),e.definitions.forEach(r=>{if(this._resetContextStyleTimingState(a),r.type==L.State){let c=r,h=c.name;h.toString().split(/\s*,\s*/).forEach(k=>{c.name=k,s.push(this.visitState(c,a))}),c.name=h}else if(r.type==L.Transition){let c=this.visitTransition(r,a);t+=c.queryCount,n+=c.depCount,o.push(c)}else a.errors.push(D2())}),{type:L.Trigger,name:e.name,states:s,transitions:o,queryCount:t,depCount:n,options:null}}visitState(e,a){let t=this.visitStyle(e.styles,a),n=e.options&&e.options.params||null;if(t.containsDynamicStyles){let s=new Set,o=n||{};t.styles.forEach(r=>{r instanceof Map&&r.forEach(c=>{ia(c).forEach(h=>{o.hasOwnProperty(h)||s.add(h)})})}),s.size&&a.errors.push(j2(e.name,[...s.values()]))}return{type:L.State,name:e.name,style:t,options:n?{params:n}:null}}visitTransition(e,a){a.queryCount=0,a.depCount=0;let t=B(this,He(e.animation),a),n=ki(e.expr,a.errors);return{type:L.Transition,matchers:n,animation:t,queryCount:a.queryCount,depCount:a.depCount,options:ge(e.options)}}visitSequence(e,a){return{type:L.Sequence,steps:e.steps.map(t=>B(this,t,a)),options:ge(e.options)}}visitGroup(e,a){let t=a.currentTime,n=0,s=e.steps.map(o=>{a.currentTime=t;let r=B(this,o,a);return n=Math.max(n,a.currentTime),r});return a.currentTime=n,{type:L.Group,steps:s,options:ge(e.options)}}visitAnimate(e,a){let t=Li(e.timings,a.errors);a.currentAnimateTimings=t;let n,s=e.styles?e.styles:W1({});if(s.type==L.Keyframes)n=this.visitKeyframes(s,a);else{let o=e.styles,r=!1;if(!o){r=!0;let h={};t.easing&&(h.easing=t.easing),o=W1(h)}a.currentTime+=t.duration+t.delay;let c=this.visitStyle(o,a);c.isEmptyStep=r,n=c}return a.currentAnimateTimings=null,{type:L.Animate,timings:t,style:n,options:null}}visitStyle(e,a){let t=this._makeStyleAst(e,a);return this._validateStyleAst(t,a),t}_makeStyleAst(e,a){let t=[],n=Array.isArray(e.styles)?e.styles:[e.styles];for(let r of n)typeof r=="string"?r===Y?t.push(r):a.errors.push(F2(r)):t.push(new Map(Object.entries(r)));let s=!1,o=null;return t.forEach(r=>{if(r instanceof Map&&(r.has("easing")&&(o=r.get("easing"),r.delete("easing")),!s)){for(let c of r.values())if(c.toString().indexOf(ea)>=0){s=!0;break}}}),{type:L.Style,styles:t,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,a){let t=a.currentAnimateTimings,n=a.currentTime,s=a.currentTime;t&&s>0&&(s-=t.duration+t.delay),e.styles.forEach(o=>{typeof o!="string"&&o.forEach((r,c)=>{let h=a.collectedStyles.get(a.currentQuerySelector),k=h.get(c),p=!0;k&&(s!=n&&s>=k.startTime&&n<=k.endTime&&(a.errors.push(_2(c,k.startTime,k.endTime,s,n)),p=!1),s=k.startTime),p&&h.set(c,{startTime:s,endTime:n}),a.options&&o0(r,a.options,a.errors)})})}visitKeyframes(e,a){let t={type:L.Keyframes,styles:[],options:null};if(!a.currentAnimateTimings)return a.errors.push(B2()),t;let n=1,s=0,o=[],r=!1,c=!1,h=0,k=e.steps.map(A=>{let z=this._makeStyleAst(A,a),V=z.offset!=null?z.offset:fi(z.styles),H=0;return V!=null&&(s++,H=z.offset=V),c=c||H<0||H>1,r=r||H<h,h=H,o.push(H),z});c&&a.errors.push(E2()),r&&a.errors.push(R2());let p=e.steps.length,x=0;s>0&&s<p?a.errors.push(O2()):s==0&&(x=n/(p-1));let f=p-1,M=a.currentTime,v=a.currentAnimateTimings,I=v.duration;return k.forEach((A,z)=>{let V=x>0?z==f?1:x*z:o[z],H=V*I;a.currentTime=M+v.delay+H,v.duration=H,this._validateStyleAst(A,a),A.offset=V,t.styles.push(A)}),t}visitReference(e,a){return{type:L.Reference,animation:B(this,He(e.animation),a),options:ge(e.options)}}visitAnimateChild(e,a){return a.depCount++,{type:L.AnimateChild,options:ge(e.options)}}visitAnimateRef(e,a){return{type:L.AnimateRef,animation:this.visitReference(e.animation,a),options:ge(e.options)}}visitQuery(e,a){let t=a.currentQuerySelector,n=e.options||{};a.queryCount++,a.currentQuery=e;let[s,o]=gi(e.selector);a.currentQuerySelector=t.length?t+" "+s:s,_(a.collectedStyles,a.currentQuerySelector,new Map);let r=B(this,He(e.animation),a);return a.currentQuery=null,a.currentQuerySelector=t,{type:L.Query,selector:s,limit:n.limit||0,optional:!!n.optional,includeSelf:o,animation:r,originalSelector:e.selector,options:ge(e.options)}}visitStagger(e,a){a.currentQuery||a.errors.push(U2());let t=e.timings==="full"?{duration:0,delay:0,easing:"full"}:Oe(e.timings,a.errors,!0);return{type:L.Stagger,animation:B(this,He(e.animation),a),timings:t,options:null}}};function gi(i){let e=!!i.split(/\s*,\s*/).find(a=>a==v0);return e&&(i=i.replace(mi,"")),i=i.replace(/@\*/g,Re).replace(/@\w+/g,a=>Re+"-"+a.slice(1)).replace(/:animating/g,l1),[i,e]}function vi(i){return i?ke({},i):null}var da=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(e){this.errors=e}};function fi(i){if(typeof i=="string")return null;let e=null;if(Array.isArray(i))i.forEach(a=>{if(a instanceof Map&&a.has("offset")){let t=a;e=parseFloat(t.get("offset")),t.delete("offset")}});else if(i instanceof Map&&i.has("offset")){let a=i;e=parseFloat(a.get("offset")),a.delete("offset")}return e}function Li(i,e){if(i.hasOwnProperty("duration"))return i;if(typeof i=="number"){let s=Oe(i,e).duration;return na(s,0,"")}let a=i;if(a.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=na(0,0,"");return s.dynamic=!0,s.strValue=a,s}let n=Oe(a,e);return na(n.duration,n.delay,n.easing)}function ge(i){return i?(i=ke({},i),i.params&&(i.params=vi(i.params))):i={},i}function na(i,e,a){return{duration:i,delay:e,easing:a}}function La(i,e,a,t,n,s,o=null,r=!1){return{type:1,element:i,keyframes:e,preStyleProps:a,postStyleProps:t,duration:n,delay:s,totalTime:n+s,easing:o,subTimeline:r}}var Ne=class{_map=new Map;get(e){return this._map.get(e)||[]}append(e,a){let t=this._map.get(e);t||this._map.set(e,t=[]),t.push(...a)}has(e){return this._map.has(e)}clear(){this._map.clear()}},xi=1,wi=":enter",Ci=new RegExp(wi,"g"),Si=":leave",Ii=new RegExp(Si,"g");function L0(i,e,a,t,n,s=new Map,o=new Map,r,c,h=[]){return new ya().buildKeyframes(i,e,a,t,n,s,o,r,c,h)}var ya=class{buildKeyframes(e,a,t,n,s,o,r,c,h,k=[]){h=h||new Ne;let p=new la(e,a,h,n,s,k,[]);p.options=c;let x=c.delay?ne(c.delay):0;p.currentTimeline.delayNextStep(x),p.currentTimeline.setStyles([o],null,p.errors,c),B(this,t,p);let f=p.timelines.filter(M=>M.containsAnimation());if(f.length&&r.size){let M;for(let v=f.length-1;v>=0;v--){let I=f[v];if(I.element===a){M=I;break}}M&&!M.allowOnlyTimelineStyles()&&M.setStyles([r],null,p.errors,c)}return f.length?f.map(M=>M.buildKeyframes()):[La(a,[],[],[],0,x,"",!1)]}visitTrigger(e,a){}visitState(e,a){}visitTransition(e,a){}visitAnimateChild(e,a){let t=a.subInstructions.get(a.element);if(t){let n=a.createSubContext(e.options),s=a.currentTimeline.currentTime,o=this._visitSubInstructions(t,n,n.options);s!=o&&a.transformIntoNewTimeline(o)}a.previousNode=e}visitAnimateRef(e,a){let t=a.createSubContext(e.options);t.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],a,t),this.visitReference(e.animation,t),a.transformIntoNewTimeline(t.currentTimeline.currentTime),a.previousNode=e}_applyAnimationRefDelays(e,a,t){for(let n of e){let s=n?.delay;if(s){let o=typeof s=="number"?s:ne(Te(s,n?.params??{},a.errors));t.delayNextStep(o)}}}_visitSubInstructions(e,a,t){let s=a.currentTimeline.currentTime,o=t.duration!=null?ne(t.duration):null,r=t.delay!=null?ne(t.delay):null;return o!==0&&e.forEach(c=>{let h=a.appendInstructionToTimeline(c,o,r);s=Math.max(s,h.duration+h.delay)}),s}visitReference(e,a){a.updateOptions(e.options,!0),B(this,e.animation,a),a.previousNode=e}visitSequence(e,a){let t=a.subContextCount,n=a,s=e.options;if(s&&(s.params||s.delay)&&(n=a.createSubContext(s),n.transformIntoNewTimeline(),s.delay!=null)){n.previousNode.type==L.Style&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=L1);let o=ne(s.delay);n.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>B(this,o,n)),n.currentTimeline.applyStylesToKeyframe(),n.subContextCount>t&&n.transformIntoNewTimeline()),a.previousNode=e}visitGroup(e,a){let t=[],n=a.currentTimeline.currentTime,s=e.options&&e.options.delay?ne(e.options.delay):0;e.steps.forEach(o=>{let r=a.createSubContext(e.options);s&&r.delayNextStep(s),B(this,o,r),n=Math.max(n,r.currentTimeline.currentTime),t.push(r.currentTimeline)}),t.forEach(o=>a.currentTimeline.mergeTimelineCollectedStyles(o)),a.transformIntoNewTimeline(n),a.previousNode=e}_visitTiming(e,a){if(e.dynamic){let t=e.strValue,n=a.params?Te(t,a.params,a.errors):t;return Oe(n,a.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,a){let t=a.currentAnimateTimings=this._visitTiming(e.timings,a),n=a.currentTimeline;t.delay&&(a.incrementTime(t.delay),n.snapshotCurrentStyles());let s=e.style;s.type==L.Keyframes?this.visitKeyframes(s,a):(a.incrementTime(t.duration),this.visitStyle(s,a),n.applyStylesToKeyframe()),a.currentAnimateTimings=null,a.previousNode=e}visitStyle(e,a){let t=a.currentTimeline,n=a.currentAnimateTimings;!n&&t.hasCurrentStyleProperties()&&t.forwardFrame();let s=n&&n.easing||e.easing;e.isEmptyStep?t.applyEmptyStep(s):t.setStyles(e.styles,s,a.errors,a.options),a.previousNode=e}visitKeyframes(e,a){let t=a.currentAnimateTimings,n=a.currentTimeline.duration,s=t.duration,r=a.createSubContext().currentTimeline;r.easing=t.easing,e.styles.forEach(c=>{let h=c.offset||0;r.forwardTime(h*s),r.setStyles(c.styles,c.easing,a.errors,a.options),r.applyStylesToKeyframe()}),a.currentTimeline.mergeTimelineCollectedStyles(r),a.transformIntoNewTimeline(n+s),a.previousNode=e}visitQuery(e,a){let t=a.currentTimeline.currentTime,n=e.options||{},s=n.delay?ne(n.delay):0;s&&(a.previousNode.type===L.Style||t==0&&a.currentTimeline.hasCurrentStyleProperties())&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=L1);let o=t,r=a.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!n.optional,a.errors);a.currentQueryTotal=r.length;let c=null;r.forEach((h,k)=>{a.currentQueryIndex=k;let p=a.createSubContext(e.options,h);s&&p.delayNextStep(s),h===a.element&&(c=p.currentTimeline),B(this,e.animation,p),p.currentTimeline.applyStylesToKeyframe();let x=p.currentTimeline.currentTime;o=Math.max(o,x)}),a.currentQueryIndex=0,a.currentQueryTotal=0,a.transformIntoNewTimeline(o),c&&(a.currentTimeline.mergeTimelineCollectedStyles(c),a.currentTimeline.snapshotCurrentStyles()),a.previousNode=e}visitStagger(e,a){let t=a.parentContext,n=a.currentTimeline,s=e.timings,o=Math.abs(s.duration),r=o*(a.currentQueryTotal-1),c=o*a.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":c=r-c;break;case"full":c=t.currentStaggerTime;break}let k=a.currentTimeline;c&&k.delayNextStep(c);let p=k.currentTime;B(this,e.animation,a),a.previousNode=e,t.currentStaggerTime=n.currentTime-p+(n.startTime-t.currentTimeline.startTime)}},L1={},la=class i{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=L1;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(e,a,t,n,s,o,r,c){this._driver=e,this.element=a,this.subInstructions=t,this._enterClassName=n,this._leaveClassName=s,this.errors=o,this.timelines=r,this.currentTimeline=c||new x1(this._driver,a,0),r.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,a){if(!e)return;let t=e,n=this.options;t.duration!=null&&(n.duration=ne(t.duration)),t.delay!=null&&(n.delay=ne(t.delay));let s=t.params;if(s){let o=n.params;o||(o=this.options.params={}),Object.keys(s).forEach(r=>{(!a||!o.hasOwnProperty(r))&&(o[r]=Te(s[r],o,this.errors))})}}_copyOptions(){let e={};if(this.options){let a=this.options.params;if(a){let t=e.params={};Object.keys(a).forEach(n=>{t[n]=a[n]})}}return e}createSubContext(e=null,a,t){let n=a||this.element,s=new i(this._driver,n,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(n,t||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=L1,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,a,t){let n={duration:a??e.duration,delay:this.currentTimeline.currentTime+(t??0)+e.delay,easing:""},s=new pa(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,n,e.stretchStartingKeyframe);return this.timelines.push(s),n}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,a,t,n,s,o){let r=[];if(n&&r.push(this.element),e.length>0){e=e.replace(Ci,"."+this._enterClassName),e=e.replace(Ii,"."+this._leaveClassName);let c=t!=1,h=this._driver.query(this.element,e,c);t!==0&&(h=t<0?h.slice(h.length+t,h.length):h.slice(0,t)),r.push(...h)}return!s&&r.length==0&&o.push(N2(a)),r}},x1=class i{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(e,a,t,n){this._driver=e,this.element=a,this.startTime=t,this._elementTimelineStylesLookup=n,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(a),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(a,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let a=this._keyframes.size===1&&this._pendingStyles.size;this.duration||a?(this.forwardTime(this.currentTime+e),a&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,a){return this.applyStylesToKeyframe(),new i(this._driver,e,a||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=xi,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,a){this._localTimelineStyles.set(e,a),this._globalTimelineStyles.set(e,a),this._styleSummary.set(e,{time:this.currentTime,value:a})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[a,t]of this._globalTimelineStyles)this._backFill.set(a,t||Y),this._currentKeyframe.set(a,Y);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,a,t,n){a&&this._previousKeyframe.set("easing",a);let s=n&&n.params||{},o=bi(e,this._globalTimelineStyles);for(let[r,c]of o){let h=Te(c,s,t);this._pendingStyles.set(r,h),this._localTimelineStyles.has(r)||this._backFill.set(r,this._globalTimelineStyles.get(r)??Y),this._updateStyle(r,h)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,a)=>{this._currentKeyframe.set(a,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,a)=>{this._currentKeyframe.has(a)||this._currentKeyframe.set(a,e)}))}snapshotCurrentStyles(){for(let[e,a]of this._localTimelineStyles)this._pendingStyles.set(e,a),this._updateStyle(e,a)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let a in this._currentKeyframe)e.push(a);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((a,t)=>{let n=this._styleSummary.get(t);(!n||a.time>n.time)&&this._updateStyle(t,a.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,a=new Set,t=this._keyframes.size===1&&this.duration===0,n=[];this._keyframes.forEach((r,c)=>{let h=new Map([...this._backFill,...r]);h.forEach((k,p)=>{k===Be?e.add(p):k===Y&&a.add(p)}),t||h.set("offset",c/this.duration),n.push(h)});let s=[...e.values()],o=[...a.values()];if(t){let r=n[0],c=new Map(r);r.set("offset",0),c.set("offset",1),n=[r,c]}return La(this.element,n,s,o,this.duration,this.startTime,this.easing,!1)}},pa=class extends x1{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(e,a,t,n,s,o,r=!1){super(e,a,o.delay),this.keyframes=t,this.preStyleProps=n,this.postStyleProps=s,this._stretchStartingKeyframe=r,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:a,duration:t,easing:n}=this.timings;if(this._stretchStartingKeyframe&&a){let s=[],o=t+a,r=a/o,c=new Map(e[0]);c.set("offset",0),s.push(c);let h=new Map(e[0]);h.set("offset",y0(r)),s.push(h);let k=e.length-1;for(let p=1;p<=k;p++){let x=new Map(e[p]),f=x.get("offset"),M=a+f*t;x.set("offset",y0(M/o)),s.push(x)}t=o,a=0,n="",e=s}return La(this.element,e,this.preStyleProps,this.postStyleProps,t,a,n,!0)}};function y0(i,e=3){let a=Math.pow(10,e-1);return Math.round(i*a)/a}function bi(i,e){let a=new Map,t;return i.forEach(n=>{if(n==="*"){t??=e.keys();for(let s of t)a.set(s,Y)}else for(let[s,o]of n)a.set(s,o)}),a}function l0(i,e,a,t,n,s,o,r,c,h,k,p,x){return{type:0,element:i,triggerName:e,isRemovalTransition:n,fromState:a,fromStyles:s,toState:t,toStyles:o,timelines:r,queriedElements:c,preStyleProps:h,postStyleProps:k,totalTime:p,errors:x}}var sa={},w1=class{_triggerName;ast;_stateStyles;constructor(e,a,t){this._triggerName=e,this.ast=a,this._stateStyles=t}match(e,a,t,n){return qi(this.ast.matchers,e,a,t,n)}buildStyles(e,a,t){let n=this._stateStyles.get("*");return e!==void 0&&(n=this._stateStyles.get(e?.toString())||n),n?n.buildStyles(a,t):new Map}build(e,a,t,n,s,o,r,c,h,k){let p=[],x=this.ast.options&&this.ast.options.params||sa,f=r&&r.params||sa,M=this.buildStyles(t,f,p),v=c&&c.params||sa,I=this.buildStyles(n,v,p),A=new Set,z=new Map,V=new Map,H=n==="void",Le={params:x0(v,x),delay:this.ast.options?.delay},te=k?[]:L0(e,a,this.ast.animation,s,o,M,I,Le,h,p),D=0;return te.forEach(j=>{D=Math.max(j.duration+j.delay,D)}),p.length?l0(a,this._triggerName,t,n,H,M,I,[],[],z,V,D,p):(te.forEach(j=>{let ye=j.element,xe=_(z,ye,new Set);j.preStyleProps.forEach(le=>xe.add(le));let xa=_(V,ye,new Set);j.postStyleProps.forEach(le=>xa.add(le)),ye!==a&&A.add(ye)}),l0(a,this._triggerName,t,n,H,M,I,te,[...A.values()],z,V,D))}};function qi(i,e,a,t,n){return i.some(s=>s(e,a,t,n))}function x0(i,e){let a=ke({},e);return Object.entries(i).forEach(([t,n])=>{n!=null&&(a[t]=n)}),a}var ka=class{styles;defaultParams;normalizer;constructor(e,a,t){this.styles=e,this.defaultParams=a,this.normalizer=t}buildStyles(e,a){let t=new Map,n=x0(e,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((o,r)=>{o&&(o=Te(o,n,a));let c=this.normalizer.normalizePropertyName(r,a);o=this.normalizer.normalizeStyleValue(r,c,o,a),t.set(r,o)})}),t}};function Ai(i,e,a){return new ua(i,e,a)}var ua=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(e,a,t){this.name=e,this.ast=a,this._normalizer=t,a.states.forEach(n=>{let s=n.options&&n.options.params||{};this.states.set(n.name,new ka(n.style,s,t))}),p0(this.states,"true","1"),p0(this.states,"false","0"),a.transitions.forEach(n=>{this.transitionFactories.push(new w1(e,n,this.states))}),this.fallbackTransition=zi(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,a,t,n){return this.transitionFactories.find(o=>o.match(e,a,t,n))||null}matchStyles(e,a,t){return this.fallbackTransition.buildStyles(e,a,t)}};function zi(i,e,a){let t=[(o,r)=>!0],n={type:L.Sequence,steps:[],options:null},s={type:L.Transition,animation:n,matchers:t,options:null,queryCount:0,depCount:0};return new w1(i,s,e)}function p0(i,e,a){i.has(e)?i.has(a)||i.set(a,i.get(e)):i.has(a)&&i.set(e,i.get(a))}var Pi=new Ne,Ma=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(e,a,t){this.bodyNode=e,this._driver=a,this._normalizer=t}register(e,a){let t=[],n=[],s=f0(this._driver,a,t,n);if(t.length)throw K2(t);this._animations.set(e,s)}_buildPlayer(e,a,t){let n=e.element,s=Q1(this._normalizer,e.keyframes,a,t);return this._driver.animate(n,s,e.duration,e.delay,e.easing,[],!0)}create(e,a,t={}){let n=[],s=this._animations.get(e),o,r=new Map;if(s?(o=L0(this._driver,a,s,aa,y1,new Map,new Map,t,Pi,n),o.forEach(k=>{let p=_(r,k.element,new Map);k.postStyleProps.forEach(x=>p.set(x,null))})):(n.push(X2()),o=[]),n.length)throw Q2(n);r.forEach((k,p)=>{k.forEach((x,f)=>{k.set(f,this._driver.computeStyle(p,f,Y))})});let c=o.map(k=>{let p=r.get(k.element);return this._buildPlayer(k,new Map,p)}),h=re(c);return this._playersById.set(e,h),h.onDestroy(()=>this.destroy(e)),this.players.push(h),h}destroy(e){let a=this._getPlayer(e);a.destroy(),this._playersById.delete(e);let t=this.players.indexOf(a);t>=0&&this.players.splice(t,1)}_getPlayer(e){let a=this._playersById.get(e);if(!a)throw $2(e);return a}listen(e,a,t,n){let s=h1(a,"","","");return c1(this._getPlayer(e),t,s,n),()=>{}}command(e,a,t,n){if(t=="register"){this.register(e,n[0]);return}if(t=="create"){let o=n[0]||{};this.create(e,a,o);return}let s=this._getPlayer(e);switch(t){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(n[0]));break;case"destroy":this.destroy(e);break}}},k0="ng-animate-queued",Hi=".ng-animate-queued",oa="ng-animate-disabled",Ti=".ng-animate-disabled",Vi="ng-star-inserted",Di=".ng-star-inserted",ji=[],w0={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Fi={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ae="__ng_removed",Ge=class{namespaceId;value;options;get params(){return this.options.params}constructor(e,a=""){this.namespaceId=a;let t=e&&e.hasOwnProperty("value"),n=t?e.value:e;if(this.value=Bi(n),t){let s=e,{value:o}=s,r=Ia(s,["value"]);this.options=r}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let a=e.params;if(a){let t=this.options.params;Object.keys(a).forEach(n=>{t[n]==null&&(t[n]=a[n])})}}},Ue="void",ra=new Ge(Ue),ma=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(e,a,t){this.id=e,this.hostElement=a,this._engine=t,this._hostClassName="ng-tns-"+e,W(a,this._hostClassName)}listen(e,a,t,n){if(!this._triggers.has(a))throw J2(t,a);if(t==null||t.length==0)throw Y2(a);if(!Ei(t))throw e0(t,a);let s=_(this._elementListeners,e,[]),o={name:a,phase:t,callback:n};s.push(o);let r=_(this._engine.statesByElement,e,new Map);return r.has(a)||(W(e,Ee),W(e,Ee+"-"+a),r.set(a,ra)),()=>{this._engine.afterFlush(()=>{let c=s.indexOf(o);c>=0&&s.splice(c,1),this._triggers.has(a)||r.delete(a)})}}register(e,a){return this._triggers.has(e)?!1:(this._triggers.set(e,a),!0)}_getTrigger(e){let a=this._triggers.get(e);if(!a)throw a0(e);return a}trigger(e,a,t,n=!0){let s=this._getTrigger(a),o=new We(this.id,a,e),r=this._engine.statesByElement.get(e);r||(W(e,Ee),W(e,Ee+"-"+a),this._engine.statesByElement.set(e,r=new Map));let c=r.get(a),h=new Ge(t,this.id);if(!(t&&t.hasOwnProperty("value"))&&c&&h.absorbOptions(c.options),r.set(a,h),c||(c=ra),!(h.value===Ue)&&c.value===h.value){if(!Ui(c.params,h.params)){let v=[],I=s.matchStyles(c.value,c.params,v),A=s.matchStyles(h.value,h.params,v);v.length?this._engine.reportError(v):this._engine.afterFlush(()=>{de(e,I),ee(e,A)})}return}let x=_(this._engine.playersByElement,e,[]);x.forEach(v=>{v.namespaceId==this.id&&v.triggerName==a&&v.queued&&v.destroy()});let f=s.matchTransition(c.value,h.value,e,h.params),M=!1;if(!f){if(!n)return;f=s.fallbackTransition,M=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:a,transition:f,fromState:c,toState:h,player:o,isFallbackTransition:M}),M||(W(e,k0),o.onStart(()=>{Ve(e,k0)})),o.onDone(()=>{let v=this.players.indexOf(o);v>=0&&this.players.splice(v,1);let I=this._engine.playersByElement.get(e);if(I){let A=I.indexOf(o);A>=0&&I.splice(A,1)}}),this.players.push(o),x.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(a=>a.delete(e)),this._elementListeners.forEach((a,t)=>{this._elementListeners.set(t,a.filter(n=>n.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let a=this._engine.playersByElement.get(e);a&&(a.forEach(t=>t.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,a){let t=this._engine.driver.query(e,Re,!0);t.forEach(n=>{if(n[ae])return;let s=this._engine.fetchNamespacesByElement(n);s.size?s.forEach(o=>o.triggerLeaveAnimation(n,a,!1,!0)):this.clearElementCache(n)}),this._engine.afterFlushAnimationsDone(()=>t.forEach(n=>this.clearElementCache(n)))}triggerLeaveAnimation(e,a,t,n){let s=this._engine.statesByElement.get(e),o=new Map;if(s){let r=[];if(s.forEach((c,h)=>{if(o.set(h,c.value),this._triggers.has(h)){let k=this.trigger(e,h,Ue,n);k&&r.push(k)}}),r.length)return this._engine.markElementAsRemoved(this.id,e,!0,a,o),t&&re(r).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let a=this._elementListeners.get(e),t=this._engine.statesByElement.get(e);if(a&&t){let n=new Set;a.forEach(s=>{let o=s.name;if(n.has(o))return;n.add(o);let c=this._triggers.get(o).fallbackTransition,h=t.get(o)||ra,k=new Ge(Ue),p=new We(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:c,fromState:h,toState:k,player:p,isFallbackTransition:!0})})}}removeNode(e,a){let t=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,a),this.triggerLeaveAnimation(e,a,!0))return;let n=!1;if(t.totalAnimations){let s=t.players.length?t.playersByQueriedElement.get(e):[];if(s&&s.length)n=!0;else{let o=e;for(;o=o.parentNode;)if(t.statesByElement.get(o)){n=!0;break}}}if(this.prepareLeaveAnimationListeners(e),n)t.markElementAsRemoved(this.id,e,!1,a);else{let s=e[ae];(!s||s===w0)&&(t.afterFlush(()=>this.clearElementCache(e)),t.destroyInnerAnimations(e),t._onRemovalComplete(e,a))}}insertNode(e,a){W(e,this._hostClassName)}drainQueuedTransitions(e){let a=[];return this._queue.forEach(t=>{let n=t.player;if(n.destroyed)return;let s=t.element,o=this._elementListeners.get(s);o&&o.forEach(r=>{if(r.name==t.triggerName){let c=h1(s,t.triggerName,t.fromState.value,t.toState.value);c._data=e,c1(t.player,r.phase,c,r.callback)}}),n.markedForDestroy?this._engine.afterFlush(()=>{n.destroy()}):a.push(t)}),this._queue=[],a.sort((t,n)=>{let s=t.transition.ast.depCount,o=n.transition.ast.depCount;return s==0||o==0?s-o:this._engine.driver.containsElement(t.element,n.element)?1:-1})}destroy(e){this.players.forEach(a=>a.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},ga=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(e,a)=>{};_onRemovalComplete(e,a){this.onRemovalComplete(e,a)}constructor(e,a,t){this.bodyNode=e,this.driver=a,this._normalizer=t}get queuedPlayers(){let e=[];return this._namespaceList.forEach(a=>{a.players.forEach(t=>{t.queued&&e.push(t)})}),e}createNamespace(e,a){let t=new ma(e,a,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,a)?this._balanceNamespaceList(t,a):(this.newHostElements.set(a,t),this.collectEnterElement(a)),this._namespaceLookup[e]=t}_balanceNamespaceList(e,a){let t=this._namespaceList,n=this.namespacesByHostElement;if(t.length-1>=0){let o=!1,r=this.driver.getParentElement(a);for(;r;){let c=n.get(r);if(c){let h=t.indexOf(c);t.splice(h+1,0,e),o=!0;break}r=this.driver.getParentElement(r)}o||t.unshift(e)}else t.push(e);return n.set(a,e),e}register(e,a){let t=this._namespaceLookup[e];return t||(t=this.createNamespace(e,a)),t}registerTrigger(e,a,t){let n=this._namespaceLookup[e];n&&n.register(a,t)&&this.totalAnimations++}destroy(e,a){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let t=this._fetchNamespace(e);this.namespacesByHostElement.delete(t.hostElement);let n=this._namespaceList.indexOf(t);n>=0&&this._namespaceList.splice(n,1),t.destroy(a),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let a=new Set,t=this.statesByElement.get(e);if(t){for(let n of t.values())if(n.namespaceId){let s=this._fetchNamespace(n.namespaceId);s&&a.add(s)}}return a}trigger(e,a,t,n){if(m1(a)){let s=this._fetchNamespace(e);if(s)return s.trigger(a,t,n),!0}return!1}insertNode(e,a,t,n){if(!m1(a))return;let s=a[ae];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let o=this.collectedLeaveElements.indexOf(a);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){let o=this._fetchNamespace(e);o&&o.insertNode(a,t)}n&&this.collectEnterElement(a)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,a){a?this.disabledNodes.has(e)||(this.disabledNodes.add(e),W(e,oa)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Ve(e,oa))}removeNode(e,a,t){if(m1(a)){let n=e?this._fetchNamespace(e):null;n?n.removeNode(a,t):this.markElementAsRemoved(e,a,!1,t);let s=this.namespacesByHostElement.get(a);s&&s.id!==e&&s.removeNode(a,t)}else this._onRemovalComplete(a,t)}markElementAsRemoved(e,a,t,n,s){this.collectedLeaveElements.push(a),a[ae]={namespaceId:e,setForRemoval:n,hasAnimation:t,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,a,t,n,s){return m1(a)?this._fetchNamespace(e).listen(a,t,n,s):()=>{}}_buildInstruction(e,a,t,n,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,t,n,e.fromState.options,e.toState.options,a,s)}destroyInnerAnimations(e){let a=this.driver.query(e,Re,!0);a.forEach(t=>this.destroyActiveAnimationsForElement(t)),this.playersByQueriedElement.size!=0&&(a=this.driver.query(e,l1,!0),a.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(e){let a=this.playersByElement.get(e);a&&a.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(e){let a=this.playersByQueriedElement.get(e);a&&a.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return re(this.players).onDone(()=>e());e()})}processLeaveNode(e){let a=e[ae];if(a&&a.setForRemoval){if(e[ae]=w0,a.namespaceId){this.destroyInnerAnimations(e);let t=this._fetchNamespace(a.namespaceId);t&&t.clearElementCache(e)}this._onRemovalComplete(e,a.setForRemoval)}e.classList?.contains(oa)&&this.markElementAsDisabled(e,!1),this.driver.query(e,Ti,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(e=-1){let a=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,n)=>this._balanceNamespaceList(t,n)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let t=0;t<this.collectedEnterElements.length;t++){let n=this.collectedEnterElements[t];W(n,Vi)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let t=[];try{a=this._flushAnimations(t,e)}finally{for(let n=0;n<t.length;n++)t[n]()}}else for(let t=0;t<this.collectedLeaveElements.length;t++){let n=this.collectedLeaveElements[t];this.processLeaveNode(n)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){let t=this._whenQuietFns;this._whenQuietFns=[],a.length?re(a).onDone(()=>{t.forEach(n=>n())}):t.forEach(n=>n())}}reportError(e){throw t0(e)}_flushAnimations(e,a){let t=new Ne,n=[],s=new Map,o=[],r=new Map,c=new Map,h=new Map,k=new Set;this.disabledNodes.forEach(u=>{k.add(u);let m=this.driver.query(u,Hi,!0);for(let g=0;g<m.length;g++)k.add(m[g])});let p=this.bodyNode,x=Array.from(this.statesByElement.keys()),f=m0(x,this.collectedEnterElements),M=new Map,v=0;f.forEach((u,m)=>{let g=aa+v++;M.set(m,g),u.forEach(C=>W(C,g))});let I=[],A=new Set,z=new Set;for(let u=0;u<this.collectedLeaveElements.length;u++){let m=this.collectedLeaveElements[u],g=m[ae];g&&g.setForRemoval&&(I.push(m),A.add(m),g.hasAnimation?this.driver.query(m,Di,!0).forEach(C=>A.add(C)):z.add(m))}let V=new Map,H=m0(x,Array.from(A));H.forEach((u,m)=>{let g=y1+v++;V.set(m,g),u.forEach(C=>W(C,g))}),e.push(()=>{f.forEach((u,m)=>{let g=M.get(m);u.forEach(C=>Ve(C,g))}),H.forEach((u,m)=>{let g=V.get(m);u.forEach(C=>Ve(C,g))}),I.forEach(u=>{this.processLeaveNode(u)})});let Le=[],te=[];for(let u=this._namespaceList.length-1;u>=0;u--)this._namespaceList[u].drainQueuedTransitions(a).forEach(g=>{let C=g.player,P=g.element;if(Le.push(C),this.collectedEnterElements.length){let T=P[ae];if(T&&T.setForMove){if(T.previousTriggersValues&&T.previousTriggersValues.has(g.triggerName)){let pe=T.previousTriggersValues.get(g.triggerName),U=this.statesByElement.get(g.element);if(U&&U.has(g.triggerName)){let Ze=U.get(g.triggerName);Ze.value=pe,U.set(g.triggerName,Ze)}}C.destroy();return}}let ie=!p||!this.driver.containsElement(p,P),E=V.get(P),ce=M.get(P),b=this._buildInstruction(g,t,ce,E,ie);if(b.errors&&b.errors.length){te.push(b);return}if(ie){C.onStart(()=>de(P,b.fromStyles)),C.onDestroy(()=>ee(P,b.toStyles)),n.push(C);return}if(g.isFallbackTransition){C.onStart(()=>de(P,b.fromStyles)),C.onDestroy(()=>ee(P,b.toStyles)),n.push(C);return}let Sa=[];b.timelines.forEach(T=>{T.stretchStartingKeyframe=!0,this.disabledNodes.has(T.element)||Sa.push(T)}),b.timelines=Sa,t.append(P,b.timelines);let A0={instruction:b,player:C,element:P};o.push(A0),b.queriedElements.forEach(T=>_(r,T,[]).push(C)),b.preStyleProps.forEach((T,pe)=>{if(T.size){let U=c.get(pe);U||c.set(pe,U=new Set),T.forEach((Ze,z1)=>U.add(z1))}}),b.postStyleProps.forEach((T,pe)=>{let U=h.get(pe);U||h.set(pe,U=new Set),T.forEach((Ze,z1)=>U.add(z1))})});if(te.length){let u=[];te.forEach(m=>{u.push(i0(m.triggerName,m.errors))}),Le.forEach(m=>m.destroy()),this.reportError(u)}let D=new Map,j=new Map;o.forEach(u=>{let m=u.element;t.has(m)&&(j.set(m,m),this._beforeAnimationBuild(u.player.namespaceId,u.instruction,D))}),n.forEach(u=>{let m=u.element;this._getPreviousPlayers(m,!1,u.namespaceId,u.triggerName,null).forEach(C=>{_(D,m,[]).push(C),C.destroy()})});let ye=I.filter(u=>g0(u,c,h)),xe=new Map;M0(xe,this.driver,z,h,Y).forEach(u=>{g0(u,c,h)&&ye.push(u)});let le=new Map;f.forEach((u,m)=>{M0(le,this.driver,new Set(u),c,Be)}),ye.forEach(u=>{let m=xe.get(u),g=le.get(u);xe.set(u,new Map([...m?.entries()??[],...g?.entries()??[]]))});let A1=[],wa=[],Ca={};o.forEach(u=>{let{element:m,player:g,instruction:C}=u;if(t.has(m)){if(k.has(m)){g.onDestroy(()=>ee(m,C.toStyles)),g.disabled=!0,g.overrideTotalTime(C.totalTime),n.push(g);return}let P=Ca;if(j.size>1){let E=m,ce=[];for(;E=E.parentNode;){let b=j.get(E);if(b){P=b;break}ce.push(E)}ce.forEach(b=>j.set(b,P))}let ie=this._buildAnimation(g.namespaceId,C,D,s,le,xe);if(g.setRealPlayer(ie),P===Ca)A1.push(g);else{let E=this.playersByElement.get(P);E&&E.length&&(g.parentPlayer=re(E)),n.push(g)}}else de(m,C.fromStyles),g.onDestroy(()=>ee(m,C.toStyles)),wa.push(g),k.has(m)&&n.push(g)}),wa.forEach(u=>{let m=s.get(u.element);if(m&&m.length){let g=re(m);u.setRealPlayer(g)}}),n.forEach(u=>{u.parentPlayer?u.syncPlayerEvents(u.parentPlayer):u.destroy()});for(let u=0;u<I.length;u++){let m=I[u],g=m[ae];if(Ve(m,y1),g&&g.hasAnimation)continue;let C=[];if(r.size){let ie=r.get(m);ie&&ie.length&&C.push(...ie);let E=this.driver.query(m,l1,!0);for(let ce=0;ce<E.length;ce++){let b=r.get(E[ce]);b&&b.length&&C.push(...b)}}let P=C.filter(ie=>!ie.destroyed);P.length?Ri(this,m,P):this.processLeaveNode(m)}return I.length=0,A1.forEach(u=>{this.players.push(u),u.onDone(()=>{u.destroy();let m=this.players.indexOf(u);this.players.splice(m,1)}),u.play()}),A1}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,a,t,n,s){let o=[];if(a){let r=this.playersByQueriedElement.get(e);r&&(o=r)}else{let r=this.playersByElement.get(e);if(r){let c=!s||s==Ue;r.forEach(h=>{h.queued||!c&&h.triggerName!=n||o.push(h)})}}return(t||n)&&(o=o.filter(r=>!(t&&t!=r.namespaceId||n&&n!=r.triggerName))),o}_beforeAnimationBuild(e,a,t){let n=a.triggerName,s=a.element,o=a.isRemovalTransition?void 0:e,r=a.isRemovalTransition?void 0:n;for(let c of a.timelines){let h=c.element,k=h!==s,p=_(t,h,[]);this._getPreviousPlayers(h,k,o,r,a.toState).forEach(f=>{let M=f.getRealPlayer();M.beforeDestroy&&M.beforeDestroy(),f.destroy(),p.push(f)})}de(s,a.fromStyles)}_buildAnimation(e,a,t,n,s,o){let r=a.triggerName,c=a.element,h=[],k=new Set,p=new Set,x=a.timelines.map(M=>{let v=M.element;k.add(v);let I=v[ae];if(I&&I.removedBeforeQueried)return new oe(M.duration,M.delay);let A=v!==c,z=Oi((t.get(v)||ji).map(D=>D.getRealPlayer())).filter(D=>{let j=D;return j.element?j.element===v:!1}),V=s.get(v),H=o.get(v),Le=Q1(this._normalizer,M.keyframes,V,H),te=this._buildPlayer(M,Le,z);if(M.subTimeline&&n&&p.add(v),A){let D=new We(e,r,v);D.setRealPlayer(te),h.push(D)}return te});h.forEach(M=>{_(this.playersByQueriedElement,M.element,[]).push(M),M.onDone(()=>_i(this.playersByQueriedElement,M.element,M))}),k.forEach(M=>W(M,ta));let f=re(x);return f.onDestroy(()=>{k.forEach(M=>Ve(M,ta)),ee(c,a.toStyles)}),p.forEach(M=>{_(n,M,[]).push(f)}),f}_buildPlayer(e,a,t){return a.length>0?this.driver.animate(e.element,a,e.duration,e.delay,e.easing,t):new oe(e.duration,e.delay)}},We=class{namespaceId;triggerName;element;_player=new oe;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(e,a,t){this.namespaceId=e,this.triggerName=a,this.element=t}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((a,t)=>{a.forEach(n=>c1(e,t,void 0,n))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let a=this._player;a.triggerCallback&&e.onStart(()=>a.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,a){_(this._queuedCallbacks,e,[]).push(a)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let a=this._player;a.triggerCallback&&a.triggerCallback(e)}};function _i(i,e,a){let t=i.get(e);if(t){if(t.length){let n=t.indexOf(a);t.splice(n,1)}t.length==0&&i.delete(e)}return t}function Bi(i){return i??null}function m1(i){return i&&i.nodeType===1}function Ei(i){return i=="start"||i=="done"}function u0(i,e){let a=i.style.display;return i.style.display=e??"none",a}function M0(i,e,a,t,n){let s=[];a.forEach(c=>s.push(u0(c)));let o=[];t.forEach((c,h)=>{let k=new Map;c.forEach(p=>{let x=e.computeStyle(h,p,n);k.set(p,x),(!x||x.length==0)&&(h[ae]=Fi,o.push(h))}),i.set(h,k)});let r=0;return a.forEach(c=>u0(c,s[r++])),o}function m0(i,e){let a=new Map;if(i.forEach(r=>a.set(r,[])),e.length==0)return a;let t=1,n=new Set(e),s=new Map;function o(r){if(!r)return t;let c=s.get(r);if(c)return c;let h=r.parentNode;return a.has(h)?c=h:n.has(h)?c=t:c=o(h),s.set(r,c),c}return e.forEach(r=>{let c=o(r);c!==t&&a.get(c).push(r)}),a}function W(i,e){i.classList?.add(e)}function Ve(i,e){i.classList?.remove(e)}function Ri(i,e,a){re(a).onDone(()=>i.processLeaveNode(e))}function Oi(i){let e=[];return C0(i,e),e}function C0(i,e){for(let a=0;a<i.length;a++){let t=i[a];t instanceof Pe?C0(t.players,e):e.push(t)}}function Ui(i,e){let a=Object.keys(i),t=Object.keys(e);if(a.length!=t.length)return!1;for(let n=0;n<a.length;n++){let s=a[n];if(!e.hasOwnProperty(s)||i[s]!==e[s])return!1}return!0}function g0(i,e,a){let t=a.get(i);if(!t)return!1;let n=e.get(i);return n?t.forEach(s=>n.add(s)):e.set(i,t),a.delete(i),!0}var De=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(e,a)=>{};constructor(e,a,t){this._driver=a,this._normalizer=t,this._transitionEngine=new ga(e.body,a,t),this._timelineEngine=new Ma(e.body,a,t),this._transitionEngine.onRemovalComplete=(n,s)=>this.onRemovalComplete(n,s)}registerTrigger(e,a,t,n,s){let o=e+"-"+n,r=this._triggerCache[o];if(!r){let c=[],h=[],k=f0(this._driver,s,c,h);if(c.length)throw Z2(n,c);r=Ai(n,k,this._normalizer),this._triggerCache[o]=r}this._transitionEngine.registerTrigger(a,n,r)}register(e,a){this._transitionEngine.register(e,a)}destroy(e,a){this._transitionEngine.destroy(e,a)}onInsert(e,a,t,n){this._transitionEngine.insertNode(e,a,t,n)}onRemove(e,a,t){this._transitionEngine.removeNode(e,a,t)}disableAnimations(e,a){this._transitionEngine.markElementAsDisabled(e,a)}process(e,a,t,n){if(t.charAt(0)=="@"){let[s,o]=$1(t),r=n;this._timelineEngine.command(s,a,o,r)}else this._transitionEngine.trigger(e,a,t,n)}listen(e,a,t,n,s){if(t.charAt(0)=="@"){let[o,r]=$1(t);return this._timelineEngine.listen(o,a,r,s)}return this._transitionEngine.listen(e,a,t,n,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function Ni(i,e){let a=null,t=null;return Array.isArray(e)&&e.length?(a=ca(e[0]),e.length>1&&(t=ca(e[e.length-1]))):e instanceof Map&&(a=ca(e)),a||t?new Gi(i,a,t):null}var Gi=(()=>{class i{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(a,t,n){this._element=a,this._startStyles=t,this._endStyles=n;let s=i.initialStylesByElement.get(a);s||i.initialStylesByElement.set(a,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&ee(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ee(this._element,this._initialStyles),this._endStyles&&(ee(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(i.initialStylesByElement.delete(this._element),this._startStyles&&(de(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(de(this._element,this._endStyles),this._endStyles=null),ee(this._element,this._initialStyles),this._state=3)}}return i})();function ca(i){let e=null;return i.forEach((a,t)=>{Wi(t)&&(e=e||new Map,e.set(t,a))}),e}function Wi(i){return i==="display"||i==="position"}var C1=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(e,a,t,n){this.element=e,this.keyframes=a,this.options=t,this._specialStyles=n,this._duration=t.duration,this._delay=t.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let a=()=>this._onFinish();this.domPlayer.addEventListener("finish",a),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",a)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let a=[];return e.forEach(t=>{a.push(Object.fromEntries(t))}),a}_triggerWebAnimation(e,a,t){return e.animate(this._convertKeyframesToObject(a),t)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((t,n)=>{n!=="offset"&&e.set(n,this._finished?t:k1(this.element,n))}),this.currentSnapshot=e}triggerCallback(e){let a=e==="start"?this._onStartFns:this._onDoneFns;a.forEach(t=>t()),a.length=0}},S1=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,a){return J1(e,a)}getParentElement(e){return d1(e)}query(e,a,t){return Y1(e,a,t)}computeStyle(e,a,t){return k1(e,a)}animate(e,a,t,n,s,o=[]){let r=n==0?"both":"forwards",c={duration:t,delay:n,fill:r};s&&(c.easing=s);let h=new Map,k=o.filter(f=>f instanceof C1);r0(t,n)&&k.forEach(f=>{f.currentSnapshot.forEach((M,v)=>h.set(v,M))});let p=s0(a).map(f=>new Map(f));p=c0(e,p,h);let x=Ni(e,p);return new C1(e,p,c,x)}};var g1="@",S0="@.disabled",I1=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(e,a,t,n){this.namespaceId=e,this.delegate=a,this.engine=t,this._onDestroy=n}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,a){return this.delegate.createElement(e,a)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,a){this.delegate.appendChild(e,a),this.engine.onInsert(this.namespaceId,a,e,!1)}insertBefore(e,a,t,n=!0){this.delegate.insertBefore(e,a,t),this.engine.onInsert(this.namespaceId,a,e,n)}removeChild(e,a,t,n){if(n){this.delegate.removeChild(e,a,t);return}this.parentNode(a)&&this.engine.onRemove(this.namespaceId,a,this.delegate)}selectRootElement(e,a){return this.delegate.selectRootElement(e,a)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,a,t,n){this.delegate.setAttribute(e,a,t,n)}removeAttribute(e,a,t){this.delegate.removeAttribute(e,a,t)}addClass(e,a){this.delegate.addClass(e,a)}removeClass(e,a){this.delegate.removeClass(e,a)}setStyle(e,a,t,n){this.delegate.setStyle(e,a,t,n)}removeStyle(e,a,t){this.delegate.removeStyle(e,a,t)}setProperty(e,a,t){a.charAt(0)==g1&&a==S0?this.disableAnimations(e,!!t):this.delegate.setProperty(e,a,t)}setValue(e,a){this.delegate.setValue(e,a)}listen(e,a,t,n){return this.delegate.listen(e,a,t,n)}disableAnimations(e,a){this.engine.disableAnimations(e,a)}},va=class extends I1{factory;constructor(e,a,t,n,s){super(a,t,n,s),this.factory=e,this.namespaceId=a}setProperty(e,a,t){a.charAt(0)==g1?a.charAt(1)=="."&&a==S0?(t=t===void 0?!0:!!t,this.disableAnimations(e,t)):this.engine.process(this.namespaceId,e,a.slice(1),t):this.delegate.setProperty(e,a,t)}listen(e,a,t,n){if(a.charAt(0)==g1){let s=Zi(e),o=a.slice(1),r="";return o.charAt(0)!=g1&&([o,r]=Ki(o)),this.engine.listen(this.namespaceId,s,o,r,c=>{let h=c._data||-1;this.factory.scheduleListenerCallback(h,t,c)})}return this.delegate.listen(e,a,t,n)}};function Zi(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}function Ki(i){let e=i.indexOf("."),a=i.substring(0,e),t=i.slice(e+1);return[a,t]}var b1=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(e,a,t){this.delegate=e,this.engine=a,this._zone=t,a.onRemovalComplete=(n,s)=>{s?.removeChild(null,n)}}createRenderer(e,a){let n=this.delegate.createRenderer(e,a);if(!e||!a?.data?.animation){let h=this._rendererCache,k=h.get(n);if(!k){let p=()=>h.delete(n);k=new I1("",n,this.engine,p),h.set(n,k)}return k}let s=a.id,o=a.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);let r=h=>{Array.isArray(h)?h.forEach(r):this.engine.registerTrigger(s,o,e,h.name,h)};return a.data.animation.forEach(r),new va(this,o,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,a,t){if(e>=0&&e<this._microtaskId){this._zone.run(()=>a(t));return}let n=this._animationCallbacksBuffer;n.length==0&&queueMicrotask(()=>{this._zone.run(()=>{n.forEach(s=>{let[o,r]=s;o(r)}),this._animationCallbacksBuffer=[]})}),n.push([a,t])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(e){this.engine.flush(),this.delegate.componentReplaced?.(e)}};var Qi=(()=>{class i extends De{constructor(a,t,n){super(a,t,n)}ngOnDestroy(){this.flush()}static \u0275fac=function(t){return new(t||i)(ue(Pa),ue(ve),ue(fe))};static \u0275prov=Z({token:i,factory:i.\u0275fac})}return i})();function $i(){return new v1}function Ji(i,e,a){return new b1(i,e,a)}var b0=[{provide:fe,useFactory:$i},{provide:De,useClass:Qi},{provide:Va,useFactory:Ji,deps:[Ya,De,Da]}],Yi=[{provide:ve,useClass:fa},{provide:P1,useValue:"NoopAnimations"},...b0],I0=[{provide:ve,useFactory:()=>new S1},{provide:P1,useFactory:()=>"BrowserAnimations"},...b0],q0=(()=>{class i{static withConfig(a){return{ngModule:i,providers:a.disableAnimations?Yi:I0}}static \u0275fac=function(t){return new(t||i)};static \u0275mod=G({type:i});static \u0275inj=N({providers:I0,imports:[Ye]})}return i})();var q1=class i{static \u0275fac=function(a){return new(a||i)};static \u0275mod=G({type:i,bootstrap:[r1]});static \u0275inj=N({providers:[A2(),qe,Xt,Kt,Ae,_e,{provide:ja,useFactory:e=>()=>Promise.resolve(),deps:[_e],multi:!0},Ot(Rt())],imports:[Ye,q0,st,nt,at,n1,At,t1,i1,Wt,ze]})};zt.register(Bt,Et,Vt,Ht,Tt,Pt,Ft,_t,jt,Dt);et().bootstrapModule(q1,{ngZoneEventCoalescing:!0}).catch(i=>console.error(i));
