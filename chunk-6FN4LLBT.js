import{a as sn}from"./chunk-X3W4WF3Y.js";import{n as Je}from"./chunk-L3FVVQOB.js";import{a as an}from"./chunk-ZCPFIYMW.js";import{a as rn}from"./chunk-W6BES6QP.js";import{a as cn}from"./chunk-CYWGSOII.js";import{A as mt,B as Ne,D as Ae,E as Ve,F as dt,I as pt,J as ut,L as kt,M as Et,N as It,O as Le,P as zt,T as Be,U as $e,V as Ft,W as Ge,X as Ye,Y as Ue,Z as He,_ as qe,ea as We,fa as Ke,ha as Xe,ia as Qe,ma as Ze,p as we,q as Se,r as Te,s as je,sa as en,t as De,u as ke,ua as nn,v as Ee,va as on,w as Ie,x as ze,xa as G,y as Fe,z as Re,za as Nt}from"./chunk-YJA7LBCE.js";import{$a as re,Ad as Rt,Bd as tn,Cb as ge,Ea as p,F as U,Fa as a,Ga as o,Ha as j,Jb as me,K as oe,Kb as K,La as q,Lb as V,Ma as W,Oa as B,P as y,Pb as de,Q as w,Qa as v,Ra as _,Rb as pe,Tb as ue,Va as rt,Wa as it,Xa as ct,_ as at,_b as jt,a as T,ab as ft,ac as z,b as J,bb as tt,cb as A,da as qt,db as i,dc as Dt,ea as l,eb as C,ec as Ce,fb as E,gb as ie,h as ot,hb as st,hc as _e,ia as k,ib as lt,ic as Me,jb as gt,jc as Pe,lc as Oe,ma as N,mb as ce,md as X,na as ae,o as ne,oc as fe,pb as ht,qa as M,qc as he,rb as se,rc as ve,rd as Q,sa as H,tb as Wt,tc as be,td as L,ub as le,uc as xe,vc as ye,vd as Z}from"./chunk-JUX2TMYD.js";function ln(s,t,e){let n=on(s,e?.in);return isNaN(t)?nn(e?.in||s,NaN):(t&&n.setDate(n.getDate()+t),n)}function fn(s,t){if(s&1&&(a(0,"mat-error"),i(1),o()),s&2){let e=_();l(),C(e.getErrorMessage("nombre"))}}function hn(s,t){if(s&1&&(a(0,"mat-error"),i(1),o()),s&2){let e=_();l(),C(e.getErrorMessage("banco"))}}function vn(s,t){if(s&1&&(a(0,"mat-error"),i(1),o()),s&2){let e=_();l(),C(e.getErrorMessage("limiteCredito"))}}function bn(s,t){if(s&1&&(a(0,"mat-option",29),i(1),o()),s&2){let e=t.$implicit;p("value",e),l(),C(e)}}function xn(s,t){if(s&1&&(a(0,"mat-error"),i(1),o()),s&2){let e=_();l(),C(e.getErrorMessage("fechaVencimientoDia"))}}function yn(s,t){if(s&1&&(a(0,"mat-error"),i(1),o()),s&2){let e=_();l(),C(e.getErrorMessage("tipo"))}}function wn(s,t){s&1&&j(0,"mat-spinner",30)}function Sn(s,t){if(s&1&&(a(0,"span"),i(1),o()),s&2){let e=_();l(),C(e.data.isEdit??!!e.data.tarjeta?"Actualizar":"Crear")}}var vt=class s{constructor(t,e,n){this.fb=t;this.dialogRef=e;this.data=n;this.tarjetaForm=this.createForm()}tarjetaForm;loading=!1;diasVencimiento=Array.from({length:31},(t,e)=>e+1);destroy$=new ot;ngOnInit(){if(this.data.tarjeta){let t=this.data.tarjeta;this.tarjetaForm.patchValue(J(T({},t),{fechaVencimientoDia:t.fechaVencimientoDia??t.fechaVencimiento??1,fechaCorte:t.fechaCorte??null}))}}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}createForm(){return this.fb.group({nombre:["",[z.required,z.minLength(2),z.maxLength(50)]],banco:["",[z.required,z.minLength(2),z.maxLength(50)]],tipo:["Cr\xE9dito",[z.required]],limiteCredito:[0,[z.required,z.min(1)]],fechaVencimientoDia:[1,[z.required,z.min(1),z.max(31)]],fechaCorte:[null,[z.min(1),z.max(31)]],activa:[!0],notas:[""]})}getProximoVencimiento(){let t=this.tarjetaForm.get("fechaVencimientoDia")?.value||1,e=new Date,n=e.getMonth(),r=e.getFullYear(),c=e.getDate(),g=new Date(r,n,t);return c>t&&(g=new Date(r,n+1,t)),g}getEstadoClass(){return this.tarjetaForm.get("activa")?.value?"estado-activa":"estado-inactiva"}getEstadoText(){return this.tarjetaForm.get("activa")?.value?"Activa":"Inactiva"}formatCurrency(t){return new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS",minimumFractionDigits:0,maximumFractionDigits:0}).format(t)}formatPercentage(t){return new Intl.NumberFormat("es-AR",{style:"percent",minimumFractionDigits:1,maximumFractionDigits:1}).format(t/100)}resetForm(){this.data.tarjeta?this.tarjetaForm.patchValue(J(T({},this.data.tarjeta),{fechaVencimientoDia:this.data.tarjeta.fechaVencimientoDia??1,fechaCorte:this.data.tarjeta.fechaCorte??null})):this.tarjetaForm.reset({nombre:"",banco:"",tipo:"Cr\xE9dito",limiteCredito:0,saldoActual:0,fechaVencimientoDia:1,fechaCorte:null,activa:!0,notas:""}),this.tarjetaForm.markAsUntouched()}onSave(){if(this.tarjetaForm.valid&&!this.loading){this.loading=!0;let t=this.tarjetaForm.value,e=J(T(T({},this.data.tarjeta),t),{limiteCredito:Number(t.limiteCredito??this.data.tarjeta?.limiteCredito??0),saldoActual:Number(t.saldoActual??this.data.tarjeta?.saldoActual??0),fechaVencimientoDia:Number(t.fechaVencimientoDia??this.data.tarjeta?.fechaVencimientoDia??1),fechaCorte:t.fechaCorte?Number(t.fechaCorte):this.data.tarjeta?.fechaCorte,fechaCreacion:this.data.tarjeta?.fechaCreacion||new Date().toISOString().split("T")[0],fechaActualizacion:new Date().toISOString().split("T")[0]});(this.data.isEdit??!!this.data.tarjeta)&&this.data.tarjeta?.id&&(e.id=this.data.tarjeta.id);let n={tarjeta:e,isEdit:this.data.isEdit??!!this.data.tarjeta};this.dialogRef.close(n)}else this.markFormGroupTouched()}onCancel(){this.dialogRef.close()}markFormGroupTouched(){Object.keys(this.tarjetaForm.controls).forEach(t=>{this.tarjetaForm.get(t)?.markAsTouched()})}get nombre(){return this.tarjetaForm.get("nombre")}get banco(){return this.tarjetaForm.get("banco")}get tipo(){return this.tarjetaForm.get("tipo")}get limiteCredito(){return this.tarjetaForm.get("limiteCredito")}get fechaVencimientoDia(){return this.tarjetaForm.get("fechaVencimientoDia")}get activa(){return this.tarjetaForm.get("activa")}get notas(){return this.tarjetaForm.get("notas")}getErrorMessage(t){let e=this.tarjetaForm.get(t);if(!e||!e.errors||!e.touched)return"";let n=e.errors;return n.required?"Este campo es requerido":n.minlength?`M\xEDnimo ${n.minlength.requiredLength} caracteres`:n.maxlength?`M\xE1ximo ${n.maxlength.requiredLength} caracteres`:n.min?`El valor m\xEDnimo es ${n.min.min}`:n.max?`El valor m\xE1ximo es ${n.max.max}`:n.exceedsLimit?"El saldo no puede exceder el l\xEDmite de cr\xE9dito":"Campo inv\xE1lido"}hasError(t){let e=this.tarjetaForm.get(t);return!!(e&&e.errors&&e.touched)}isFormValid(){return this.tarjetaForm.valid}isDirty(){return this.tarjetaForm.dirty}static \u0275fac=function(e){return new(e||s)(k(be),k(Be),k($e))};static \u0275cmp=N({type:s,selectors:[["app-tarjeta-dialog"]],standalone:!1,decls:74,vars:11,consts:[[1,"unified-modal"],[1,"modal-header"],[1,"header-content"],[1,"header-icon"],[1,"header-title"],["mat-icon-button","","mat-dialog-close","",1,"close-button"],[1,"modal-content"],[3,"keydown.enter","formGroup"],[1,"form-section"],[1,"form-row"],[1,"half-width"],["matInput","","formControlName","nombre","required",""],[4,"ngIf"],["matInput","","formControlName","banco","required",""],["matInput","","type","number","formControlName","limiteCredito","required","","min","1"],["matTextPrefix",""],["formControlName","fechaVencimientoDia","required",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","tipo","required",""],["value","Cr\xE9dito"],["value","D\xE9bito"],[1,"checkbox-container"],["formControlName","activa"],[1,"full-width","notas-area"],["matInput","","formControlName","notas","rows","2"],[1,"modal-actions"],["mat-stroked-button","","mat-dialog-close",""],["mat-raised-button","","color","primary",3,"click","disabled"],["diameter","20",4,"ngIf"],[3,"value"],["diameter","20"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-icon",3),i(4,"credit_card"),o(),a(5,"h2",4),i(6),o()(),a(7,"button",5)(8,"mat-icon"),i(9,"close"),o()()(),a(10,"div",6)(11,"form",7),v("keydown.enter",function(){return n.onSave()}),a(12,"div",8)(13,"h3"),i(14,"Informaci\xF3n B\xE1sica"),o(),a(15,"div",9)(16,"mat-form-field",10)(17,"mat-label"),i(18,"Nombre"),o(),j(19,"input",11),M(20,fn,2,1,"mat-error",12),o(),a(21,"mat-form-field",10)(22,"mat-label"),i(23,"Banco"),o(),j(24,"input",13),M(25,hn,2,1,"mat-error",12),o()()(),a(26,"div",8)(27,"h3"),i(28,"Detalles Financieros"),o(),a(29,"div",9)(30,"mat-form-field",10)(31,"mat-label"),i(32,"L\xEDmite de Cr\xE9dito"),o(),j(33,"input",14),a(34,"span",15),i(35,"$\xA0"),o(),M(36,vn,2,1,"mat-error",12),o()(),a(37,"div",9)(38,"mat-form-field",10)(39,"mat-label"),i(40,"D\xEDa de Vencimiento"),o(),a(41,"mat-select",16),M(42,bn,2,2,"mat-option",17),o(),M(43,xn,2,1,"mat-error",12),o(),a(44,"mat-form-field",10)(45,"mat-label"),i(46,"Tipo"),o(),a(47,"mat-select",18)(48,"mat-option",19),i(49,"Cr\xE9dito"),o(),a(50,"mat-option",20),i(51,"D\xE9bito"),o()(),M(52,yn,2,1,"mat-error",12),o()()(),a(53,"div",8)(54,"h3"),i(55,"Estado"),o(),a(56,"div",9)(57,"div",21)(58,"mat-checkbox",22),i(59,"Tarjeta activa"),o()()()(),a(60,"div",8)(61,"h3"),i(62,"Notas Adicionales"),o(),a(63,"div",9)(64,"mat-form-field",23)(65,"mat-label"),i(66,"Notas (opcional)"),o(),j(67,"textarea",24),o()()()()(),a(68,"div",25)(69,"button",26),i(70,"Cancelar"),o(),a(71,"button",27),v("click",function(){return n.onSave()}),M(72,wn,1,0,"mat-spinner",28)(73,Sn,2,1,"span",12),o()()()),e&2&&(l(6),C(n.data.isEdit??!!n.data.tarjeta?"Editar Tarjeta":"Nueva Tarjeta"),l(5),p("formGroup",n.tarjetaForm),l(9),p("ngIf",n.hasError("nombre")),l(5),p("ngIf",n.hasError("banco")),l(11),p("ngIf",n.hasError("limiteCredito")),l(6),p("ngForOf",n.diasVencimiento),l(),p("ngIf",n.hasError("fechaVencimientoDia")),l(9),p("ngIf",n.hasError("tipo")),l(19),p("disabled",n.tarjetaForm.invalid||n.loading),l(),p("ngIf",n.loading),l(),p("ngIf",!n.loading))},dependencies:[K,V,Me,jt,Pe,Dt,Ce,ve,he,Oe,fe,Q,X,L,zt,dt,mt,Ne,Ae,ut,pt,Ge,Z,Qe],styles:['@charset "UTF-8";.credit-card-visual[_ngcontent-%COMP%]{margin-bottom:24px}.credit-card-visual[_ngcontent-%COMP%]   .card-background[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);border-radius:16px;padding:20px;color:#fff;position:relative;min-height:120px;display:flex;flex-direction:column;justify-content:space-between}.credit-card-visual[_ngcontent-%COMP%]   .card-name[_ngcontent-%COMP%]{font-size:18px;font-weight:600}.credit-card-visual[_ngcontent-%COMP%]   .card-bank[_ngcontent-%COMP%]{font-size:14px;opacity:.9}.utilizacion-indicator[_ngcontent-%COMP%]{margin-top:16px}.utilizacion-indicator[_ngcontent-%COMP%]   .utilizacion-label[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:14px;margin-bottom:8px}.utilizacion-indicator[_ngcontent-%COMP%]   .utilizacion-value.high-usage[_ngcontent-%COMP%]{color:var(--mat-sys-error);font-weight:700}']})};function Tn(s,t){s&1&&(a(0,"div",3)(1,"mat-icon"),i(2,"bar_chart"),o(),a(3,"p"),i(4,"No hay datos de cuotas para mostrar"),o()())}function jn(s,t){if(s&1&&(a(0,"div",4),j(1,"canvas",5),o()),s&2){let e=_();l(),p("data",e.barChartData)("options",e.barChartOptions)("type",e.barChartType)}}var Vt=class s{cuotasPorMes=[];barChartType="bar";barChartData={labels:[],datasets:[]};barChartOptions={responsive:!0,maintainAspectRatio:!1,interaction:{intersect:!1,mode:"index"},plugins:{legend:{display:!0,position:"top",labels:{usePointStyle:!0,padding:20,font:{size:12}}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#fff",bodyColor:"#fff",borderColor:"rgba(255, 255, 255, 0.1)",borderWidth:1,callbacks:{label:t=>{let e=t.dataIndex,n=this.cuotasPorMes[e],r=t.parsed.y,c=n?.cuotas||0;return[`Monto: ${this.formatCurrency(r)}`,`Cuotas: ${c}`]}}}},scales:{x:{display:!0,grid:{display:!1},ticks:{font:{size:11},color:"#6b7280",maxRotation:45}},y:{display:!0,grid:{display:!0,color:"rgba(0, 0, 0, 0.1)"},ticks:{font:{size:12},color:"#6b7280",callback:t=>{let e=Number(t);return e>=1e6?`$${(e/1e6).toFixed(1)}M`:e>=1e3?`$${(e/1e3).toFixed(0)}k`:`$${e.toFixed(0)}`}}}},elements:{bar:{borderRadius:4,borderSkipped:!1}}};ngOnChanges(t){t.cuotasPorMes&&this.cuotasPorMes&&this.updateChartData()}updateChartData(){if(!this.cuotasPorMes||this.cuotasPorMes.length===0){this.barChartData={labels:[],datasets:[]};return}let t=this.cuotasPorMes.map(g=>{let m=g.mes.split(" de ");if(m.length===2){let d=m[0],P=m[1];return`${d.substring(0,3)} ${P.substring(2)}`}return g.mes}),e=this.cuotasPorMes.map(g=>g.monto),n=Math.max(...e),r=e.map(g=>`rgba(156, 39, 176, ${.3+(n>0?g/n:0)*.7})`),c=e.map(g=>`rgba(156, 39, 176, ${.5+(n>0?g/n:0)*.5})`);this.barChartData={labels:t,datasets:[{label:"Monto de Cuotas",data:e,backgroundColor:r,borderColor:c,borderWidth:2,hoverBackgroundColor:r.map(g=>g.replace(/[\d\.]+\)$/g,"0.9)")),hoverBorderColor:c.map(g=>g.replace(/[\d\.]+\)$/g,"1.0)"))}]}}formatCurrency(t){let e=Number.isFinite(t)?t:0;return new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}static \u0275fac=function(e){return new(e||s)};static \u0275cmp=N({type:s,selectors:[["app-cuotas-chart"]],inputs:{cuotasPorMes:"cuotasPorMes"},standalone:!1,features:[at],decls:3,vars:2,consts:[[1,"cuotas-chart-container"],["class","no-data",4,"ngIf"],["class","chart-wrapper",4,"ngIf"],[1,"no-data"],[1,"chart-wrapper"],["baseChart","",3,"data","options","type"]],template:function(e,n){e&1&&(a(0,"div",0),M(1,Tn,5,0,"div",1)(2,jn,2,3,"div",2),o()),e&2&&(l(),p("ngIf",!n.cuotasPorMes||n.cuotasPorMes.length===0),l(),p("ngIf",n.cuotasPorMes&&n.cuotasPorMes.length>0))},dependencies:[V,L,Je],styles:[".cuotas-chart-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;min-height:300px}.chart-wrapper[_ngcontent-%COMP%]{flex:1;position:relative;width:100%;height:100%;min-height:300px}.chart-wrapper[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{max-height:400px}.no-data[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:300px;color:var(--mat-sys-on-surface-variant);gap:16px}.no-data[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;opacity:.5}.no-data[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;margin:0;text-align:center;opacity:.7}@media (max-width: 768px){.chart-wrapper[_ngcontent-%COMP%]{min-height:250px}.chart-wrapper[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{max-height:300px}.no-data[_ngcontent-%COMP%]{height:250px}.no-data[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:36px;width:36px;height:36px}.no-data[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px}}"]})};function kn(s,t){if(s&1&&(a(0,"div",2)(1,"h3",3)(2,"mat-icon"),i(3,"trending_up"),o(),i(4," Proyecci\xF3n de Cuotas por Mes "),o(),a(5,"div",6)(6,"div",7)(7,"div",8)(8,"mat-icon"),i(9,"calendar_today"),o()(),a(10,"div",9)(11,"div",10),i(12),ht(13,"currency"),o(),a(14,"div",11),i(15,"Mes con Mayor Carga"),o()()(),a(16,"div",7)(17,"div",8)(18,"mat-icon"),i(19,"trending_down"),o()(),a(20,"div",9)(21,"div",10),i(22),ht(23,"currency"),o(),a(24,"div",11),i(25,"Mes con Menor Carga"),o()()(),a(26,"div",7)(27,"div",8)(28,"mat-icon"),i(29,"show_chart"),o()(),a(30,"div",9)(31,"div",10),i(32),o(),a(33,"div",11),i(34,"Tendencia"),o()()()(),j(35,"app-cuotas-chart",12),o()),s&2){let e=_();l(12),C(Wt(13,4,e.getMaxProjectionAmount(),"USD","symbol","1.0-0")),l(10),C(Wt(23,9,e.getMinProjectionAmount(),"USD","symbol","1.0-0")),l(10),C(e.getProjectionTrend()),l(3),p("cuotasPorMes",e.cuotasPorMes)}}function En(s,t){if(s&1&&(a(0,"div",13)(1,"div",14)(2,"div",15)(3,"div",16),i(4),o(),a(5,"div",17),i(6),o()(),a(7,"div",18)(8,"mat-icon"),i(9),o(),i(10),o()(),a(11,"div",19)(12,"div",20)(13,"div",21),i(14,"Deuda Total"),o(),a(15,"div",22),i(16),o()(),a(17,"div",20)(18,"div",21),i(19,"Cuotas Pendientes"),o(),a(20,"div",23),i(21),o()(),a(22,"div",20)(23,"div",21),i(24,"Utilizaci\xF3n"),o(),a(25,"div",24),i(26),o()()(),a(27,"div",25),j(28,"div",26),a(29,"span",27),i(30),o()()()),s&2){let e=t.$implicit,n=_();l(4),C(e.tarjeta.nombre),l(2),C(e.tarjeta.banco),l(),A(e.tarjeta.activa?"active":"inactive"),l(2),C(e.tarjeta.activa?"check_circle":"cancel"),l(),E(" ",e.tarjeta.activa?"Activa":"Inactiva"," "),l(6),C(n.formatCurrency((e==null?null:e.deudaTotal)||0)),l(5),C((e==null?null:e.cuotasPendientes)||0),l(5),E(" ",n.formatPercentage((e==null?null:e.utilizacion)||0)," "),l(2),A(n.getUtilizationColor((e==null?null:e.utilizacion)||0)),ft("width",((e==null?null:e.utilizacion)||0)*100,"%"),l(2),C(n.formatPercentage((e==null?null:e.utilizacion)||0))}}var Lt=class s{constructor(t){this.calculationsService=t}tarjetas=[];cuotas=[];gastos=[];stats={totalDeuda:0,cuotasMensuales:0,totalTarjetas:0,tarjetasActivas:0,utilizacionPromedio:0,proximosVencimientos:0};tarjetasDetalle=[];cuotasPorMes=[];highlightedBar=-1;ngOnChanges(t){(t.tarjetas||t.cuotas)&&this.tarjetas&&this.tarjetas.length>0&&(this.calculateStats(),this.calculateTarjetasDetalle(),this.calculateCuotasPorMes())}calculateStats(){let t=this.tarjetas.filter(u=>u.activa),e=0;this.tarjetas.forEach(u=>{let h=this.toNonNegativeNumber(u.saldoActual),b=this.calculationsService.calcularSaldoPendienteTarjeta(u.id,this.cuotas,this.gastos),I=h+b;e+=I});let n=new Date,r=`${n.getFullYear()}-${String(n.getMonth()+1).padStart(2,"0")}`,c=(this.gastos||[]).filter(u=>{if(!(!!u.idTarjeta||u.metodoPago==="tarjeta")||!u.fecha)return!1;let b=new Date(u.fecha);return b.getFullYear()===n.getFullYear()&&b.getMonth()===n.getMonth()}).reduce((u,h)=>u+(Number(h.monto)||0),0),m=this.cuotas.filter(u=>u.idTarjeta&&u.activo!==!1).reduce((u,h)=>u+this.calculationsService.calcularMontoGasto(h,r),0)+c,d=t.length>0?t.reduce((u,h)=>{let b=this.toNonNegativeNumber(h.saldoActual),I=this.calculationsService.calcularSaldoPendienteTarjeta(h.id,this.cuotas,this.gastos),S=b+I,_t=this.toNonNegativeNumber(h.limiteCredito);return u+(_t>0?S/_t:0)},0)/t.length:0,P=new Date;P.setHours(0,0,0,0);let x=new Date(P);x.setDate(x.getDate()+7);let O=0;this.cuotas.forEach(u=>{if(u.idTarjeta){if(u.esRecurrente&&u.fechaInicio){let h=new Date(u.fechaInicio),b=u.tipoRecurrencia||"MENSUAL";for(let I=0;I<12;I++){let S;switch(b){case"BIMESTRAL":S=new Date(h),S.setMonth(S.getMonth()+I*2);break;case"TRIMESTRAL":S=new Date(h),S.setMonth(S.getMonth()+I*3);break;case"SEMESTRAL":S=new Date(h),S.setMonth(S.getMonth()+I*6);break;case"ANUAL":S=new Date(h),S.setFullYear(S.getFullYear()+I);break;case"MENSUAL":default:S=new Date(h),S.setMonth(S.getMonth()+I);break}if(S>=P&&S<=x){O++;break}}}else if(u.fechaVencimiento){let h=new Date(u.fechaVencimiento);h.setHours(0,0,0,0),h>=P&&h<=x&&O++}}}),this.stats={totalDeuda:e,cuotasMensuales:m,totalTarjetas:this.tarjetas.length,tarjetasActivas:t.length,utilizacionPromedio:d,proximosVencimientos:O}}calculateTarjetasDetalle(){this.tarjetasDetalle=this.tarjetas.map(t=>{let e=this.cuotas.filter(O=>O.idTarjeta===t.id&&O.activo!==!1),n=this.toNonNegativeNumber(t.saldoActual),r=this.calculationsService.calcularSaldoPendienteTarjeta(t.id,this.cuotas,this.gastos),c=n+r,g=this.toNonNegativeNumber(t.limiteCredito),m=g>0?c/g:0,d=e.length,P=null,x=new Date;return x.setHours(0,0,0,0),e.forEach(O=>{if(O.activo!==!1){if(O.esRecurrente&&O.fechaInicio){let u=new Date(O.fechaInicio),h=O.tipoRecurrencia||"MENSUAL",b=new Date(u);for(;b<=x;)switch(h){case"BIMESTRAL":b.setMonth(b.getMonth()+2);break;case"TRIMESTRAL":b.setMonth(b.getMonth()+3);break;case"SEMESTRAL":b.setMonth(b.getMonth()+6);break;case"ANUAL":b.setFullYear(b.getFullYear()+1);break;case"MENSUAL":default:b.setMonth(b.getMonth()+1);break}(!P||b<P)&&(P=b)}else if(O.fechaVencimiento){let u=new Date(O.fechaVencimiento);u>x&&(!P||u<P)&&(P=u)}}}),{tarjeta:t,deudaTotal:c,cuotasPendientes:d,utilizacion:m,proximoVencimiento:P}})}calculateCuotasPorMes(){let t=new Map,e=new Date;for(let n=0;n<12;n++){let r=new Date(e.getFullYear(),e.getMonth()+n,1),c=`${r.getFullYear()}-${String(r.getMonth()+1).padStart(2,"0")}`,g=0,m=0;this.cuotas.filter(O=>O.idTarjeta&&O.activo!==!1).forEach(O=>{let u=this.calculationsService.calcularMontoGasto(O,c);u>0&&(g+=u,m++)}),this.gastos.filter(O=>O.idTarjeta||O.metodoPago==="tarjeta").forEach(O=>{let u=new Date(O.fecha);`${u.getFullYear()}-${String(u.getMonth()+1).padStart(2,"0")}`===c&&(g+=O.monto,m++)});let x=r.toLocaleDateString("es-AR",{month:"long",year:"numeric"});t.set(c,{total:g,cuotas:m})}this.cuotasPorMes=Array.from(t.entries()).map(([n,r])=>{let[c,g]=n.split("-").map(Number);return{mes:new Date(c,g-1).toLocaleDateString("es-AR",{month:"long",year:"numeric"}),monto:r.total,cuotas:r.cuotas}}).sort((n,r)=>{let c=g=>{let m=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],d=g.toLowerCase().split(" de "),P=d[0],x=parseInt(d[1]),O=m.indexOf(P);return new Date(x,O)};return c(n.mes).getTime()-c(r.mes).getTime()}).slice(0,8)}getTopDebtCards(){return[...this.tarjetasDetalle].sort((t,e)=>e.deudaTotal-t.deudaTotal).slice(0,5)}getMonthPercentage(t){let e=Math.max(...this.cuotasPorMes.map(n=>n.monto));return e>0?t/e*100:0}getUtilizationColor(t){return t>.8?"warn":t>.6?"accent":"primary"}isOverdue(t){return t?new Date(t)<new Date:!1}isDueSoon(t){if(!t)return!1;let e=new Date,n=new Date(t),r=Math.ceil((n.getTime()-e.getTime())/(1e3*60*60*24));return r<=7&&r>=0}formatDueDate(t){if(!t)return"Sin vencimientos";let e=new Date,n=new Date(t),r=Math.ceil((n.getTime()-e.getTime())/(1e3*60*60*24));return r<0?`Vencida hace ${Math.abs(r)} d\xEDas`:r===0?"Vence hoy":r===1?"Vence ma\xF1ana":r<=7?`Vence en ${r} d\xEDas`:n.toLocaleDateString("es-AR")}getAlerts(){let t=[],e=this.tarjetasDetalle.filter(c=>c.utilizacion>.8);e.length>0&&t.push({type:"warning",icon:"warning",title:"Alta Utilizaci\xF3n",message:`${e.length} tarjeta(s) con utilizaci\xF3n superior al 80%`}),this.stats.proximosVencimientos>0&&t.push({type:"info",icon:"schedule",title:"Vencimientos Pr\xF3ximos",message:`${this.stats.proximosVencimientos} cuota(s) vencen en los pr\xF3ximos 7 d\xEDas`});let n=new Date;n.setHours(0,0,0,0);let r=0;return this.cuotas.forEach(c=>{if(!(!c.idTarjeta||c.activo===!1)){if(c.esRecurrente&&c.fechaInicio){let g=new Date(c.fechaInicio),m=c.tipoRecurrencia||"MENSUAL",d=new Date(g);for(;d<n;){switch(r++,m){case"BIMESTRAL":d.setMonth(d.getMonth()+2);break;case"TRIMESTRAL":d.setMonth(d.getMonth()+3);break;case"SEMESTRAL":d.setMonth(d.getMonth()+6);break;case"ANUAL":d.setFullYear(d.getFullYear()+1);break;case"MENSUAL":default:d.setMonth(d.getMonth()+1);break}if(d.getTime()<n.getTime()-720*24*60*60*1e3)break}}else if(c.fechaVencimiento){let g=new Date(c.fechaVencimiento);g.setHours(0,0,0,0),g<n&&r++}}}),r>0&&t.push({type:"error",icon:"error",title:"Cuotas Vencidas",message:`${r} cuota(s) est\xE1n vencidas`}),t}formatCurrency(t){return t==null||isNaN(t)?"$0":new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS",minimumFractionDigits:0,maximumFractionDigits:0}).format(t)}formatPercentage(t){return t==null||isNaN(t)?"0.0%":new Intl.NumberFormat("es-AR",{style:"percent",minimumFractionDigits:1,maximumFractionDigits:1}).format(t)}toNonNegativeNumber(t){let e=Number(t);return Number.isFinite(e)&&e>=0?e:0}getRemainingInstallments(t){return t.cuotasRestantes!=null&&t.cuotasRestantes>=0?t.cuotasRestantes:t.cuotasTotales!=null&&t.cuotasTotales>0?t.cuotasTotales:t.esRecurrente?1:0}getTotalProjected(){return this.cuotasPorMes.reduce((t,e)=>t+e.monto,0)}getMonthlyAverage(){return this.cuotasPorMes.length===0?0:this.getTotalProjected()/this.cuotasPorMes.length}getYAxisValues(){if(this.cuotasPorMes.length===0)return[0];let t=Math.max(...this.cuotasPorMes.map(n=>n.monto)),e=t/4;return[0,e,e*2,e*3,t]}getBarHeight(t){if(this.cuotasPorMes.length===0)return 0;let e=Math.max(...this.cuotasPorMes.map(n=>n.monto));return e>0?t/e*100:0}getShortMonthName(t){let e={enero:"ENE",febrero:"FEB",marzo:"MAR",abril:"ABR",mayo:"MAY",junio:"JUN",julio:"JUL",agosto:"AGO",septiembre:"SEP",octubre:"OCT",noviembre:"NOV",diciembre:"DIC"},n=t.split(" ")[0].toLowerCase();return e[n]||t.substring(0,3).toUpperCase()}getHighestMonth(){return this.cuotasPorMes.length===0?null:this.cuotasPorMes.reduce((t,e)=>t.monto>e.monto?t:e)}getLowestMonth(){return this.cuotasPorMes.length===0?null:this.cuotasPorMes.reduce((t,e)=>t.monto<e.monto?t:e)}getProjectionTrend(){if(this.cuotasPorMes.length<2)return"Estable";let t=this.cuotasPorMes.slice(0,Math.ceil(this.cuotasPorMes.length/2)),e=this.cuotasPorMes.slice(Math.ceil(this.cuotasPorMes.length/2)),n=t.reduce((g,m)=>g+m.monto,0)/t.length,c=(e.reduce((g,m)=>g+m.monto,0)/e.length-n)/n*100;return c>10?"Creciente":c<-10?"Decreciente":"Estable"}getTrendDescription(){switch(this.getProjectionTrend()){case"Creciente":return"Las cuotas tienden a aumentar";case"Decreciente":return"Las cuotas tienden a disminuir";default:return"Las cuotas se mantienen estables"}}getInstallmentAmount(t){let e=this.toNonNegativeNumber(t.montoCuota??t.montoCuota);if(e>0)return e;let n=this.toNonNegativeNumber(t.monto??t.monto);if(n>0)return n;let r=this.toNonNegativeNumber(t.montoTotal??t.montoTotal??0);return r>0?r:0}getMaxProjectionAmount(){return!this.cuotasPorMes||this.cuotasPorMes.length===0?0:Math.max(...this.cuotasPorMes.map(t=>t.monto))}getMinProjectionAmount(){if(!this.cuotasPorMes||this.cuotasPorMes.length===0)return 0;let t=this.cuotasPorMes.filter(e=>e.monto>0).map(e=>e.monto);return t.length>0?Math.min(...t):0}getYAxisLabels(){let t=this.getMaxProjectionAmount();if(t===0)return["$0"];let e=5,n=t/e,r=[];for(let c=e;c>=0;c--){let g=n*c;r.push(this.formatCurrency(g))}return r}getGridLines(){return Array(6).fill(0).map((t,e)=>e)}getBarColor(t){let e=this.getMaxProjectionAmount();if(e===0)return"var(--mat-sys-primary)";let n=t/e;return n>.8?"var(--mat-sys-error)":n>.6?"var(--mat-sys-warning)":n>.4?"var(--mat-sys-secondary)":"var(--mat-sys-primary)"}static \u0275fac=function(e){return new(e||s)(k(G))};static \u0275cmp=N({type:s,selectors:[["app-tarjeta-stats"]],inputs:{tarjetas:"tarjetas",cuotas:"cuotas",gastos:"gastos"},standalone:!1,features:[at],decls:9,vars:2,consts:[[1,"tarjeta-stats-container"],["class","stats-section",4,"ngIf"],[1,"stats-section"],[1,"section-title"],[1,"tarjetas-detalle"],["class","tarjeta-detail-card",4,"ngFor","ngForOf"],[1,"projection-summary"],[1,"summary-card"],[1,"summary-icon"],[1,"summary-content"],[1,"summary-value"],[1,"summary-label"],[3,"cuotasPorMes"],[1,"tarjeta-detail-card"],[1,"card-header"],[1,"card-info"],[1,"card-name"],[1,"card-bank"],[1,"card-status"],[1,"card-metrics"],[1,"metric"],[1,"metric-label"],[1,"metric-value","debt"],[1,"metric-value","installments"],[1,"metric-value","utilization"],[1,"utilization-bar"],[1,"utilization-fill"],[1,"utilization-percentage"]],template:function(e,n){e&1&&(a(0,"div",0),M(1,kn,36,14,"div",1),a(2,"div",2)(3,"h3",3)(4,"mat-icon"),i(5,"view_list"),o(),i(6," Detalle por Tarjeta "),o(),a(7,"div",4),M(8,En,31,14,"div",5),o()()()),e&2&&(l(),p("ngIf",n.cuotasPorMes&&n.cuotasPorMes.length>0),l(7),p("ngForOf",n.tarjetasDetalle))},dependencies:[K,V,L,Vt,pe],styles:['.tarjeta-stats-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;gap:24px;padding:16px;overflow-y:auto}.stats-section[_ngcontent-%COMP%]{background:var(--mat-sys-surface-container-low);border-radius:12px;box-shadow:0 2px 8px var(--mat-sys-shadow);padding:24px}.stats-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin:0 0 24px;font-size:18px;font-weight:600;color:var(--mat-sys-primary);padding-bottom:12px;border-bottom:2px solid var(--mat-sys-outline-variant)}.stats-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px}.stat-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:20px;border-radius:12px;transition:all .3s ease}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px var(--mat-sys-shadow)}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;display:flex;align-items:center;justify-content:center}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px;color:#fff}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]{flex:1}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-bottom:4px;color:var(--mat-sys-on-surface)}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:12px;color:var(--mat-sys-on-surface-variant);text-transform:uppercase;letter-spacing:.5px;font-weight:500}.stat-card.total[_ngcontent-%COMP%]{background:var(--mat-sys-primary);color:var(--mat-sys-on-primary)}.stat-card.total[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:var(--mat-sys-primary-container)}.stat-card.total[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%], .stat-card.total[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{color:var(--mat-sys-on-primary)}.stat-card.monthly[_ngcontent-%COMP%]{background:var(--mat-sys-secondary);color:var(--mat-sys-on-secondary)}.stat-card.monthly[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:var(--mat-sys-secondary-container)}.stat-card.monthly[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%], .stat-card.monthly[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{color:var(--mat-sys-on-secondary)}.stat-card.cards[_ngcontent-%COMP%]{background:var(--mat-sys-tertiary);color:var(--mat-sys-on-tertiary)}.stat-card.cards[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:var(--mat-sys-tertiary-container)}.stat-card.cards[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%], .stat-card.cards[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{color:var(--mat-sys-on-tertiary)}.stat-card.utilization[_ngcontent-%COMP%]{background:var(--mat-sys-warning);color:var(--mat-sys-on-warning)}.stat-card.utilization[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:var(--mat-sys-warning-container)}.stat-card.utilization[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%], .stat-card.utilization[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{color:var(--mat-sys-on-warning)}.stat-card.due[_ngcontent-%COMP%]{background:var(--mat-sys-info-container);color:var(--mat-sys-on-info-container)}.stat-card.due[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:var(--mat-sys-info)}.stat-card.due[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--mat-sys-on-info)}.tarjetas-detalle[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(400px,1fr));gap:20px}.tarjeta-detail-card[_ngcontent-%COMP%]{background:var(--mat-sys-surface-container-low);border:1px solid var(--mat-sys-outline-variant);border-radius:16px;padding:24px;transition:all .3s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden}.tarjeta-detail-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:4px;background:linear-gradient(90deg,var(--mat-sys-primary),var(--mat-sys-secondary));opacity:0;transition:opacity .3s ease}.tarjeta-detail-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 25px #00000026;border-color:var(--mat-sys-primary)}.tarjeta-detail-card[_ngcontent-%COMP%]:hover:before{opacity:1}.tarjeta-detail-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.tarjeta-detail-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]   .card-name[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:var(--mat-sys-on-surface);margin-bottom:6px;line-height:1.2}.tarjeta-detail-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]   .card-bank[_ngcontent-%COMP%]{font-size:13px;color:var(--mat-sys-on-surface-variant);text-transform:uppercase;letter-spacing:1px;font-weight:500}.tarjeta-detail-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-status[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 16px;border-radius:25px;font-size:13px;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.tarjeta-detail-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-status.active[_ngcontent-%COMP%]{background:var(--mat-sys-success-container);color:var(--mat-sys-on-success-container);border:1px solid var(--mat-sys-success)}.tarjeta-detail-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-status.active[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--mat-sys-success)}.tarjeta-detail-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-status.inactive[_ngcontent-%COMP%]{background:var(--mat-sys-error-container);color:var(--mat-sys-on-error-container);border:1px solid var(--mat-sys-error)}.tarjeta-detail-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-status.inactive[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--mat-sys-error)}.tarjeta-detail-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-status[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.tarjeta-detail-card[_ngcontent-%COMP%]   .card-metrics[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:20px;margin-bottom:24px}.tarjeta-detail-card[_ngcontent-%COMP%]   .card-metrics[_ngcontent-%COMP%]   .metric[_ngcontent-%COMP%]{background:var(--mat-sys-surface-container);border-radius:12px;padding:16px;transition:background-color .3s ease}.tarjeta-detail-card[_ngcontent-%COMP%]   .card-metrics[_ngcontent-%COMP%]   .metric[_ngcontent-%COMP%]:hover{background:var(--mat-sys-surface-container-high)}.tarjeta-detail-card[_ngcontent-%COMP%]   .card-metrics[_ngcontent-%COMP%]   .metric[_ngcontent-%COMP%]   .metric-label[_ngcontent-%COMP%]{font-size:12px;color:var(--mat-sys-on-surface-variant);margin-bottom:8px;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.tarjeta-detail-card[_ngcontent-%COMP%]   .card-metrics[_ngcontent-%COMP%]   .metric[_ngcontent-%COMP%]   .metric-value[_ngcontent-%COMP%]{font-size:18px;font-weight:700;line-height:1.2}.tarjeta-detail-card[_ngcontent-%COMP%]   .card-metrics[_ngcontent-%COMP%]   .metric[_ngcontent-%COMP%]   .metric-value.debt[_ngcontent-%COMP%]{color:var(--mat-sys-primary)}.tarjeta-detail-card[_ngcontent-%COMP%]   .card-metrics[_ngcontent-%COMP%]   .metric[_ngcontent-%COMP%]   .metric-value.installments[_ngcontent-%COMP%]{color:var(--mat-sys-secondary)}.tarjeta-detail-card[_ngcontent-%COMP%]   .card-metrics[_ngcontent-%COMP%]   .metric[_ngcontent-%COMP%]   .metric-value.utilization[_ngcontent-%COMP%]{color:var(--mat-sys-success)}.tarjeta-detail-card[_ngcontent-%COMP%]   .card-metrics[_ngcontent-%COMP%]   .metric[_ngcontent-%COMP%]   .metric-value.utilization.high[_ngcontent-%COMP%]{color:var(--mat-sys-error)}.tarjeta-detail-card[_ngcontent-%COMP%]   .card-metrics[_ngcontent-%COMP%]   .metric[_ngcontent-%COMP%]   .metric-value.due-date[_ngcontent-%COMP%]{color:var(--mat-sys-on-surface);font-size:16px}.tarjeta-detail-card[_ngcontent-%COMP%]   .card-metrics[_ngcontent-%COMP%]   .metric[_ngcontent-%COMP%]   .metric-value.due-date.overdue[_ngcontent-%COMP%]{color:var(--mat-sys-error);font-weight:800}.tarjeta-detail-card[_ngcontent-%COMP%]   .card-metrics[_ngcontent-%COMP%]   .metric[_ngcontent-%COMP%]   .metric-value.due-date.due-soon[_ngcontent-%COMP%]{color:var(--mat-sys-warning);font-weight:800}.tarjeta-detail-card[_ngcontent-%COMP%]   .utilization-container[_ngcontent-%COMP%]{background:var(--mat-sys-surface-container);border-radius:12px;padding:16px}.tarjeta-detail-card[_ngcontent-%COMP%]   .utilization-container[_ngcontent-%COMP%]   .utilization-label[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}.tarjeta-detail-card[_ngcontent-%COMP%]   .utilization-container[_ngcontent-%COMP%]   .utilization-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{font-size:13px;color:var(--mat-sys-on-surface-variant);font-weight:600;text-transform:uppercase;letter-spacing:.5px}.tarjeta-detail-card[_ngcontent-%COMP%]   .utilization-container[_ngcontent-%COMP%]   .utilization-label[_ngcontent-%COMP%]   .utilization-percentage[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:var(--mat-sys-on-surface)}.tarjeta-detail-card[_ngcontent-%COMP%]   .utilization-container[_ngcontent-%COMP%]   .utilization-bar[_ngcontent-%COMP%]{height:8px;background:var(--mat-sys-outline-variant);border-radius:4px;overflow:hidden;position:relative}.tarjeta-detail-card[_ngcontent-%COMP%]   .utilization-container[_ngcontent-%COMP%]   .utilization-bar[_ngcontent-%COMP%]   .utilization-progress[_ngcontent-%COMP%]{height:100%;border-radius:4px;transition:all .5s cubic-bezier(.4,0,.2,1);position:relative}.tarjeta-detail-card[_ngcontent-%COMP%]   .utilization-container[_ngcontent-%COMP%]   .utilization-bar[_ngcontent-%COMP%]   .utilization-progress[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;right:0;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.3));animation:_ngcontent-%COMP%_shimmer 2s infinite}.tarjeta-detail-card[_ngcontent-%COMP%]   .utilization-container[_ngcontent-%COMP%]   .utilization-bar[_ngcontent-%COMP%]   .utilization-progress.primary[_ngcontent-%COMP%]{background:linear-gradient(90deg,var(--mat-sys-primary),var(--mat-sys-primary-container))}.tarjeta-detail-card[_ngcontent-%COMP%]   .utilization-container[_ngcontent-%COMP%]   .utilization-bar[_ngcontent-%COMP%]   .utilization-progress.accent[_ngcontent-%COMP%]{background:linear-gradient(90deg,var(--mat-sys-secondary),var(--mat-sys-secondary-container))}.tarjeta-detail-card[_ngcontent-%COMP%]   .utilization-container[_ngcontent-%COMP%]   .utilization-bar[_ngcontent-%COMP%]   .utilization-progress.warn[_ngcontent-%COMP%]{background:linear-gradient(90deg,var(--mat-sys-error),var(--mat-sys-error-container))}@keyframes _ngcontent-%COMP%_shimmer{0%{transform:translate(-100%)}to{transform:translate(100%)}}.projection-summary[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px;margin-bottom:32px}.summary-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:20px;background:var(--mat-sys-surface-container);border-radius:16px;border:1px solid var(--mat-sys-outline-variant);transition:all .3s ease}.summary-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #0000001a;border-color:var(--mat-sys-primary)}.summary-card[_ngcontent-%COMP%]   .summary-icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;background:var(--mat-sys-primary-container);display:flex;align-items:center;justify-content:center;flex-shrink:0}.summary-card[_ngcontent-%COMP%]   .summary-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px;color:var(--mat-sys-on-primary-container)}.summary-card[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]{flex:1}.summary-card[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-value[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:var(--mat-sys-on-surface);margin-bottom:4px;line-height:1.2}.summary-card[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-label[_ngcontent-%COMP%]{font-size:12px;color:var(--mat-sys-on-surface-variant);text-transform:uppercase;letter-spacing:.5px;font-weight:500}.chart-container[_ngcontent-%COMP%]{background:var(--mat-sys-surface-container);border-radius:16px;padding:24px;margin-bottom:24px;border:1px solid var(--mat-sys-outline-variant)}.chart-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px;padding-bottom:16px;border-bottom:1px solid var(--mat-sys-outline-variant)}.chart-header[_ngcontent-%COMP%]   .chart-title[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:var(--mat-sys-on-surface);margin:0}.chart-header[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]{display:flex;gap:16px}.chart-header[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:12px;color:var(--mat-sys-on-surface-variant)}.chart-header[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .legend-color[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:2px}.chart-header[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .legend-color.primary[_ngcontent-%COMP%]{background:var(--mat-sys-primary)}.chart-content[_ngcontent-%COMP%]{display:flex;gap:16px;height:300px;min-height:300px}.y-axis[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse;justify-content:space-between;width:80px;padding:20px 0;flex-shrink:0}.y-axis[_ngcontent-%COMP%]   .y-label[_ngcontent-%COMP%]{font-size:11px;color:var(--mat-sys-on-surface-variant);text-align:right;line-height:1}.chart-area[_ngcontent-%COMP%]{flex:1;position:relative;display:flex;flex-direction:column}.chart-grid[_ngcontent-%COMP%]{position:absolute;inset:20px 0 60px;display:flex;flex-direction:column;justify-content:space-between;pointer-events:none;z-index:1}.chart-grid[_ngcontent-%COMP%]   .grid-line[_ngcontent-%COMP%]{height:1px;background:var(--mat-sys-outline-variant);opacity:.5}.bars-container[_ngcontent-%COMP%]{display:flex;align-items:flex-end;gap:8px;height:100%;padding:20px 0 60px;position:relative;z-index:2}.bar-item[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:center;cursor:pointer;transition:all .3s ease;min-width:0}.bar-item.highlighted[_ngcontent-%COMP%]{transform:scale(1.05)}.bar-item[_ngcontent-%COMP%]:hover   .bar[_ngcontent-%COMP%]{background:linear-gradient(to top,var(--mat-sys-secondary-container),var(--mat-sys-secondary));box-shadow:0 4px 12px #0003}.bar-item[_ngcontent-%COMP%]:hover   .bar-value[_ngcontent-%COMP%]{opacity:1}.bar-wrapper[_ngcontent-%COMP%]{flex:1;width:100%;display:flex;align-items:flex-end;justify-content:center;position:relative}.bar[_ngcontent-%COMP%]{width:100%;max-width:40px;background:linear-gradient(to top,var(--mat-sys-primary-container),var(--mat-sys-primary));border-radius:4px 4px 0 0;position:relative;transition:all .3s ease;min-height:2px}.bar[_ngcontent-%COMP%]   .bar-value[_ngcontent-%COMP%]{position:absolute;top:-28px;left:50%;transform:translate(-50%);font-size:10px;font-weight:600;color:var(--mat-sys-on-surface);background:var(--mat-sys-surface-container-high);padding:4px 8px;border-radius:8px;white-space:nowrap;opacity:0;transition:opacity .3s ease;box-shadow:0 2px 8px #00000026;z-index:10}.bar-label[_ngcontent-%COMP%]{margin-top:12px;text-align:center;width:100%}.bar-label[_ngcontent-%COMP%]   .month-name[_ngcontent-%COMP%]{font-size:11px;font-weight:600;color:var(--mat-sys-on-surface);margin-bottom:4px}.bar-label[_ngcontent-%COMP%]   .cuotas-count[_ngcontent-%COMP%]{font-size:9px;color:var(--mat-sys-on-surface-variant)}.projection-insights[_ngcontent-%COMP%]{background:var(--mat-sys-surface-container);border-radius:16px;padding:24px;border:1px solid var(--mat-sys-outline-variant)}.insights-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin:0 0 20px;font-size:16px;font-weight:600;color:var(--mat-sys-on-surface)}.insights-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--mat-sys-primary);font-size:20px;width:20px;height:20px}.insights-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:16px}.insight-card[_ngcontent-%COMP%]{background:var(--mat-sys-surface-container-low);border-radius:12px;padding:20px;border:1px solid var(--mat-sys-outline-variant);transition:all .3s cubic-bezier(.4,0,.2,1)}.insight-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #0000001a}.insight-card[_ngcontent-%COMP%]   .insight-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:16px}.insight-card[_ngcontent-%COMP%]   .insight-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.insight-card[_ngcontent-%COMP%]   .insight-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:13px;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.insight-card[_ngcontent-%COMP%]   .insight-content[_ngcontent-%COMP%]   .insight-month[_ngcontent-%COMP%]{font-size:16px;font-weight:700;margin-bottom:4px}.insight-card[_ngcontent-%COMP%]   .insight-content[_ngcontent-%COMP%]   .insight-amount[_ngcontent-%COMP%]{font-size:18px;font-weight:700;margin-bottom:4px}.insight-card[_ngcontent-%COMP%]   .insight-content[_ngcontent-%COMP%]   .insight-detail[_ngcontent-%COMP%]{font-size:12px;color:var(--mat-sys-on-surface-variant)}.insight-card[_ngcontent-%COMP%]   .insight-content[_ngcontent-%COMP%]   .insight-trend[_ngcontent-%COMP%]{font-size:16px;font-weight:700;margin-bottom:4px}.insight-card[_ngcontent-%COMP%]   .insight-content[_ngcontent-%COMP%]   .insight-description[_ngcontent-%COMP%]{font-size:12px;color:var(--mat-sys-on-surface-variant)}.insight-card.highest[_ngcontent-%COMP%]   .insight-header[_ngcontent-%COMP%]{color:var(--mat-sys-success)}.insight-card.highest[_ngcontent-%COMP%]   .insight-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--mat-sys-success)}.insight-card.highest[_ngcontent-%COMP%]   .insight-amount[_ngcontent-%COMP%]{color:var(--mat-sys-success)}.insight-card.lowest[_ngcontent-%COMP%]   .insight-header[_ngcontent-%COMP%]{color:var(--mat-sys-error)}.insight-card.lowest[_ngcontent-%COMP%]   .insight-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--mat-sys-error)}.insight-card.lowest[_ngcontent-%COMP%]   .insight-amount[_ngcontent-%COMP%]{color:var(--mat-sys-error)}.insight-card.trend[_ngcontent-%COMP%]   .insight-header[_ngcontent-%COMP%]{color:var(--mat-sys-primary)}.insight-card.trend[_ngcontent-%COMP%]   .insight-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--mat-sys-primary)}.insight-card.trend[_ngcontent-%COMP%]   .insight-trend[_ngcontent-%COMP%]{color:var(--mat-sys-primary)}.top-cards[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.top-card-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:16px;border:1px solid var(--mat-sys-outline-variant);border-radius:12px;transition:all .3s ease}.top-card-item[_ngcontent-%COMP%]:hover{border-color:var(--mat-sys-primary);background:var(--mat-sys-primary-container)}.top-card-item[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;background:var(--mat-sys-primary);color:var(--mat-sys-on-primary);display:flex;align-items:center;justify-content:center;font-weight:700;font-size:14px}.top-card-item[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]{flex:1}.top-card-item[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]   .card-name[_ngcontent-%COMP%]{font-size:14px;font-weight:600;margin-bottom:2px}.top-card-item[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]   .card-bank[_ngcontent-%COMP%]{font-size:12px;color:var(--mat-sys-on-surface-variant);text-transform:uppercase;letter-spacing:.5px}.top-card-item[_ngcontent-%COMP%]   .debt-info[_ngcontent-%COMP%]{text-align:right}.top-card-item[_ngcontent-%COMP%]   .debt-info[_ngcontent-%COMP%]   .debt-amount[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:var(--mat-sys-primary);margin-bottom:2px}.top-card-item[_ngcontent-%COMP%]   .debt-info[_ngcontent-%COMP%]   .debt-percentage[_ngcontent-%COMP%]{font-size:12px;color:var(--mat-sys-on-surface-variant)}.alerts-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.alert-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:12px;padding:16px;border-radius:12px;border-left:4px solid}.alert-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;margin-top:2px}.alert-item[_ngcontent-%COMP%]   .alert-content[_ngcontent-%COMP%]{flex:1}.alert-item[_ngcontent-%COMP%]   .alert-content[_ngcontent-%COMP%]   .alert-title[_ngcontent-%COMP%]{font-size:14px;font-weight:600;margin-bottom:4px}.alert-item[_ngcontent-%COMP%]   .alert-content[_ngcontent-%COMP%]   .alert-message[_ngcontent-%COMP%]{font-size:13px;line-height:1.4}.alert-item.warning[_ngcontent-%COMP%]{background:var(--mat-sys-warning-container);border-left-color:var(--mat-sys-warning)}.alert-item.warning[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--mat-sys-warning)}.alert-item.warning[_ngcontent-%COMP%]   .alert-title[_ngcontent-%COMP%]{color:var(--mat-sys-on-warning-container)}.alert-item.warning[_ngcontent-%COMP%]   .alert-message[_ngcontent-%COMP%]{color:var(--mat-sys-warning)}.alert-item.info[_ngcontent-%COMP%]{background:var(--mat-sys-info-container);border-left-color:var(--mat-sys-info)}.alert-item.info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--mat-sys-info)}.alert-item.info[_ngcontent-%COMP%]   .alert-title[_ngcontent-%COMP%]{color:var(--mat-sys-on-info-container)}.alert-item.info[_ngcontent-%COMP%]   .alert-message[_ngcontent-%COMP%]{color:var(--mat-sys-info)}.alert-item.error[_ngcontent-%COMP%]{background:var(--mat-sys-error-container);border-left-color:var(--mat-sys-error)}.alert-item.error[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--mat-sys-error)}.alert-item.error[_ngcontent-%COMP%]   .alert-title[_ngcontent-%COMP%]{color:var(--mat-sys-on-error-container)}.alert-item.error[_ngcontent-%COMP%]   .alert-message[_ngcontent-%COMP%]{color:var(--mat-sys-error)}@media (max-width: 1200px){.stats-grid[_ngcontent-%COMP%], .monthly-projection[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(180px,1fr))}.tarjetas-detalle[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:16px}}@media (max-width: 768px){.tarjeta-stats-container[_ngcontent-%COMP%]{padding:12px;gap:16px}.stats-section[_ngcontent-%COMP%]{padding:16px}.stats-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:16px;margin-bottom:16px}.stats-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:12px}.stat-card[_ngcontent-%COMP%]{padding:16px}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:40px;height:40px}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:18px}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:11px}.tarjeta-detail-card[_ngcontent-%COMP%]{padding:20px}.tarjeta-detail-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:16px;margin-bottom:20px}.tarjeta-detail-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]   .card-name[_ngcontent-%COMP%]{font-size:16px}.tarjeta-detail-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-status[_ngcontent-%COMP%]{align-self:flex-end}.tarjeta-detail-card[_ngcontent-%COMP%]   .card-metrics[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:16px;margin-bottom:20px}.tarjeta-detail-card[_ngcontent-%COMP%]   .card-metrics[_ngcontent-%COMP%]   .metric[_ngcontent-%COMP%]{padding:14px}.tarjeta-detail-card[_ngcontent-%COMP%]   .card-metrics[_ngcontent-%COMP%]   .metric[_ngcontent-%COMP%]   .metric-value[_ngcontent-%COMP%]{font-size:16px}.tarjeta-detail-card[_ngcontent-%COMP%]   .utilization-container[_ngcontent-%COMP%]{padding:14px}.monthly-projection[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:12px}.month-card[_ngcontent-%COMP%]{padding:12px}.projection-summary[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:12px;margin-bottom:24px}.summary-card[_ngcontent-%COMP%]{padding:16px}.summary-card[_ngcontent-%COMP%]   .summary-icon[_ngcontent-%COMP%]{width:40px;height:40px}.summary-card[_ngcontent-%COMP%]   .summary-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.summary-card[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-value[_ngcontent-%COMP%]{font-size:18px}.summary-card[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-label[_ngcontent-%COMP%]{font-size:11px}.chart-container[_ngcontent-%COMP%]{padding:16px}.chart-content[_ngcontent-%COMP%]{height:250px}.y-axis[_ngcontent-%COMP%]{width:60px}.y-axis[_ngcontent-%COMP%]   .y-label[_ngcontent-%COMP%]{font-size:10px}.bar[_ngcontent-%COMP%]{max-width:30px}.bar[_ngcontent-%COMP%]   .bar-value[_ngcontent-%COMP%]{font-size:9px;padding:2px 6px}.bar-label[_ngcontent-%COMP%]   .month-name[_ngcontent-%COMP%]{font-size:11px}.bar-label[_ngcontent-%COMP%]   .cuotas-count[_ngcontent-%COMP%]{font-size:9px}.projection-insights[_ngcontent-%COMP%]{padding:16px}.insights-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:12px}.insight-card[_ngcontent-%COMP%]{padding:16px}.top-card-item[_ngcontent-%COMP%]{padding:12px;gap:12px}.top-card-item[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{width:28px;height:28px;font-size:12px}}@media (max-width: 480px){.stats-grid[_ngcontent-%COMP%]{gap:8px}.stat-card[_ngcontent-%COMP%]{padding:12px;gap:12px}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:16px}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:10px}.card-metrics[_ngcontent-%COMP%], .monthly-projection[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:8px}.month-card[_ngcontent-%COMP%]   .month-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:4px}.chart-content[_ngcontent-%COMP%]{height:200px;gap:8px}.y-axis[_ngcontent-%COMP%]{width:50px}.bars-container[_ngcontent-%COMP%]{gap:4px;padding:16px 0 50px}.bar[_ngcontent-%COMP%]{max-width:25px}.bar[_ngcontent-%COMP%]   .bar-value[_ngcontent-%COMP%]{font-size:8px;padding:2px 4px}.bar-label[_ngcontent-%COMP%]{margin-top:8px}.bar-label[_ngcontent-%COMP%]   .month-name[_ngcontent-%COMP%]{font-size:10px}.bar-label[_ngcontent-%COMP%]   .cuotas-count[_ngcontent-%COMP%]{font-size:8px}.chart-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px}.chart-header[_ngcontent-%COMP%]   .chart-title[_ngcontent-%COMP%], .top-card-item[_ngcontent-%COMP%]   .debt-info[_ngcontent-%COMP%]   .debt-amount[_ngcontent-%COMP%]{font-size:14px}.top-card-item[_ngcontent-%COMP%]   .debt-info[_ngcontent-%COMP%]   .debt-percentage[_ngcontent-%COMP%]{font-size:11px}}@media (max-width: 480px){.tarjeta-detail-card[_ngcontent-%COMP%]{padding:16px}.tarjeta-detail-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]   .card-name[_ngcontent-%COMP%]{font-size:14px}.tarjeta-detail-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]   .card-bank[_ngcontent-%COMP%]{font-size:11px}.tarjeta-detail-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-status[_ngcontent-%COMP%]{padding:6px 12px;font-size:11px}.tarjeta-detail-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-status[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.tarjeta-detail-card[_ngcontent-%COMP%]   .card-metrics[_ngcontent-%COMP%]   .metric[_ngcontent-%COMP%]{padding:12px}.tarjeta-detail-card[_ngcontent-%COMP%]   .card-metrics[_ngcontent-%COMP%]   .metric[_ngcontent-%COMP%]   .metric-label[_ngcontent-%COMP%]{font-size:11px}.tarjeta-detail-card[_ngcontent-%COMP%]   .card-metrics[_ngcontent-%COMP%]   .metric[_ngcontent-%COMP%]   .metric-value[_ngcontent-%COMP%]{font-size:14px}.tarjeta-detail-card[_ngcontent-%COMP%]   .utilization-container[_ngcontent-%COMP%]{padding:12px}.tarjeta-detail-card[_ngcontent-%COMP%]   .utilization-container[_ngcontent-%COMP%]   .utilization-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{font-size:11px}.tarjeta-detail-card[_ngcontent-%COMP%]   .utilization-container[_ngcontent-%COMP%]   .utilization-label[_ngcontent-%COMP%]   .utilization-percentage[_ngcontent-%COMP%]{font-size:14px}}.stat-card[_ngcontent-%COMP%], .tarjeta-detail-card[_ngcontent-%COMP%], .month-card[_ngcontent-%COMP%], .top-card-item[_ngcontent-%COMP%], .alert-item[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .3s ease-out}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.stat-card.highlighted[_ngcontent-%COMP%]{transform:scale(1.02);box-shadow:var(--mat-sys-elevation-level4)}.tarjeta-detail-card.high-utilization[_ngcontent-%COMP%]{border-color:var(--mat-sys-error);background:var(--mat-sys-error-container)}.stat-card[_ngcontent-%COMP%]:focus, .tarjeta-detail-card[_ngcontent-%COMP%]:focus, .month-card[_ngcontent-%COMP%]:focus, .top-card-item[_ngcontent-%COMP%]:focus{outline:2px solid var(--mat-sys-primary);outline-offset:2px}']})};var Fn=()=>[5,10,20];function Rn(s,t){s&1&&(a(0,"th",20),i(1,"Tarjeta"),o())}function Nn(s,t){if(s&1&&(a(0,"td",21)(1,"div",22),i(2),o(),a(3,"div",23),i(4),o()()),s&2){let e=t.$implicit;l(2),C(e.nombre),l(2),C(e.banco)}}function An(s,t){s&1&&(a(0,"th",20),i(1,"L\xEDmite / Disponible"),o())}function Vn(s,t){if(s&1&&(a(0,"td",21)(1,"div"),i(2),o(),a(3,"div",24),i(4),o()()),s&2){let e=t.$implicit,n=_(2);l(2),C(n.formatCurrency(e.limiteCredito)),l(2),E("",n.formatCurrency(n.getDisponible(e))," ")}}function Ln(s,t){s&1&&(a(0,"th",20),i(1,"Saldo Total / Utilizaci\xF3n"),o())}function Bn(s,t){if(s&1&&(a(0,"td",21)(1,"div",25),i(2),o(),a(3,"div",26),i(4),o()()),s&2){let e=t.$implicit,n=_(2);l(2),E("",n.formatCurrency(n.getSaldoCalculado(e))," "),l(),tt("high-usage",n.getUtilizacionPercentage(e)>80),l(),E(" ",n.formatPercentage(n.getUtilizacionPercentage(e))," ")}}function $n(s,t){s&1&&(a(0,"th",20),i(1,"Total Mes Actual"),o())}function Gn(s,t){if(s&1&&(a(0,"td",21)(1,"div",27),i(2),o(),a(3,"div",23),i(4,"Cuotas del mes"),o()()),s&2){let e=t.$implicit,n=_(2);l(2),E(" ",n.formatCurrency(n.getTotalMesActual(e))," ")}}function Yn(s,t){s&1&&(a(0,"th",20),i(1,"Vencimiento"),o())}function Un(s,t){if(s&1&&(a(0,"td",21)(1,"div"),i(2),o(),a(3,"div",23),i(4),ht(5,"date"),o()()),s&2){let e=t.$implicit,n=_(2);l(2),E("D\xEDa ",e.diaVencimiento," de cada mes"),l(2),E("Pr\xF3ximo: ",se(5,2,n.getProximoVencimiento(e.diaVencimiento),"dd/MM/yyyy"))}}function Hn(s,t){s&1&&(a(0,"th",28),i(1,"Estado"),o())}function qn(s,t){if(s&1&&(a(0,"td",21)(1,"span",29),i(2),o()()),s&2){let e=t.$implicit;l(),tt("active",e.activa)("inactive",!e.activa),l(),E(" ",e.activa?"Activa":"Inactiva"," ")}}function Wn(s,t){s&1&&(a(0,"th",30),i(1,"Acciones"),o())}function Kn(s,t){if(s&1){let e=B();a(0,"td",31)(1,"div",32)(2,"button",33),v("click",function(){let r=y(e).$implicit,c=_(2);return w(c.viewCuotas.emit(r))}),a(3,"mat-icon"),i(4,"list_alt"),o()(),a(5,"button",34),v("click",function(){let r=y(e).$implicit,c=_(2);return w(c.editTarjeta.emit(r))}),a(6,"mat-icon"),i(7,"edit"),o()(),a(8,"button",35),v("click",function(){let r=y(e).$implicit,c=_(2);return w(c.onDuplicate(r))}),a(9,"mat-icon"),i(10,"content_copy"),o()(),a(11,"button",36),v("click",function(){let r=y(e).$implicit,c=_(2);return w(c.deleteTarjeta.emit(r))}),a(12,"mat-icon"),i(13,"delete"),o()()()()}}function Xn(s,t){s&1&&j(0,"tr",37)}function Qn(s,t){s&1&&j(0,"tr",38)}function Zn(s,t){if(s&1&&(a(0,"div",3)(1,"table",4),q(2,5),M(3,Rn,2,0,"th",6)(4,Nn,5,2,"td",7),W(),q(5,8),M(6,An,2,0,"th",6)(7,Vn,5,2,"td",7),W(),q(8,9),M(9,Ln,2,0,"th",6)(10,Bn,5,4,"td",7),W(),q(11,10),M(12,$n,2,0,"th",6)(13,Gn,5,1,"td",7),W(),q(14,11),M(15,Yn,2,0,"th",6)(16,Un,6,5,"td",7),W(),q(17,12),M(18,Hn,2,0,"th",13)(19,qn,3,5,"td",7),W(),q(20,14),M(21,Wn,2,0,"th",15)(22,Kn,14,0,"td",16),W(),M(23,Xn,1,0,"tr",17)(24,Qn,1,0,"tr",18),o(),j(25,"mat-paginator",19),o()),s&2){let e=_();l(),p("dataSource",e.dataSource),l(22),p("matHeaderRowDef",e.displayedColumns),l(),p("matRowDefColumns",e.displayedColumns),l(),p("pageSizeOptions",ce(4,Fn))}}function Jn(s,t){if(s&1){let e=B();a(0,"div",41)(1,"div",42)(2,"mat-icon",43),i(3,"credit_card"),o(),a(4,"h3",44),i(5,"No hay tarjetas registradas"),o(),a(6,"p",45),i(7,"Agrega tu primera tarjeta para empezar a gestionar tus cuotas."),o(),a(8,"button",46),v("click",function(){y(e);let r=_(2);return w(r.addTarjeta.emit())}),a(9,"mat-icon"),i(10,"add"),o(),a(11,"span"),i(12,"Agregar Tarjeta"),o()()()()}}function to(s,t){s&1&&(a(0,"div",47)(1,"div",42),j(2,"mat-spinner",48),a(3,"p",45),i(4,"Cargando tarjetas..."),o()()())}function eo(s,t){if(s&1&&M(0,Jn,13,0,"div",39)(1,to,5,0,"div",40),s&2){let e=_();p("ngIf",!e.loading&&e.tarjetas.length===0),l(),p("ngIf",e.loading)}}var Bt=class s{constructor(t){this.calculationsService=t}tarjetas=[];cuotas=[];gastos=[];loading=!1;editTarjeta=new H;cloneTarjeta=new H;deleteTarjeta=new H;addTarjeta=new H;viewCuotas=new H;toggleActiva=new H;duplicateTarjeta=new H;paginator;sort;dataSource=new Re;displayedColumns=["nombre","limite","saldo","totalMes","estado","acciones"];ngOnInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}ngOnChanges(t){t.tarjetas&&(this.dataSource.data=this.tarjetas)}getSaldoCalculado(t){return this.calculationsService.calcularSaldoTarjeta(t.id,this.cuotas,this.gastos)}getUtilizacionPercentage(t){let e=Number(t?.limiteCredito),n=this.getSaldoCalculado(t),r=Number.isFinite(e)?e:0,c=Number.isFinite(n)?n:0;return r<=0?0:c/r*100}getProximoVencimiento(t){if(!t||isNaN(t)||t<1||t>31)return new Date;let e=new Date,n=e.getMonth(),r=e.getFullYear(),c=e.getDate(),g=new Date(r,n,t);return isNaN(g.getTime())?new Date:c>t&&(g=new Date(r,n+1,t),isNaN(g.getTime()))?new Date:g}getEstadoClass(t){if(!t.activa)return"estado-inactiva";let e=this.getUtilizacionPercentage(t);return e>90?"estado-critico":e>70?"estado-alto":e>50?"estado-medio":"estado-bajo"}getEstadoIcon(t){if(!t.activa)return"block";let e=this.getUtilizacionPercentage(t);return e>90?"warning":e>70?"error":e>50?"info":"check_circle"}getEstadoText(t){if(!t.activa)return"Inactiva";let e=this.getUtilizacionPercentage(t);return e>90?"Cr\xEDtico":e>70?"Alto":e>50?"Medio":"Normal"}formatCurrency(t){let e=Number(t),n=Number.isFinite(e)?e:0;return new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS",minimumFractionDigits:2,maximumFractionDigits:2}).format(n)}formatPercentage(t){let e=Number(t),n=Number.isFinite(e)?e:0;return`${Math.max(0,Math.min(100,n)).toFixed(1)}%`}getDisponible(t){let e=Number(t?.limiteCredito),n=this.getSaldoCalculado(t),r=Number.isFinite(e)?e:0,c=Number.isFinite(n)?n:0,g=r-c;return Number.isFinite(g)?g:0}getCurrentMonthKey(){let t=new Date,e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0");return`${e}-${n}`}getTotalMesActual(t){let e=this.getCurrentMonthKey();return this.calculationsService.calcularGastoTarjetaMensual(t.id,e,this.cuotas)}onClone(t){this.cloneTarjeta.emit(t)}onDuplicate(t){this.duplicateTarjeta.emit(t)}static \u0275fac=function(e){return new(e||s)(k(G))};static \u0275cmp=N({type:s,selectors:[["app-tarjetas-list"]],viewQuery:function(e,n){if(e&1&&(rt(Et,5),rt(It,5)),e&2){let r;it(r=ct())&&(n.paginator=r.first),it(r=ct())&&(n.sort=r.first)}},inputs:{tarjetas:"tarjetas",cuotas:"cuotas",gastos:"gastos",loading:"loading"},outputs:{editTarjeta:"editTarjeta",cloneTarjeta:"cloneTarjeta",deleteTarjeta:"deleteTarjeta",addTarjeta:"addTarjeta",viewCuotas:"viewCuotas",toggleActiva:"toggleActiva",duplicateTarjeta:"duplicateTarjeta"},standalone:!1,features:[at],decls:4,vars:2,consts:[["emptyOrLoading",""],[1,"list-container"],["class","table-container",4,"ngIf","ngIfElse"],[1,"table-container"],["mat-table","","matSort","",1,"mat-mdc-table",3,"dataSource"],["matColumnDef","nombre"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","limite"],["matColumnDef","saldo"],["matColumnDef","totalMes"],["matColumnDef","vencimiento"],["matColumnDef","estado"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","acciones"],["mat-header-cell","","class","actions-header",4,"matHeaderCellDef"],["mat-cell","","class","actions-cell",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[2,"font-weight","500"],[2,"font-size","12px","opacity","0.7"],[2,"font-size","12px","color","var(--mat-sys-success)"],[2,"font-weight","600","color","var(--mat-sys-primary)"],[2,"font-size","12px"],[2,"font-weight","600","color","var(--mat-sys-error)"],["mat-header-cell",""],[1,"status-chip"],["mat-header-cell","",1,"actions-header"],["mat-cell","",1,"actions-cell"],[1,"actions-container"],["mat-icon-button","","matTooltip","Ver Cuotas",1,"action-button",3,"click"],["mat-icon-button","","color","primary","matTooltip","Editar",1,"action-button",3,"click"],["mat-icon-button","","color","accent","matTooltip","Clonar",1,"action-button",3,"click"],["mat-icon-button","","color","warn","matTooltip","Eliminar",1,"action-button",3,"click"],["mat-header-row",""],["mat-row",""],["class","empty-state",4,"ngIf"],["class","loading-state",4,"ngIf"],[1,"empty-state"],[1,"content-wrapper"],[1,"state-icon"],[1,"title"],[1,"message"],["mat-raised-button","","color","primary",1,"action-button",3,"click"],[1,"loading-state"],["diameter","50"]],template:function(e,n){if(e&1&&(a(0,"div",1),M(1,Zn,26,5,"div",2)(2,eo,2,2,"ng-template",null,0,le),o()),e&2){let r=re(3);l(),p("ngIf",!n.loading&&n.tarjetas.length>0)("ngIfElse",r)}},dependencies:[V,Q,X,L,we,Te,Ee,je,Se,Ie,De,ke,ze,Fe,Et,It,Le,Z,kt,de],styles:[".high-usage[_ngcontent-%COMP%]{color:var(--mat-sys-error)!important;font-weight:700}"]})};function ro(s,t){if(s&1&&(a(0,"div",43)(1,"div",13)(2,"mat-icon"),i(3,"error"),o()(),a(4,"div",14)(5,"div",15),i(6),o(),a(7,"div",16),i(8,"Cuotas Vencidas"),o(),a(9,"div",17),i(10,"Requieren atenci\xF3n"),o(),a(11,"div",18)(12,"span"),i(13),o()()()()),s&2){let e=_();l(6),C(e.vencidas),l(7),C(e.formatCurrency(e.montoVencido))}}function io(s,t){if(s&1&&(a(0,"mat-option",44),i(1),o()),s&2){let e=t.$implicit;p("value",e.id),l(),ie(" ",e.nombre," - ",e.banco," ")}}function co(s,t){if(s&1){let e=B();a(0,"div",45)(1,"app-tarjetas-list",46),v("editTarjeta",function(r){y(e);let c=_();return w(c.openCardDialog(r))})("deleteTarjeta",function(r){y(e);let c=_();return w(c.deleteCard(r))})("duplicateTarjeta",function(r){y(e);let c=_();return w(c.duplicateCard(r))})("toggleActiva",function(r){y(e);let c=_();return w(c.toggleCardStatus(r))})("viewCuotas",function(r){y(e);let c=_();return w(c.viewCardInstallments(r))}),o()()}if(s&2){let e=_();l(),p("tarjetas",e.filteredTarjetas)("cuotas",e.cuotas)("gastos",e.filteredGastos)("loading",e.loading)}}function so(s,t){if(s&1&&(a(0,"div",45),j(1,"app-tarjeta-stats",47),o()),s&2){let e=_();l(),p("tarjetas",e.tarjetas)("cuotas",e.cuotas)("gastos",e.gastos)}}function lo(s,t){s&1&&(a(0,"div",48),j(1,"mat-spinner",49),a(2,"p"),i(3,"Cargando datos..."),o()())}var $t=class s{constructor(t,e,n,r){this.appStateService=t;this.calculationsService=e;this.dialog=n;this.snackBar=r;this.tarjetas$=this.appStateService.tarjetas$,this.cardExpenses$=this.appStateService.cardExpenses$,this.gastos$=this.appStateService.gastos$,this.currentMonth$=this.appStateService.currentMonth$}tarjetas$;cardExpenses$;gastos$;currentMonth$;loading=!1;selectedTabIndex=0;searchTerm="";selectedTarjetaId=null;totalDeuda=0;totalCuotasMes=0;cantidadTarjetas=0;cantidadCuotasActivas=0;promedioUtilizacion=0;tarjetaMayorDeuda="";totalLimite=0;totalDisponible=0;maxUtilizacion=0;proximosVencimientos=0;montoProximoVencer=0;vencidas=0;montoVencido=0;comprasMes=0;proximoVencimientoFecha=null;filteredTarjetas=[];filteredCardExpenses=[];filteredGastos=[];destroy$=new ot;cardInstallmentsMap=new Map;cardComputedSaldo=new Map;showSnackbar=!1;snackbarType="";snackbarMessage="";get tarjetas(){return this.filteredTarjetas}get gastos(){return this.filteredGastos}get cuotas(){return this.filteredCardExpenses}ngOnInit(){this.setupSubscriptions()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}openCardDialog(t){this.openTarjetaDialog(t)}deleteCard(t){this.deleteTarjeta(t)}duplicateCard(t){let e=T({},t);delete e.id,this.dialog.open(vt,{width:"80vw",maxHeight:"80vh",panelClass:"unified-modal-panel",data:{tarjeta:e,isEdit:!1},disableClose:!0}).afterClosed().subscribe(r=>{r?.tarjeta&&(this.saveTarjeta(r.tarjeta,!1),this.showSnackBar("Tarjeta duplicada (creada)","success"))})}toggleCardStatus(t){let e=J(T({},t),{activa:!t.activa});this.appStateService.updateCard(e),this.showSnackBar("Estado de tarjeta actualizado","success")}viewCardInstallments(t){this.onTarjetaFilterChange(t.id),this.selectedTabIndex=1}openInstallmentDialog(t){console.warn("openInstallmentDialog: funcionalidad movida a m\xF3dulo de gastos")}deleteInstallment(t){confirm(`\xBFEst\xE1s seguro de que deseas eliminar "${t.descripcion}"?`)&&(this.appStateService.deleteRecurringExpense(t.id),this.showSnackBar("Gasto eliminado correctamente","success"))}duplicateInstallment(t){console.warn("duplicateInstallment: funcionalidad movida a m\xF3dulo de gastos")}viewInstallmentDetails(t){console.warn("viewInstallmentDetails: funcionalidad movida a m\xF3dulo de gastos")}getSnackbarIcon(){switch(this.snackbarType){case"success":return"check_circle";case"error":return"error";case"warning":return"warning";default:return"info"}}hideSnackbar(){this.showSnackbar=!1}getCurrentMonth(){return new Date().toLocaleString("default",{month:"long",year:"numeric"})}getTotalDebt(){return this.totalDeuda}getMonthlyInstallments(){return this.totalCuotasMes}getActiveCardsCount(){return this.cantidadTarjetas}getAverageUtilization(){return this.promedioUtilizacion}hasActiveFilters(){return!!this.searchTerm||!!this.selectedTarjetaId}clearFilters(){this.searchTerm="",this.selectedTarjetaId=null,this.applyFilters()}onTabChange(t){this.selectedTabIndex=t.index??this.selectedTabIndex}get selectedCardId(){return this.selectedTarjetaId}set selectedCardId(t){this.selectedTarjetaId=t,this.applyFilters()}setupSubscriptions(){ne([this.tarjetas$,this.cardExpenses$,this.gastos$]).pipe(U(this.destroy$)).subscribe(([t,e,n])=>{this.calculateStats(t,e,n),this.applyFiltersInternal(t,e,n)})}calculateStats(t,e,n){this.cantidadTarjetas=t.length,this.cardInstallmentsMap.clear(),this.cardComputedSaldo.clear();let r=new Date;r.setHours(0,0,0,0);let c=new Date(r.getFullYear(),r.getMonth(),1),g=this.getMonthKey(r),m=ln(r,30),d=new Map(t.map(f=>[f.id,f])),P=0,x=0,O=0,u=0,h=0,b=0,I=null,S=new Map;e.forEach(f=>{if(!f||f.activo===!1||!f.idTarjeta)return;let D=f.idTarjeta,R=d.get(D),Y=this.toMonthDate(f.fechaInicio),F=!!Y&&Y>c,Cn=this.getPositiveInteger(f.cuotasTotales),_n=this.getPositiveInteger(f.cuotasRestantes),Mn=Y?this.monthDiff(Y,c):0,et=this.getInstallmentAmount(f);if(et<=0)return;let Pt=this.getRemainingInstallmentsValue(Cn,_n,Mn),Ot=Pt===null,Pn=Ot||(Pt??0)>0,wt=!F&&Pn;if(!wt&&!F)return;let St=this.getCardDueDay(R),nt=F&&Y?this.createDueDate(Y,St):this.createDueDate(c,St),Tt=wt&&!F,Ut=Tt&&!!nt&&nt<r,$=null;Tt?$=Ut?this.createDueDate(c,St,1):nt:F&&nt?$=nt:wt&&($=this.createDueDate(c,St,1));let Ht=!Ot&&Pt?et*Pt:0;!Ot&&Ht>0&&S.set(D,(S.get(D)??0)+Ht),this.cardInstallmentsMap.has(D)||this.cardInstallmentsMap.set(D,[]),this.cardInstallmentsMap.get(D).push({installmentAmount:et,remainingInstallments:Ot?null:Pt??0,outstanding:Ot?0:Ht,hasInstallmentThisMonth:Tt,currentDueDate:nt,nextDueDate:$,isOverdue:Ut,startsInFuture:F}),Tt&&(P+=et),wt&&!F&&(x+=1),Ut&&(h+=1,b+=et),$&&($>=r&&$<=m&&(O+=1,u+=et),(!I||$<I)&&(I=$))});let _t=0,Qt=0,Zt=0,Mt=[],Jt=t.length>0?t[0].nombre:"N/A",te=-1/0;if(t.forEach(f=>{let D=this.toNonNegativeNumber(f.limiteCredito),R=this.toNonNegativeNumber(f.saldoActual),Y=S.get(f.id)??0,F=R+Y;this.cardComputedSaldo.set(f.id,F),_t+=F,Qt+=D,Zt+=Math.max(D-F,0),D>0&&Mt.push(F/D*100),F>te&&(te=F,Jt=f.nombre)}),this.totalDeuda=_t,this.totalLimite=Qt,this.totalDisponible=Zt,this.cantidadCuotasActivas=x,Mt.length>0){let f=Mt.reduce((D,R)=>D+R,0);this.promedioUtilizacion=f/Mt.length,this.maxUtilizacion=Math.max(...Mt)}else this.promedioUtilizacion=0,this.maxUtilizacion=0;this.tarjetaMayorDeuda=t.length>0?Jt:"N/A",this.proximosVencimientos=O,this.montoProximoVencer=u,this.vencidas=h,this.montoVencido=b,this.proximoVencimientoFecha=I;let ee=(n||[]).filter(f=>{if(!(!!f.idTarjeta||f.metodoPago==="tarjeta")||!f.fecha)return!1;let R=new Date(f.fecha);return R.getFullYear()===r.getFullYear()&&R.getMonth()===r.getMonth()}).reduce((f,D)=>f+(Number(D.monto)||0),0);this.totalCuotasMes=(e||[]).filter(f=>f.idTarjeta&&f.activo!==!1).reduce((f,D)=>{let R=this.calculationsService.calcularMontoGasto(D,g);return f+R},0)+ee;let un=(e||[]).filter(f=>f.idTarjeta&&f.activo!==!1).reduce((f,D)=>{let R=this.calculationsService.calcularMontoGasto(D,g);return f+R},0);this.comprasMes=ee+un}applyFilters(){this.applyFiltersInternal(this.filteredTarjetas,this.filteredCardExpenses,this.filteredGastos)}applyFiltersInternal(t,e,n){this.filteredTarjetas=t.filter(r=>!this.searchTerm||r.nombre.toLowerCase().includes(this.searchTerm.toLowerCase())||r.banco.toLowerCase().includes(this.searchTerm.toLowerCase())),this.filteredCardExpenses=e.filter(r=>{let c=!this.searchTerm||r.descripcion.toLowerCase().includes(this.searchTerm.toLowerCase()),g=!this.selectedTarjetaId||r.idTarjeta===this.selectedTarjetaId;return c&&g}),this.filteredGastos=n.filter(r=>{let c=!this.searchTerm||r.descripcion.toLowerCase().includes(this.searchTerm.toLowerCase()),g=!this.selectedTarjetaId||r.idTarjeta===this.selectedTarjetaId;return c&&g})}openTarjetaDialog(t){this.dialog.open(vt,{width:"80vw",maxHeight:"80vh",panelClass:"unified-modal-panel",data:{tarjeta:t,isEdit:!!t},disableClose:!0}).afterClosed().subscribe(n=>{n?.tarjeta&&this.saveTarjeta(n.tarjeta,n.isEdit)})}editTarjeta(t){this.openTarjetaDialog(t)}deleteTarjeta(t){confirm(`\xBFEst\xE1s seguro de que deseas eliminar la tarjeta "${t.nombre}"?`)&&(this.appStateService.deleteTarjeta(t.id),this.showSnackBar("Tarjeta eliminada correctamente","success"))}editCuota(t){console.warn("editCuota: funcionalidad movida a m\xF3dulo de gastos")}deleteCuota(t){confirm(`\xBFEst\xE1s seguro de que deseas eliminar "${t.descripcion}"?`)&&(this.appStateService.deleteRecurringExpense(t.id),this.showSnackBar("Gasto eliminado correctamente","success"))}saveTarjeta(t,e=!1){if(e&&t.id)this.appStateService.updateTarjeta(t),this.showSnackBar("Tarjeta actualizada correctamente");else{let n=J(T({},t),{id:t.id||this.generateId()});this.appStateService.addTarjeta(n),this.showSnackBar("Tarjeta agregada correctamente")}}saveCuota(t){this.loading=!0;try{if(t.id)this.appStateService.updateRecurringExpense(t),this.showSnackBar("Cuota actualizada correctamente","success");else{let e=T({id:this.generateId()},t);this.appStateService.addRecurringExpense(e),this.showSnackBar("Cuota agregada correctamente","success")}}catch{this.showSnackBar("Error al guardar la cuota","error")}finally{this.loading=!1}}onSearchChange(t){this.searchTerm=t.target.value,this.applyFiltersInternal(this.filteredTarjetas,this.filteredCardExpenses,this.filteredGastos)}clearSearch(){this.searchTerm="",this.applyFiltersInternal(this.filteredTarjetas,this.filteredCardExpenses,this.filteredGastos)}onTarjetaFilterChange(t){this.selectedTarjetaId=t,this.applyFiltersInternal(this.filteredTarjetas,this.filteredCardExpenses,this.filteredGastos)}getMonthKey(t){let e=t.getFullYear(),n=t.getMonth()+1;return`${e}-${n.toString().padStart(2,"0")}`}normalizeMonthKey(t){let e=this.toMonthDate(t);return e?this.getMonthKey(e):null}toMonthDate(t){if(!t)return null;if(typeof t=="string"&&/^\d{4}-\d{2}$/.test(t)){let[n,r]=t.split("-").map(Number);return new Date(n,r-1,1)}let e=typeof t=="string"?new Date(t):new Date(t);return Number.isNaN(e.getTime())?null:new Date(e.getFullYear(),e.getMonth(),1)}monthDiff(t,e){return(e.getFullYear()-t.getFullYear())*12+(e.getMonth()-t.getMonth())}getPositiveInteger(t){let e=Number(t);return!Number.isFinite(e)||e<=0?null:Math.floor(e)}toNonNegativeNumber(t){let e=Number(t);return!Number.isFinite(e)||e<0?0:e}getInstallmentAmount(t){let e=this.toNonNegativeNumber(t.montoCuota??t.montoCuota);if(e>0)return e;let n=this.toNonNegativeNumber(t.monto??t.monto);if(n>0)return n;let r=this.toNonNegativeNumber(t.montoTotal??t.montoTotal??0);return r>0?r:0}getRemainingInstallmentsValue(t,e,n){if(t===null)return null;if(n<0)return t;let r=n+1,c=t-r;return Math.max(c,0)}getCardDueDay(t){let e=t?.fechaVencimientoDia??t?.fechaVencimiento??1,n=Number(e);return!Number.isFinite(n)||n<1?1:Math.min(Math.floor(n),31)}daysInMonth(t,e){return new Date(t,e+1,0).getDate()}createDueDate(t,e,n=0){let r=new Date(t.getFullYear(),t.getMonth()+n,1),c=this.daysInMonth(r.getFullYear(),r.getMonth()),g=Math.max(1,Math.min(e,c));return r.setDate(g),r.setHours(0,0,0,0),r}formatCurrency(t){let e=Number.isFinite(t)?t:0;return new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS",minimumFractionDigits:2,maximumFractionDigits:2}).format(e)}formatPercentage(t){let e=Number.isFinite(t)?t:0;return`${Math.max(0,Math.min(100,e)).toFixed(1)}%`}generateId(){return Date.now().toString()+Math.random().toString(36).substr(2,9)}showSnackBar(t,e="success"){this.snackBar.open(t,"Cerrar",{duration:3e3,panelClass:["tarjetas-snackbar",e],horizontalPosition:"end",verticalPosition:"top"})}onCalendarDayClick(t){this.selectedTabIndex=1}onCalendarViewChange(t){}static \u0275fac=function(e){return new(e||s)(k(Nt),k(G),k(Ft),k(Ye))};static \u0275cmp=N({type:s,selectors:[["app-tarjetas"]],standalone:!1,decls:117,vars:21,consts:[[1,"tarjetas-container"],[1,"prestamos-header"],[1,"header-content"],[1,"page-title"],[1,"page-subtitle"],[1,"header-actions"],["mat-raised-button","","color","primary",3,"click","disabled"],["mat-stroked-button","","color","primary","routerLink","big-picture",3,"disabled"],[1,"prestamo-stats","tarjetas-stats"],[1,"stats-header"],["mat-icon-button","",3,"click","disabled"],[1,"stats-grid"],[1,"stat-card","primary"],[1,"stat-icon"],[1,"stat-content"],[1,"stat-value"],[1,"stat-label"],[1,"stat-description"],[1,"stat-trend"],[1,"stat-card","secondary"],[1,"stat-card","success"],[1,"stat-card","warning"],["class","stat-card danger",4,"ngIf"],[1,"filters-section"],[1,"search-container"],["appearance","outline",1,"search-field"],["matInput","","placeholder","Nombre, banco, descripci\xF3n...",3,"ngModelChange","ngModel"],["matSuffix",""],[1,"filter-controls"],["appearance","outline",1,"filter-field"],[3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["mat-button","",3,"click","disabled"],[1,"content"],[3,"selectedIndexChange","selectedTabChange","selectedIndex"],["label","Tarjetas"],["matTabContent",""],["label","Estad\xEDsticas"],["class","loading-overlay",4,"ngIf"],[1,"snackbar-container"],[1,"snackbar-content",3,"ngClass"],["mat-icon-button","",3,"click"],[1,"stat-card","danger"],[3,"value"],[1,"tab-content"],[3,"editTarjeta","deleteTarjeta","duplicateTarjeta","toggleActiva","viewCuotas","tarjetas","cuotas","gastos","loading"],[3,"tarjetas","cuotas","gastos"],[1,"loading-overlay"],["diameter","50"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3)(4,"mat-icon"),i(5,"credit_card"),o(),i(6," Gesti\xF3n de Tarjetas "),o(),a(7,"p",4),i(8," Administra tus tarjetas de cr\xE9dito y cuotas "),o()(),a(9,"div",5)(10,"button",6),v("click",function(){return n.openCardDialog()}),a(11,"mat-icon"),i(12,"add"),o(),i(13," Nueva Tarjeta "),o(),a(14,"button",7)(15,"mat-icon"),i(16,"analytics"),o(),i(17," Big Picture - Reporte "),o()()(),a(18,"div",8)(19,"div",9)(20,"h3")(21,"mat-icon"),i(22,"analytics"),o(),i(23," Estad\xEDsticas de Tarjetas "),o(),a(24,"button",10),v("click",function(){return n.applyFilters()}),a(25,"mat-icon"),i(26,"refresh"),o()()(),a(27,"div",11)(28,"div",12)(29,"div",13)(30,"mat-icon"),i(31,"account_balance_wallet"),o()(),a(32,"div",14)(33,"div",15),i(34),o(),a(35,"div",16),i(36,"Deuda Total"),o(),a(37,"div",17),i(38,"Saldo acumulado en tarjetas"),o(),a(39,"div",18)(40,"mat-icon"),i(41,"credit_card"),o(),a(42,"span"),i(43),o()()()(),a(44,"div",19)(45,"div",13)(46,"mat-icon"),i(47,"credit_card"),o()(),a(48,"div",14)(49,"div",15),i(50),o(),a(51,"div",16),i(52,"L\xEDmite Total"),o(),a(53,"div",17),i(54,"Suma de l\xEDmites de cr\xE9dito"),o()()(),a(55,"div",20)(56,"div",13)(57,"mat-icon"),i(58,"check_circle"),o()(),a(59,"div",14)(60,"div",15),i(61),o(),a(62,"div",16),i(63,"Disponible Total"),o(),a(64,"div",17),i(65,"L\xEDmites menos saldos"),o()()(),a(66,"div",21)(67,"div",13)(68,"mat-icon"),i(69,"payments"),o()(),a(70,"div",14)(71,"div",15),i(72),o(),a(73,"div",16),i(74,"Cuotas Mensuales"),o(),a(75,"div",17),i(76,"Vencen este mes"),o(),a(77,"div",18)(78,"span"),i(79),o()()()(),M(80,ro,14,2,"div",22),o()(),a(81,"div",23)(82,"div",24)(83,"mat-form-field",25)(84,"mat-label"),i(85,"Buscar tarjetas o cuotas"),o(),a(86,"input",26),gt("ngModelChange",function(c){return lt(n.searchTerm,c)||(n.searchTerm=c),c}),v("ngModelChange",function(){return n.applyFilters()}),o(),a(87,"mat-icon",27),i(88,"search"),o()()(),a(89,"div",28)(90,"mat-form-field",29)(91,"mat-label"),i(92,"Filtrar por tarjeta"),o(),a(93,"mat-select",30),gt("ngModelChange",function(c){return lt(n.selectedCardId,c)||(n.selectedCardId=c),c}),v("ngModelChange",function(){return n.applyFilters()}),a(94,"mat-option",31),i(95,"Todas las tarjetas"),o(),M(96,io,2,3,"mat-option",32),o()(),a(97,"button",33),v("click",function(){return n.clearFilters()}),a(98,"mat-icon"),i(99,"clear"),o(),i(100," Limpiar Filtros "),o()()(),a(101,"div",34)(102,"mat-tab-group",35),gt("selectedIndexChange",function(c){return lt(n.selectedTabIndex,c)||(n.selectedTabIndex=c),c}),v("selectedTabChange",function(c){return n.onTabChange(c)}),a(103,"mat-tab",36),M(104,co,2,4,"ng-template",37),o(),a(105,"mat-tab",38),M(106,so,2,3,"ng-template",37),o()()(),M(107,lo,4,0,"div",39),o(),a(108,"div",40)(109,"div",41)(110,"mat-icon"),i(111),o(),a(112,"span"),i(113),o(),a(114,"button",42),v("click",function(){return n.hideSnackbar()}),a(115,"mat-icon"),i(116,"close"),o()()()()),e&2&&(l(10),p("disabled",n.loading),l(4),p("disabled",n.loading),l(10),p("disabled",n.loading),l(10),C(n.formatCurrency(n.totalDeuda)),l(9),E("",n.cantidadTarjetas," tarjetas"),l(7),C(n.formatCurrency(n.totalLimite)),l(11),C(n.formatCurrency(n.totalDisponible)),l(11),C(n.formatCurrency(n.totalCuotasMes)),l(7),E("",n.cantidadCuotasActivas," cuotas activas"),l(),p("ngIf",n.vencidas>0),l(6),st("ngModel",n.searchTerm),l(7),st("ngModel",n.selectedCardId),l(3),p("ngForOf",n.tarjetas),l(),p("disabled",!n.hasActiveFilters()),l(5),st("selectedIndex",n.selectedTabIndex),l(5),p("ngIf",n.loading),l(),tt("show",n.showSnackbar),l(),p("ngClass",n.snackbarType),l(2),C(n.getSnackbarIcon()),l(2),C(n.snackbarMessage))},dependencies:[me,K,V,jt,Dt,_e,Rt,Q,X,L,zt,dt,mt,Ve,ut,pt,Z,Ue,He,qe,Bt,Lt],styles:['@charset "UTF-8";.tarjetas-container[_ngcontent-%COMP%]{padding:24px;max-width:1400px;margin:0 auto;min-height:calc(100vh - 64px);background-color:var(--mat-sys-surface-dim);position:relative;animation:_ngcontent-%COMP%_fadeIn .6s ease-out}@media (max-width: 768px){.tarjetas-container[_ngcontent-%COMP%]{padding:16px}}.prestamos-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:32px;padding:24px;background:var(--mat-sys-surface-container-low);border-radius:16px;box-shadow:0 2px 12px var(--mat-sys-shadow);border:1px solid var(--mat-sys-outline-variant);animation:_ngcontent-%COMP%_slideInDown .6s ease-out}@media (max-width: 768px){.prestamos-header[_ngcontent-%COMP%]{flex-direction:column;gap:20px;align-items:stretch;padding:20px}}.header-content[_ngcontent-%COMP%]{flex:1}.page-title[_ngcontent-%COMP%]{margin:0 0 8px;font-size:28px;font-weight:700;color:var(--mat-sys-on-surface);display:flex;align-items:center;gap:12px}.page-title[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:32px;width:32px;height:32px;color:var(--mat-sys-primary)}@media (max-width: 768px){.page-title[_ngcontent-%COMP%]{font-size:24px}.page-title[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:28px;width:28px;height:28px}}.page-subtitle[_ngcontent-%COMP%]{margin:0;font-size:16px;color:var(--mat-sys-on-surface-variant);line-height:1.5}@media (max-width: 768px){.page-subtitle[_ngcontent-%COMP%]{font-size:14px}}.header-actions[_ngcontent-%COMP%]{display:flex;gap:12px;flex-shrink:0}@media (max-width: 768px){.header-actions[_ngcontent-%COMP%]{flex-direction:column;gap:8px}}@media (max-width: 480px){.header-actions[_ngcontent-%COMP%]{flex-direction:row;gap:8px}.header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;font-size:13px}.header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}}.summary-section[_ngcontent-%COMP%]{margin-bottom:32px;animation:_ngcontent-%COMP%_slideInUp .6s ease-out .1s both}.summary-section[_ngcontent-%COMP%]   .summary-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:16px}@media (max-width: 768px){.summary-section[_ngcontent-%COMP%]   .summary-cards[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:12px}}.summary-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]{background:var(--mat-sys-surface-container-low);border-radius:12px;padding:20px;box-shadow:0 2px 8px var(--mat-sys-shadow);display:flex;align-items:center;gap:16px;transition:all .3s ease;border-left:4px solid transparent}.summary-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 16px var(--mat-sys-shadow);transform:translateY(-2px)}.summary-section[_ngcontent-%COMP%]   .summary-card.total[_ngcontent-%COMP%]{border-left-color:var(--mat-sys-error)}.summary-section[_ngcontent-%COMP%]   .summary-card.total[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{background:var(--mat-sys-error-container);color:var(--mat-sys-on-error-container)}.summary-section[_ngcontent-%COMP%]   .summary-card.monthly[_ngcontent-%COMP%]{border-left-color:var(--mat-sys-warning)}.summary-section[_ngcontent-%COMP%]   .summary-card.monthly[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{background:var(--mat-sys-warning-container);color:var(--mat-sys-on-warning-container)}.summary-section[_ngcontent-%COMP%]   .summary-card.cards[_ngcontent-%COMP%]{border-left-color:var(--mat-sys-success)}.summary-section[_ngcontent-%COMP%]   .summary-card.cards[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{background:var(--mat-sys-success-container);color:var(--mat-sys-on-success-container)}.summary-section[_ngcontent-%COMP%]   .summary-card.utilization[_ngcontent-%COMP%]{border-left-color:var(--mat-sys-primary)}.summary-section[_ngcontent-%COMP%]   .summary-card.utilization[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{background:var(--mat-sys-primary-container);color:var(--mat-sys-on-primary-container)}.summary-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%;display:flex;align-items:center;justify-content:center;flex-shrink:0}.summary-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px}.summary-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:4px}.summary-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-value[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:var(--mat-sys-on-surface);line-height:1.2}.summary-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-label[_ngcontent-%COMP%]{font-size:.875rem;color:var(--mat-sys-on-surface-variant);text-transform:uppercase;letter-spacing:.5px}.filters-section[_ngcontent-%COMP%]{background:var(--mat-sys-surface-container-low);border-radius:12px;padding:20px;margin-bottom:24px;box-shadow:0 2px 8px var(--mat-sys-shadow);display:flex;gap:20px;align-items:flex-end;animation:_ngcontent-%COMP%_slideInUp .6s ease-out .2s both}@media (max-width: 768px){.filters-section[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:16px}}.filters-section[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]{flex:1;max-width:400px}@media (max-width: 768px){.filters-section[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]{max-width:none}}.filters-section[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]{width:100%}.filters-section[_ngcontent-%COMP%]   .filter-controls[_ngcontent-%COMP%]{display:flex;gap:16px;align-items:flex-end}@media (max-width: 768px){.filters-section[_ngcontent-%COMP%]   .filter-controls[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:12px}}.filters-section[_ngcontent-%COMP%]   .filter-controls[_ngcontent-%COMP%]   .filter-field[_ngcontent-%COMP%]{min-width:200px}@media (max-width: 768px){.filters-section[_ngcontent-%COMP%]   .filter-controls[_ngcontent-%COMP%]   .filter-field[_ngcontent-%COMP%]{min-width:auto}}.filters-section[_ngcontent-%COMP%]   .filter-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:56px;min-width:140px}@media (max-width: 768px){.filters-section[_ngcontent-%COMP%]   .filter-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:48px;min-width:auto}}.content[_ngcontent-%COMP%]{background:var(--mat-sys-surface-container-low);border-radius:12px;box-shadow:0 2px 8px var(--mat-sys-shadow);overflow:hidden;animation:_ngcontent-%COMP%_slideInUp .6s ease-out .3s both}.content[_ngcontent-%COMP%]     .mat-mdc-tab-group .mat-mdc-tab-header{border-bottom:1px solid var(--mat-sys-outline-variant);background:var(--mat-sys-surface-variant)}.content[_ngcontent-%COMP%]     .mat-mdc-tab-group .mat-mdc-tab-body-wrapper .mat-mdc-tab-body .mat-mdc-tab-body-content{overflow:visible}.content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]{padding:24px;min-height:400px}@media (max-width: 768px){.content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]{padding:16px}}.content[_ngcontent-%COMP%]   .tab-content.calendar-tab[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .tab-content.analysis-tab[_ngcontent-%COMP%]{padding:0}.prestamo-stats[_ngcontent-%COMP%]{padding:16px;background-color:var(--mat-sys-surface-container-low);border-radius:8px;border:1px solid var(--mat-sys-outline-variant);margin-bottom:24px}.stats-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}.stats-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;display:flex;align-items:center;gap:8px;color:var(--mat-sys-primary);font-weight:500;font-size:18px}.stats-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:16px}.stat-card[_ngcontent-%COMP%]{background:var(--mat-sys-surface-container-low);border-radius:12px;padding:20px;box-shadow:var(--mat-sys-elevation-level2);border:1px solid var(--mat-sys-outline-variant);transition:all .3s ease;position:relative;overflow:hidden;display:flex;align-items:flex-start;gap:16px}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:var(--mat-sys-elevation-level3)}.stat-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:var(--mat-sys-outline-variant)}.stat-card.primary[_ngcontent-%COMP%]:before{background:var(--mat-sys-primary)}.stat-card.secondary[_ngcontent-%COMP%]:before{background:var(--mat-sys-secondary)}.stat-card.info[_ngcontent-%COMP%]:before{background:var(--mat-sys-info)}.stat-card.success[_ngcontent-%COMP%]:before{background:var(--mat-sys-success)}.stat-card.warning[_ngcontent-%COMP%]:before{background:var(--mat-sys-warning)}.stat-card.danger[_ngcontent-%COMP%]:before{background:var(--mat-sys-error)}.stat-card.pending[_ngcontent-%COMP%]:before{background:var(--mat-sys-tertiary)}.stat-icon[_ngcontent-%COMP%]{flex-shrink:0;width:48px;height:48px;border-radius:12px;display:flex;align-items:center;justify-content:center;background-color:var(--mat-sys-surface-variant)}.stat-icon[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px;color:var(--mat-sys-on-surface-variant)}.primary[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background-color:var(--mat-sys-primary-container)}.primary[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:var(--mat-sys-on-primary-container)}.secondary[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background-color:var(--mat-sys-secondary-container)}.secondary[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:var(--mat-sys-on-secondary-container)}.info[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background-color:var(--mat-sys-info-container)}.info[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:var(--mat-sys-on-info-container)}.success[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background-color:var(--mat-sys-success-container)}.success[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:var(--mat-sys-on-success-container)}.warning[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background-color:var(--mat-sys-warning-container)}.warning[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:var(--mat-sys-on-warning-container)}.danger[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background-color:var(--mat-sys-error-container)}.danger[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:var(--mat-sys-on-error-container)}.pending[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background-color:var(--mat-sys-tertiary-container)}.pending[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:var(--mat-sys-on-tertiary-container)}.stat-content[_ngcontent-%COMP%]{flex:1;min-width:0}.stat-value[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:var(--mat-sys-on-surface);margin-bottom:4px;line-height:1.2}.stat-label[_ngcontent-%COMP%]{font-size:14px;color:var(--mat-sys-on-surface-variant);font-weight:500;margin-bottom:4px;text-transform:uppercase;letter-spacing:.5px}.stat-description[_ngcontent-%COMP%]{font-size:12px;color:var(--mat-sys-outline);margin-bottom:8px;font-style:italic;line-height:1.3}.stat-trend[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;font-size:12px;color:var(--mat-sys-outline)}.stat-trend[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.analysis-tab[_ngcontent-%COMP%]   .analysis-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:24px;padding:24px}@media (max-width: 768px){.analysis-tab[_ngcontent-%COMP%]   .analysis-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:16px;padding:16px}}.analysis-tab[_ngcontent-%COMP%]   .analysis-card[_ngcontent-%COMP%]{background:var(--mat-sys-surface-variant);border-radius:8px;padding:20px;border:1px solid var(--mat-sys-outline-variant)}.analysis-tab[_ngcontent-%COMP%]   .analysis-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;padding-bottom:12px;border-bottom:1px solid var(--mat-sys-outline-variant)}.analysis-tab[_ngcontent-%COMP%]   .analysis-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.1rem;font-weight:500;color:var(--mat-sys-on-surface)}.analysis-tab[_ngcontent-%COMP%]   .analysis-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--mat-sys-primary)}.analysis-tab[_ngcontent-%COMP%]   .analysis-card[_ngcontent-%COMP%]   .chart-placeholder[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:200px;color:var(--mat-sys-on-surface-variant);text-align:center}.analysis-tab[_ngcontent-%COMP%]   .analysis-card[_ngcontent-%COMP%]   .chart-placeholder[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;margin-bottom:12px;opacity:.5}.analysis-tab[_ngcontent-%COMP%]   .analysis-card[_ngcontent-%COMP%]   .chart-placeholder[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 8px;font-weight:500}.analysis-tab[_ngcontent-%COMP%]   .analysis-card[_ngcontent-%COMP%]   .chart-placeholder[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.75rem;opacity:.7}.loading-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:var(--mat-sys-scrim);display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:1000;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.loading-overlay[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{margin-bottom:16px}.loading-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--mat-sys-on-surface-variant);font-size:.875rem}.snackbar-container[_ngcontent-%COMP%]{position:fixed;bottom:24px;left:50%;transform:translate(-50%) translateY(100px);z-index:2000;transition:transform .3s ease;max-width:400px;width:calc(100% - 48px)}.snackbar-container.show[_ngcontent-%COMP%]{transform:translate(-50%) translateY(0)}.snackbar-container[_ngcontent-%COMP%]   .snackbar-content[_ngcontent-%COMP%]{background:var(--mat-sys-inverse-surface);color:var(--mat-sys-inverse-on-surface);padding:12px 16px;border-radius:8px;display:flex;align-items:center;gap:12px;box-shadow:0 4px 16px var(--mat-sys-shadow)}.snackbar-container[_ngcontent-%COMP%]   .snackbar-content.success[_ngcontent-%COMP%]{background:var(--mat-sys-success);color:var(--mat-sys-on-success)}.snackbar-container[_ngcontent-%COMP%]   .snackbar-content.error[_ngcontent-%COMP%]{background:var(--mat-sys-error);color:var(--mat-sys-on-error)}.snackbar-container[_ngcontent-%COMP%]   .snackbar-content.warning[_ngcontent-%COMP%]{background:var(--mat-sys-warning);color:var(--mat-sys-on-warning)}.snackbar-container[_ngcontent-%COMP%]   .snackbar-content.info[_ngcontent-%COMP%]{background:var(--mat-sys-info);color:var(--mat-sys-on-info)}.snackbar-container[_ngcontent-%COMP%]   .snackbar-content[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.snackbar-container[_ngcontent-%COMP%]   .snackbar-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1;font-size:.875rem}.snackbar-container[_ngcontent-%COMP%]   .snackbar-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:inherit}.snackbar-container[_ngcontent-%COMP%]   .snackbar-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_slideInDown{0%{opacity:0;transform:translateY(-30px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_slideInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.prestamos-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{transition:all .3s ease}.prestamos-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:var(--mat-sys-elevation-level2)}@media (prefers-reduced-motion: reduce){.tarjetas-container[_ngcontent-%COMP%], .prestamos-header[_ngcontent-%COMP%], .summary-section[_ngcontent-%COMP%], .filters-section[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]{animation:none}.prestamos-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{transition:none}.prestamos-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:none}}@media (max-width: 480px){.tarjetas-container[_ngcontent-%COMP%]{padding:12px}.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.25rem}.header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{flex-direction:column}.header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;min-width:auto}.summary-section[_ngcontent-%COMP%]   .summary-cards[_ngcontent-%COMP%]{grid-template-columns:1fr}.filters-section[_ngcontent-%COMP%]{padding:16px}.content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]{padding:12px}}']})};var go=s=>Math.max(s.offsetWidth,s.scrollWidth),mo=s=>Math.max(s.offsetHeight,s.scrollHeight),po=(s,t,e)=>{let n=s.childNodes,r=document.createRange();for(let c=0;c<n.length;c++){let g=n[c];if(g.nodeType!==3)continue;r.selectNodeContents(g);let m=r.getBoundingClientRect();if(t>=m.left&&e>=m.top&&t<=m.right&&e<=m.bottom)return g}return!1},uo=()=>{let s=window.getSelection?window.getSelection():document.selection;s&&(s.removeAllRanges?s.removeAllRanges():s.empty&&s.empty())};var Gt=class{constructor(t={}){let e={content:t.viewport.children[0],direction:"all",pointerMode:"all",scrollMode:void 0,bounce:!0,bounceForce:.1,friction:.05,textSelection:!1,inputsFocus:!0,emulateScroll:!1,preventDefaultOnEmulateScroll:!1,preventPointerMoveDefault:!0,lockScrollOnDragDirection:!1,pointerDownPreventDefault:!0,dragDirectionTolerance:40,onPointerDown(){},onPointerUp(){},onPointerMove(){},onClick(){},onUpdate(){},onWheel(){},shouldScroll(){return!0}};if(this.props=T(T({},e),t),!this.props.viewport||!(this.props.viewport instanceof Element)){console.error('ScrollBooster init error: "viewport" config property must be present and must be Element');return}if(!this.props.content){console.error("ScrollBooster init error: Viewport does not have any content");return}this.isDragging=!1,this.isTargetScroll=!1,this.isScrolling=!1,this.isRunning=!1;let n={x:0,y:0};this.position=T({},n),this.velocity=T({},n),this.dragStartPosition=T({},n),this.dragOffset=T({},n),this.clientOffset=T({},n),this.dragPosition=T({},n),this.targetPosition=T({},n),this.scrollOffset=T({},n),this.rafID=null,this.events={},this.updateMetrics(),this.handleEvents()}updateOptions(t={}){this.props=T(T({},this.props),t),this.props.onUpdate(this.getState()),this.startAnimationLoop()}updateMetrics(){this.viewport={width:this.props.viewport.clientWidth,height:this.props.viewport.clientHeight},this.content={width:go(this.props.content),height:mo(this.props.content)},this.edgeX={from:Math.min(-this.content.width+this.viewport.width,0),to:0},this.edgeY={from:Math.min(-this.content.height+this.viewport.height,0),to:0},this.props.onUpdate(this.getState()),this.startAnimationLoop()}startAnimationLoop(){this.isRunning=!0,cancelAnimationFrame(this.rafID),this.rafID=requestAnimationFrame(()=>this.animate())}animate(){if(!this.isRunning)return;this.updateScrollPosition(),this.isMoving()||(this.isRunning=!1,this.isTargetScroll=!1);let t=this.getState();this.setContentPosition(t),this.props.onUpdate(t),this.rafID=requestAnimationFrame(()=>this.animate())}updateScrollPosition(){this.applyEdgeForce(),this.applyDragForce(),this.applyScrollForce(),this.applyTargetForce();let t=1-this.props.friction;this.velocity.x*=t,this.velocity.y*=t,this.props.direction!=="vertical"&&(this.position.x+=this.velocity.x),this.props.direction!=="horizontal"&&(this.position.y+=this.velocity.y),(!this.props.bounce||this.isScrolling)&&!this.isTargetScroll&&(this.position.x=Math.max(Math.min(this.position.x,this.edgeX.to),this.edgeX.from),this.position.y=Math.max(Math.min(this.position.y,this.edgeY.to),this.edgeY.from))}applyForce(t){this.velocity.x+=t.x,this.velocity.y+=t.y}applyEdgeForce(){if(!this.props.bounce||this.isDragging)return;let t=this.position.x<this.edgeX.from,e=this.position.x>this.edgeX.to,n=this.position.y<this.edgeY.from,r=this.position.y>this.edgeY.to,c=t||e,g=n||r;if(!c&&!g)return;let m={x:t?this.edgeX.from:this.edgeX.to,y:n?this.edgeY.from:this.edgeY.to},d={x:m.x-this.position.x,y:m.y-this.position.y},P={x:d.x*this.props.bounceForce,y:d.y*this.props.bounceForce},x={x:this.position.x+(this.velocity.x+P.x)/this.props.friction,y:this.position.y+(this.velocity.y+P.y)/this.props.friction};(t&&x.x>=this.edgeX.from||e&&x.x<=this.edgeX.to)&&(P.x=d.x*this.props.bounceForce-this.velocity.x),(n&&x.y>=this.edgeY.from||r&&x.y<=this.edgeY.to)&&(P.y=d.y*this.props.bounceForce-this.velocity.y),this.applyForce({x:c?P.x:0,y:g?P.y:0})}applyDragForce(){if(!this.isDragging)return;let t={x:this.dragPosition.x-this.position.x,y:this.dragPosition.y-this.position.y};this.applyForce({x:t.x-this.velocity.x,y:t.y-this.velocity.y})}applyScrollForce(){this.isScrolling&&(this.applyForce({x:this.scrollOffset.x-this.velocity.x,y:this.scrollOffset.y-this.velocity.y}),this.scrollOffset.x=0,this.scrollOffset.y=0)}applyTargetForce(){this.isTargetScroll&&this.applyForce({x:(this.targetPosition.x-this.position.x)*.08-this.velocity.x,y:(this.targetPosition.y-this.position.y)*.08-this.velocity.y})}isMoving(){return this.isDragging||this.isScrolling||Math.abs(this.velocity.x)>=.01||Math.abs(this.velocity.y)>=.01}scrollTo(t={}){this.isTargetScroll=!0,this.targetPosition.x=-t.x||0,this.targetPosition.y=-t.y||0,this.startAnimationLoop()}setPosition(t={}){this.velocity.x=0,this.velocity.y=0,this.position.x=-t.x||0,this.position.y=-t.y||0,this.startAnimationLoop()}getState(){return{isMoving:this.isMoving(),isDragging:!!(this.dragOffset.x||this.dragOffset.y),position:{x:-this.position.x,y:-this.position.y},dragOffset:this.dragOffset,dragAngle:this.getDragAngle(this.clientOffset.x,this.clientOffset.y),borderCollision:{left:this.position.x>=this.edgeX.to,right:this.position.x<=this.edgeX.from,top:this.position.y>=this.edgeY.to,bottom:this.position.y<=this.edgeY.from}}}getDragAngle(t,e){return Math.round(Math.atan2(t,e)*(180/Math.PI))}getDragDirection(t,e){return Math.abs(90-Math.abs(t))<=90-e?"horizontal":"vertical"}setContentPosition(t){this.props.scrollMode==="transform"&&(this.props.content.style.transform=`translate(${-t.position.x}px, ${-t.position.y}px)`),this.props.scrollMode==="native"&&(this.props.viewport.scrollTop=t.position.y,this.props.viewport.scrollLeft=t.position.x)}handleEvents(){let t={x:0,y:0},e={x:0,y:0},n=null,r=null,c=!1,g=m=>{if(!this.isDragging)return;let d=c?m.touches[0]:m,{pageX:P,pageY:x,clientX:O,clientY:u}=d;this.dragOffset.x=P-t.x,this.dragOffset.y=x-t.y,this.clientOffset.x=O-e.x,this.clientOffset.y=u-e.y,(Math.abs(this.clientOffset.x)>5&&!n||Math.abs(this.clientOffset.y)>5&&!n)&&(n=this.getDragDirection(this.getDragAngle(this.clientOffset.x,this.clientOffset.y),this.props.dragDirectionTolerance)),this.props.lockScrollOnDragDirection&&this.props.lockScrollOnDragDirection!=="all"?n===this.props.lockScrollOnDragDirection&&c?(this.dragPosition.x=this.dragStartPosition.x+this.dragOffset.x,this.dragPosition.y=this.dragStartPosition.y+this.dragOffset.y):c?(this.dragPosition.x=this.dragStartPosition.x,this.dragPosition.y=this.dragStartPosition.y):(this.dragPosition.x=this.dragStartPosition.x+this.dragOffset.x,this.dragPosition.y=this.dragStartPosition.y+this.dragOffset.y):(this.dragPosition.x=this.dragStartPosition.x+this.dragOffset.x,this.dragPosition.y=this.dragStartPosition.y+this.dragOffset.y)};this.events.pointerdown=m=>{c=!!(m.touches&&m.touches[0]),this.props.onPointerDown(this.getState(),m,c);let d=c?m.touches[0]:m,{pageX:P,pageY:x,clientX:O,clientY:u}=d,{viewport:h}=this.props,b=h.getBoundingClientRect();if(O-b.left>=h.clientLeft+h.clientWidth||u-b.top>=h.clientTop+h.clientHeight||!this.props.shouldScroll(this.getState(),m)||m.button===2||this.props.pointerMode==="mouse"&&c||this.props.pointerMode==="touch"&&!c)return;let I=["input","textarea","button","select","label"];if(!(this.props.inputsFocus&&I.indexOf(m.target.nodeName.toLowerCase())>-1)){if(this.props.textSelection){if(po(m.target,O,u))return;uo()}this.isDragging=!0,t.x=P,t.y=x,e.x=O,e.y=u,this.dragStartPosition.x=this.position.x,this.dragStartPosition.y=this.position.y,g(m),this.startAnimationLoop(),!c&&this.props.pointerDownPreventDefault&&m.preventDefault()}},this.events.pointermove=m=>{m.cancelable&&(this.props.lockScrollOnDragDirection==="all"||this.props.lockScrollOnDragDirection===n)&&m.preventDefault(),g(m),this.props.onPointerMove(this.getState(),m,c)},this.events.pointerup=m=>{this.isDragging=!1,n=null,this.props.onPointerUp(this.getState(),m,c)},this.events.wheel=m=>{let d=this.getState();this.props.emulateScroll&&(this.velocity.x=0,this.velocity.y=0,this.isScrolling=!0,this.scrollOffset.x=-m.deltaX,this.scrollOffset.y=-m.deltaY,this.props.onWheel(d,m),this.startAnimationLoop(),clearTimeout(r),r=setTimeout(()=>this.isScrolling=!1,80),this.props.preventDefaultOnEmulateScroll&&this.getDragDirection(this.getDragAngle(-m.deltaX,-m.deltaY),this.props.dragDirectionTolerance)===this.props.preventDefaultOnEmulateScroll&&m.preventDefault())},this.events.scroll=()=>{let{scrollLeft:m,scrollTop:d}=this.props.viewport;Math.abs(this.position.x+m)>3&&(this.position.x=-m,this.velocity.x=0),Math.abs(this.position.y+d)>3&&(this.position.y=-d,this.velocity.y=0)},this.events.click=m=>{let d=this.getState(),P=this.props.direction!=="vertical"?d.dragOffset.x:0,x=this.props.direction!=="horizontal"?d.dragOffset.y:0;Math.max(Math.abs(P),Math.abs(x))>5&&(m.preventDefault(),m.stopPropagation()),this.props.onClick(d,m,c)},this.events.contentLoad=()=>this.updateMetrics(),this.events.resize=()=>this.updateMetrics(),this.props.viewport.addEventListener("mousedown",this.events.pointerdown),this.props.viewport.addEventListener("touchstart",this.events.pointerdown,{passive:!1}),this.props.viewport.addEventListener("click",this.events.click),this.props.viewport.addEventListener("wheel",this.events.wheel,{passive:!1}),this.props.viewport.addEventListener("scroll",this.events.scroll),this.props.content.addEventListener("load",this.events.contentLoad,!0),window.addEventListener("mousemove",this.events.pointermove),window.addEventListener("touchmove",this.events.pointermove,{passive:!1}),window.addEventListener("mouseup",this.events.pointerup),window.addEventListener("touchend",this.events.pointerup),window.addEventListener("resize",this.events.resize)}destroy(){this.props.viewport.removeEventListener("mousedown",this.events.pointerdown),this.props.viewport.removeEventListener("touchstart",this.events.pointerdown),this.props.viewport.removeEventListener("click",this.events.click),this.props.viewport.removeEventListener("wheel",this.events.wheel),this.props.viewport.removeEventListener("scroll",this.events.scroll),this.props.content.removeEventListener("load",this.events.contentLoad),window.removeEventListener("mousemove",this.events.pointermove),window.removeEventListener("touchmove",this.events.pointermove),window.removeEventListener("mouseup",this.events.pointerup),window.removeEventListener("touchend",this.events.pointerup),window.removeEventListener("resize",this.events.resize)}};var Co=["tableWrapper"],_o=["fullscreenTableContainer"];function Mo(s,t){if(s&1&&(a(0,"div",30)(1,"div",31)(2,"h3")(3,"mat-icon"),i(4,"analytics"),o(),i(5," Resumen Ejecutivo "),o()(),a(6,"div",32)(7,"div",33)(8,"div",34)(9,"mat-icon"),i(10,"trending_up"),o()(),a(11,"div",35)(12,"div",36),i(13),o(),a(14,"div",37),i(15,"Ingresos Promedio"),o(),a(16,"div",38),i(17,"por mes"),o()()(),a(18,"div",39)(19,"div",34)(20,"mat-icon"),i(21,"trending_down"),o()(),a(22,"div",35)(23,"div",36),i(24),o(),a(25,"div",37),i(26,"Gastos Promedio"),o(),a(27,"div",38),i(28,"por mes"),o()()(),a(29,"div",40)(30,"div",34)(31,"mat-icon"),i(32,"account_balance"),o()(),a(33,"div",35)(34,"div",36),i(35),o(),a(36,"div",37),i(37,"Balance Promedio"),o(),a(38,"div",38),i(39,"por mes"),o()()(),a(40,"div",41)(41,"div",34)(42,"mat-icon"),i(43,"timeline"),o()(),a(44,"div",35)(45,"div",36),i(46),o(),a(47,"div",37),i(48),o(),a(49,"div",38),i(50,"acumulado"),o()()(),a(51,"div",42)(52,"div",34)(53,"mat-icon"),i(54),o()(),a(55,"div",35)(56,"div",36),i(57),o(),a(58,"div",37),i(59,"Flujo de Caja"),o(),a(60,"div",38),i(61,"mensual promedio"),o()()(),a(62,"div",43)(63,"div",34)(64,"mat-icon"),i(65,"credit_card"),o()(),a(66,"div",35)(67,"div",36),i(68),o(),a(69,"div",37),i(70,"Deuda Total Tarjetas"),o(),a(71,"div",38),i(72,"saldo actual"),o()()(),a(73,"div",44)(74,"div",34)(75,"mat-icon"),i(76,"payments"),o()(),a(77,"div",35)(78,"div",36),i(79),o(),a(80,"div",37),i(81,"Cuotas Mensuales"),o(),a(82,"div",38),i(83,"compromisos fijos"),o()()(),a(84,"div",42)(85,"div",34)(86,"mat-icon"),i(87),o()(),a(88,"div",35)(89,"div",36),i(90),o(),a(91,"div",37),i(92,"Eficiencia Financiera"),o(),a(93,"div",38),i(94,"gastos vs ingresos"),o()()()()()),s&2){let e=_();l(13),C(e.formatCurrency(e.getAverageIncome())),l(11),C(e.formatCurrency(e.getAverageExpenses())),l(11),C(e.formatCurrency(e.getAverageBalance())),l(11),C(e.formatCurrency(e.getTotalProjection())),l(2),E("Proyecci\xF3n ",e.yearsToShow," a\xF1os"),l(3),A(e.getAverageBalance()>=0?"success":"warning"),l(3),C(e.getAverageBalance()>=0?"arrow_upward":"arrow_downward"),l(3),C(e.formatCurrency(e.getAverageBalance())),l(11),C(e.formatCurrency(e.getTotalDebtCards())),l(11),C(e.formatCurrency(e.getMonthlyInstallments())),l(5),A(e.getFinancialEfficiency()<=.8?"success":"warning"),l(3),C(e.getFinancialEfficiency()<=.8?"thumb_up":"warning"),l(3),C(e.formatPercentage(e.getFinancialEfficiency()))}}function Po(s,t){if(s&1&&(a(0,"th")(1,"div",45)(2,"span",46),i(3),o(),a(4,"span",47),i(5),o()()()),s&2){let e=t.$implicit;A(e.cssClasses.join(" ")),l(3),C(e.displayName),l(2),C(e.year)}}function Oo(s,t){if(s&1&&(a(0,"span",50),i(1),o()),s&2){let e=_().$implicit;l(),E(" ",e.formattedValue," ")}}function fo(s,t){if(s&1&&(a(0,"td"),M(1,Oo,2,1,"span",49),o()),s&2){let e=t.$implicit;A(e.cssClasses.join(" ")),l(),p("ngIf",!e.isEmpty)}}function ho(s,t){if(s&1){let e=B();a(0,"tr")(1,"td",48),v("click",function(){let r=y(e).$implicit,c=_();return w(c.onConceptCellClick(r))}),o(),M(2,fo,2,3,"td",26),o()}if(s&2){let e=t.$implicit,n=_();A(e.cssClasses.join(" ")),l(),ft("cursor",!e.isHeader&&!e.id.includes("total-")&&!e.id.includes("separator")?"pointer":"default"),p("innerHTML",e.label,qt)("title",n.getCleanText(e.label)),l(),p("ngForOf",e.cells)("ngForTrackBy",n.trackByCellIndex)}}function vo(s,t){s&1&&(a(0,"div",51),j(1,"mat-spinner",52),a(2,"p"),i(3,"Cargando datos del reporte..."),o()())}function bo(s,t){s&1&&(a(0,"div",53)(1,"mat-icon"),i(2,"credit_card_off"),o(),a(3,"h3"),i(4,"No hay datos disponibles"),o(),a(5,"p"),i(6,"Configure sus tarjetas, ingresos y gastos para ver el reporte."),o(),a(7,"button",54)(8,"mat-icon"),i(9,"add"),o(),i(10," Configurar Datos "),o()())}function xo(s,t){if(s&1&&(a(0,"th")(1,"div",45)(2,"span",46),i(3),o(),a(4,"span",47),i(5),o()()()),s&2){let e=t.$implicit;A(e.cssClasses.join(" ")),l(3),C(e.displayName),l(2),C(e.year)}}function yo(s,t){if(s&1&&(a(0,"span",50),i(1),o()),s&2){let e=_().$implicit;l(),E(" ",e.formattedValue," ")}}function wo(s,t){if(s&1&&(a(0,"td"),M(1,yo,2,1,"span",49),o()),s&2){let e=t.$implicit;A(e.cssClasses.join(" ")),l(),p("ngIf",!e.isEmpty)}}function So(s,t){if(s&1){let e=B();a(0,"tr")(1,"td",48),v("click",function(){let r=y(e).$implicit,c=_(2);return w(c.onConceptCellClick(r))}),o(),M(2,wo,2,3,"td",26),o()}if(s&2){let e=t.$implicit,n=_(2);A(e.cssClasses.join(" ")),l(),ft("cursor",!e.isHeader&&!e.id.includes("total-")&&!e.id.includes("separator")?"pointer":"default"),p("innerHTML",e.label,qt)("title",n.getCleanText(e.label)),l(),p("ngForOf",e.cells)("ngForTrackBy",n.trackByCellIndex)}}function To(s,t){if(s&1){let e=B();a(0,"div",55),v("click",function(){y(e);let r=_();return w(r.closeFullscreenModal())}),a(1,"div",56),v("click",function(r){return y(e),w(r.stopPropagation())}),a(2,"div",57)(3,"div",58)(4,"mat-icon"),i(5,"credit_card"),o(),a(6,"h2"),i(7,"Big Picture - Vista Completa"),o()(),a(8,"div",59)(9,"button",8),v("click",function(){y(e);let r=_();return w(r.refreshData())}),a(10,"mat-icon"),i(11,"refresh"),o()(),a(12,"button",11),v("click",function(){y(e);let r=_();return w(r.exportToCSV())}),a(13,"mat-icon"),i(14,"download"),o(),i(15," Exportar CSV "),o(),a(16,"button",60),v("click",function(){y(e);let r=_();return w(r.closeFullscreenModal())}),a(17,"mat-icon"),i(18,"fullscreen_exit"),o()()()(),a(19,"div",61,1)(21,"table",62)(22,"thead")(23,"tr")(24,"th",24)(25,"div",25)(26,"mat-icon"),i(27,"list"),o(),a(28,"span"),i(29,"Concepto"),o()()(),M(30,xo,6,4,"th",26),o()(),a(31,"tbody"),M(32,So,3,8,"tr",26),o()()()()()}if(s&2){let e=_();l(30),p("ngForOf",e.staticTableData.monthHeaders)("ngForTrackBy",e.trackByMonthKey),l(2),p("ngForOf",e.staticTableData.rows)("ngForTrackBy",e.trackByRowId)}}var Yt=class s{constructor(t,e,n,r,c){this.appStateService=t;this.calculationsService=e;this.cdr=n;this.dialog=r;this.sidenavService=c}destroy$=new ot;tarjetas=[];cuotas=[];gastosRecurrentes=[];ingresos=[];prestamos=[];yearsToShow=2;showSettings=!1;isFullscreenOpen=!1;months=[];reportRows=[];staticTableData={columns:[],monthHeaders:[],rows:[]};cachedStats={averageIncome:0,averageExpenses:0,averageBalance:0,totalProjection:0};currentMonthKey="";tableWrapper;fullscreenTableContainer;cleanupDragListeners=[];ngOnInit(){console.log("\u{1F680} BigPictureReporte ngOnInit() iniciado"),this.currentMonthKey=this.getCurrentMonth(),this.loadData(),this.generateMonths()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.cleanupDragListeners.forEach(t=>t()),this.cleanupDragListeners=[]}ngAfterViewInit(){this.tableWrapper?.nativeElement&&this.initDragScroll(this.tableWrapper.nativeElement,"all")}initDragScroll(t,e="all"){let n=t.querySelector(".report-table, .fullscreen-table")||t.firstElementChild||t,r=new Gt({viewport:t,content:n,scrollMode:"native",direction:e,bounce:!1,friction:.1,emulateScroll:!1,pointerMode:"mouse",textSelection:!1,lockScrollOnDragDirection:e,dragDirectionTolerance:20,onPointerDown:()=>{requestAnimationFrame(()=>{t.classList.add("dragging")})},onPointerUp:()=>{requestAnimationFrame(()=>{t.classList.remove("dragging")})}}),c=()=>{try{r?.destroy?.()}catch{}};this.cleanupDragListeners.push(c)}loadData(){console.log("\u{1F50D} BigPicture: Iniciando carga de datos..."),this.appStateService.tarjetas$.pipe(U(this.destroy$)).subscribe(t=>{this.tarjetas=t,this.generateReportRows()}),this.appStateService.cardExpenses$.pipe(U(this.destroy$)).subscribe(t=>{this.cuotas=t,this.generateReportRows()}),this.appStateService.recurringExpenses$.pipe(U(this.destroy$)).subscribe(t=>{this.gastosRecurrentes=t,this.generateReportRows()}),this.appStateService.incomes$.pipe(U(this.destroy$)).subscribe(t=>{this.ingresos=t,this.generateReportRows()}),this.appStateService.loans$.pipe(U(this.destroy$)).subscribe(t=>{this.prestamos=t,this.generateReportRows()})}generateMonths(){let t=new Date,e=new Date(t.getFullYear(),t.getMonth(),1);this.months=[];let n=6,r=this.yearsToShow*12,c=n+r+1;for(let g=-n;g<r+1;g++){let m=new Date(e.getFullYear(),e.getMonth()+g,1),d={year:m.getFullYear(),month:m.getMonth()+1,date:m,key:`${m.getFullYear()}-${String(m.getMonth()+1).padStart(2,"0")}`,displayName:m.toLocaleDateString("es-ES",{month:"short",year:"numeric"})};this.months.push(d)}console.log("\u{1F4C5} generateMonths() completado:",{monthsCount:this.months.length,firstMonth:this.months[0],lastMonth:this.months[this.months.length-1]})}generateReportRows(){console.log("\u{1F4CA} generateReportRows() iniciado - datos disponibles:",{tarjetas:this.tarjetas.length,cuotas:this.cuotas.length,gastosRecurrentes:this.gastosRecurrentes.length,ingresos:this.ingresos.length,prestamos:this.prestamos.length,months:this.months.length}),this.months.length===0&&(console.warn("\u26A0\uFE0F months est\xE1 vac\xEDo, regenerando..."),this.generateMonths());let t=[];this.ingresos.length>0&&(t.push({id:"header-ingresos",type:"separator",label:"\u{1F4B0} INGRESOS",isSeparator:!0,sectionType:"ingresos"}),this.ingresos.forEach(c=>{c.activo&&t.push({id:`ingreso-${c.id}`,type:"ingreso",label:`  \u{1F4B5} ${c.fuente} - ${c.descripcion}`,itemId:c.id,sectionType:"ingresos"})}),t.push({id:"total-ingresos",type:"total-ingresos",label:"\u{1F4B0} TOTAL INGRESOS",isTotal:!0,sectionType:"ingresos"}),t.push({id:"sep-1",type:"separator",label:"",isSeparator:!0}));let e=this.tarjetas.filter(c=>c.activa),n=this.gastosRecurrentes.filter(c=>c.activo&&c.idTarjeta);(n.length>0||this.cuotas.length>0)&&(t.push({id:"header-gastos-tarjeta",type:"separator",label:"\u{1F4B3} GASTOS DE TARJETAS",isSeparator:!0,sectionType:"gastos-tarjetas"}),e.forEach(c=>{let g=n.some(d=>d.idTarjeta===c.id),m=this.cuotas.some(d=>d.idTarjeta===c.id);(g||m)&&t.push({id:`gasto-tarjeta-${c.id}`,type:"gasto-tarjeta",label:`  \u{1F4B3} ${c.nombre}`,itemId:c.id,sectionType:"gastos-tarjetas"})}),t.push({id:"total-gastos-tarjeta",type:"total-gastos-tarjeta",label:"\u{1F4B8} TOTAL GASTOS TARJETAS",isTotal:!0,sectionType:"gastos-tarjetas"}),t.push({id:"sep-2",type:"separator",label:"",isSeparator:!0})),this.prestamos.length>0&&(t.push({id:"header-prestamos",type:"separator",label:"\u{1F3E6} PR\xC9STAMOS",isSeparator:!0,sectionType:"prestamos"}),this.prestamos.forEach(c=>{let g=c.estado?` [${(c.estado||"").toUpperCase()}]`:"",m=en(c)?"\u{1F3E6}":"\u2705";t.push({id:`prestamo-${c.id}`,type:"prestamo",label:`  ${m} ${c.entidad} - ${c.descripcion}${g}`,itemId:c.id,sectionType:"prestamos"})}),t.push({id:"total-prestamos",type:"total-prestamos",label:"\u{1F4B0} TOTAL PR\xC9STAMOS",isTotal:!0,sectionType:"prestamos"}),t.push({id:"sep-3",type:"separator",label:"",isSeparator:!0}));let r=this.gastosRecurrentes.filter(c=>c.activo&&!c.idTarjeta);r.length>0&&(t.push({id:"header-otros-gastos",type:"separator",label:"\u{1F3EA} OTROS GASTOS",isSeparator:!0,sectionType:"otros-gastos"}),r.forEach(c=>{t.push({id:`gasto-otro-${c.id}`,type:"gasto-otro",label:`  \u{1F3EA} ${c.descripcion}`,itemId:c.id,sectionType:"otros-gastos"})}),t.push({id:"total-otros-gastos",type:"total-otros-gastos",label:"\u{1F4B8} TOTAL OTROS GASTOS",isTotal:!0,sectionType:"otros-gastos"}),t.push({id:"sep-4",type:"separator",label:"",isSeparator:!0})),t.push({id:"total-egresos",type:"total-egresos",label:"\u{1F4B8} TOTAL EGRESOS",isTotal:!0,sectionType:"balance"}),t.push({id:"balance-neto",type:"balance-neto",label:"\u{1F4CA} BALANCE NETO",isTotal:!0,sectionType:"balance"}),this.reportRows=t,this.preCalculateAllCells(),this.preCalculateStats(),this.buildStaticTableData(),this.cdr.detectChanges(),console.log("\u{1F504} detectChanges() llamado despu\xE9s de buildStaticTableData()")}preCalculateAllCells(){this.reportRows.forEach(t=>{if(t.isSeparator){t.cells=new Map;return}t.cells=new Map,this.months.forEach(e=>{let n=this.calculateCellValue(t,e),r={value:n,formattedValue:n!==0?this.formatCurrency(n):"",cssClass:this.getCellCssClass(n),isCurrentMonth:e.key===this.currentMonthKey};t.cells.set(e.key,r)})})}preCalculateStats(){if(this.months.length===0){this.cachedStats={averageIncome:0,averageExpenses:0,averageBalance:0,totalProjection:0};return}let t=0,e=0;this.months.forEach(g=>{let m=this.calculationsService.calcularTotalIngresosMes(this.ingresos,g.key),d=this.calculationsService.calcularTotalGastosTarjetaMes(this.tarjetas,g.key,this.gastosRecurrentes),P=this.calculationsService.calcularTotalPrestamosMes(this.prestamos,g.key),x=this.calculationsService.calcularTotalOtrosGastosMes(this.gastosRecurrentes,g.key);t+=m,e+=d+P+x});let n=t/this.months.length,r=e/this.months.length,c=n-r;this.cachedStats={averageIncome:n,averageExpenses:r,averageBalance:c,totalProjection:c*this.months.length}}buildStaticTableData(){this.months.length===0&&(console.error("\u274C buildStaticTableData() llamado sin meses disponibles"),this.generateMonths());let t=this.months.map(r=>({key:r.key,displayName:r.displayName,year:r.year,cssClasses:r.key===this.currentMonthKey?["month-header","current-month"]:["month-header"]})),e=["concepto",...this.months.map(r=>r.key)],n=this.reportRows.map(r=>{let c=[];r.isSeparator&&c.push("separator-row"),r.isTotal&&c.push("total-row"),r.type==="balance-neto"&&c.push("balance-row"),r.sectionType==="ingresos"&&c.push("section-ingresos"),r.sectionType==="gastos-tarjetas"&&c.push("section-gastos-tarjetas"),r.sectionType==="prestamos"&&c.push("section-prestamos"),r.sectionType==="otros-gastos"&&c.push("section-otros-gastos"),r.sectionType==="balance"&&c.push("section-balance");let g=this.months.map(m=>{if(r.isSeparator)return{value:0,formattedValue:"",cssClasses:["separator-row"],isEmpty:!0};let d=r.cells?.get(m.key)||{value:0,formattedValue:"",cssClass:"zero-value",isCurrentMonth:!1},P=["value-cell"];return d.cssClass&&P.push(d.cssClass),m.key===this.currentMonthKey&&P.push("current-month"),r.isSeparator&&P.push("separator-row"),r.isTotal&&P.push("total-row"),{value:d.value,formattedValue:d.formattedValue,cssClasses:P,isEmpty:!d.formattedValue}});return{id:r.id,label:r.label,cssClasses:c,cells:g}});this.staticTableData={columns:e,monthHeaders:t,rows:n},console.log("\u{1F680} buildStaticTableData() completado:",{columns:this.staticTableData.columns.length,monthHeaders:this.staticTableData.monthHeaders.length,rows:this.staticTableData.rows.length,firstRowCells:this.staticTableData.rows[0]?.cells?.length||0,monthHeadersData:this.staticTableData.monthHeaders,firstRowData:this.staticTableData.rows[0],monthsLength:this.months.length,reportRowsLength:this.reportRows.length,sampleRow:this.staticTableData.rows[1]}),this.staticTableData.rows.slice(0,3).forEach((r,c)=>{console.log(`Fila ${c}:`,{label:r.label,cellsCount:r.cells.length,firstCell:r.cells[0],secondCell:r.cells[1]})})}getCellCssClass(t){return t>0?"positive-value":t<0?"negative-value":"zero-value"}getCellData(t,e){return t.cells?.get(e)||{value:0,formattedValue:"",cssClass:"zero-value",isCurrentMonth:!1}}calculateCellValue(t,e){let n=e.key;switch(t.type){case"ingreso":{let r=this.ingresos.find(c=>c.id===t.itemId);return!r||!r.activo?0:this.calculationsService.calcularMontoIngreso(r,n)}case"gasto-tarjeta":return this.calculationsService.calcularGastoTarjetaMensual(t.itemId,n,this.gastosRecurrentes);case"prestamo":{let r=this.prestamos.find(c=>c.id===t.itemId);return r?this.calculationsService.calcularMontoPrestamo(r,n):0}case"gasto-otro":{let r=this.gastosRecurrentes.find(c=>c.id===t.itemId);return r?this.calculationsService.calcularMontoGasto(r,n):0}case"total-ingresos":return this.calculationsService.calcularTotalIngresosMes(this.ingresos,n);case"total-gastos-tarjeta":return this.calculationsService.calcularTotalGastosTarjetaMes(this.tarjetas,n,this.gastosRecurrentes);case"total-prestamos":return this.calculationsService.calcularTotalPrestamosMes(this.prestamos,n);case"total-otros-gastos":return this.calculationsService.calcularTotalOtrosGastosMes(this.gastosRecurrentes,n);case"total-egresos":{let r=this.calculationsService.calcularTotalGastosTarjetaMes(this.tarjetas,n,this.gastosRecurrentes),c=this.calculationsService.calcularTotalPrestamosMes(this.prestamos,n),g=this.calculationsService.calcularTotalOtrosGastosMes(this.gastosRecurrentes,n);return r+c+g}case"balance-neto":{let r=this.calculationsService.calcularTotalIngresosMes(this.ingresos,n),c=this.calculationsService.calcularTotalGastosTarjetaMes(this.tarjetas,n,this.gastosRecurrentes),g=this.calculationsService.calcularTotalPrestamosMes(this.prestamos,n),m=this.calculationsService.calcularTotalOtrosGastosMes(this.gastosRecurrentes,n),d=c+g+m;return r-d}default:return 0}}formatCurrency(t){return new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS",minimumFractionDigits:0,maximumFractionDigits:0}).format(t)}onYearsChange(){this.generateMonths(),this.generateReportRows()}refreshData(){console.log("\u{1F504} Refrescando datos del Big Picture..."),this.currentMonthKey=this.getCurrentMonth(),this.generateMonths(),this.appStateService.recalculateMonthlySummaries(),this.cdr.detectChanges(),console.log("\u2705 Datos refrescados correctamente")}exportToCSV(){}toggleSettings(){this.showSettings=!this.showSettings}trackByMonthKey(t,e){return e.key}trackByRowId(t,e){return e.id}trackByCellIndex(t){return t}getCleanText(t){let e=document.createElement("div");return e.innerHTML=t,e.textContent||e.innerText||""}getDisplayedColumns(){return["concepto",...this.months.map(t=>t.key)]}isLoading(){return this.staticTableData.rows.length===0}getAverageIncome(){return this.cachedStats.averageIncome}getAverageExpenses(){return this.cachedStats.averageExpenses}getAverageBalance(){return this.cachedStats.averageBalance}getTotalProjection(){return this.cachedStats.totalProjection}getTotalDebtCards(){return this.tarjetas.reduce((t,e)=>{let n=Number.isFinite(Number(e.saldoActual))?Number(e.saldoActual):0,r=this.calculationsService.calcularSaldoPendienteTarjeta(e.id,this.gastosRecurrentes,[]);return t+n+r},0)}getMonthlyInstallments(){return this.currentMonthKey?this.calculationsService.calcularTotalGastosTarjetaMes(this.tarjetas,this.currentMonthKey,this.gastosRecurrentes):0}getFinancialEfficiency(){let t=this.getAverageIncome(),e=this.getAverageExpenses();return t>0?e/t:0}formatPercentage(t){return(t*100).toFixed(1)+"%"}loadTestData(){let t={categorias:[{id:"cat-2",nombre:"Vivienda",tipo:"gasto",color:"#FF5722",icono:"home",activa:!0,fechaCreacion:new Date().toISOString(),fechaActualizacion:new Date().toISOString()}],ingresos:[{id:"test-income-1",fuente:"Trabajo Principal",descripcion:"Salario mensual de prueba",montoInicial:15e4,fechaInicio:"2024-01",frecuencia:"MENSUAL",activo:!0}],gastos:[{id:"test-gasto-1",descripcion:"Supermercado",monto:15e3,fecha:"2024-01-15",categoriaId:"cat-2",fechaCreacion:new Date().toISOString(),fechaActualizacion:new Date().toISOString()}],gastosRecurrentes:[{id:"test-expense-1",categoriaId:"cat-2",descripcion:"Alquiler Test",monto:45e3,fechaInicio:"2024-01",activo:!0,esRecurrente:!0,tipoRecurrencia:"MENSUAL"},{id:"test-card-expense-1",categoriaId:"cat-2",descripcion:"Compra de prueba",monto:2e3,fechaInicio:"2024-01",activo:!0,esRecurrente:!0,tipoRecurrencia:"MENSUAL",cuotasTotales:6,cuotasRestantes:3,idTarjeta:"test-card-1",esCompraTarjeta:!0,fechaCompra:"2024-01-15",descripcionComercio:"Compra de prueba",cuotaActual:3,montoCuota:2e3,montoTotal:12e3,esUnico:!1,fechaVencimiento:"2024-02-10",mes:"2024-02"}],tarjetas:[{id:"test-card-1",nombre:"Visa Test",banco:"Banco Test",tipo:"Cr\xE9dito",limiteCredito:1e5,saldoActual:25e3,fechaVencimientoDia:10,fechaCorte:15,activa:!0,fechaCreacion:new Date().toISOString().split("T")[0],fechaActualizacion:new Date().toISOString().split("T")[0]}],prestamos:[{id:"test-loan-1",entidad:"Banco Test",descripcion:"Pr\xE9stamo Personal Test",monto:5e4,cuotaMensual:5e3,duracionMeses:12,fechaInicio:"2024-01",cuotasRestantes:9,tasaInteres:15,tipo:"personal",estado:"activo",diaVencimiento:15,fechaCreacion:new Date().toISOString().split("T")[0],fechaActualizacion:new Date().toISOString().split("T")[0]}],pagos:[],resumenMensual:[],currentMonth:this.getCurrentMonth()};try{let e=this.appStateService.importData(t);if(e.success)alert("\u2705 Datos de prueba cargados correctamente");else{console.error("\u274C Error al cargar datos de prueba:",e);let n=`\u274C Error al cargar datos de prueba:

${e.error}`;e.details&&(n+=`

Detalles: ${e.details}`),alert(n)}}catch(e){console.error("\u{1F4A5} Error inesperado:",e),alert(`\u{1F4A5} Error inesperado al cargar datos:

${e instanceof Error?e.message:"Error desconocido"}`)}}getCurrentMonth(){let t=new Date;return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}`}isCurrentMonth(t){return t.key===this.currentMonthKey}openFullscreenModal(){this.dialog.closeAll(),this.sidenavService.closeDrawer(),this.isFullscreenOpen=!0,document.body.style.overflow="hidden",setTimeout(()=>{let t=this.fullscreenTableContainer?.nativeElement;t&&this.initDragScroll(t,"all")},0)}closeFullscreenModal(){this.isFullscreenOpen=!1,document.body.style.overflow="auto"}onConceptCellClick(t){if(t.isHeader||t.id.includes("total-")||t.id.includes("separator"))return;let e=this.reportRows.find(n=>n.id===t.id);if(!(!e||!e.itemId))switch(e.type){case"ingreso":this.openIngresoDialog(e.itemId);break;case"prestamo":this.openPrestamoDialog(e.itemId);break;case"gasto-otro":this.openGastoDialog(e.itemId);break;default:break}}openIngresoDialog(t){let e=this.ingresos.find(r=>r.id===t);if(!e)return;this.dialog.open(rn,{width:"80vw",maxHeight:"80vh",panelClass:"unified-modal-panel",data:{ingreso:e,title:"Editar Ingreso"}}).afterClosed().subscribe(r=>{r&&this.refreshData()})}openPrestamoDialog(t){let e=this.prestamos.find(r=>r.id===t);if(!e)return;this.dialog.open(cn,{width:"80vw",height:"80vh",maxHeight:"80vh",panelClass:"unified-modal-panel",data:{prestamo:e,mode:"edit"}}).afterClosed().subscribe(r=>{r&&this.refreshData()})}openGastoDialog(t){let e=this.gastosRecurrentes.find(r=>r.id===t);if(!e)return;this.dialog.open(an,{width:"80vw",maxHeight:"80vh",panelClass:"unified-modal-panel",data:{gasto:e,title:"Editar Gasto"},disableClose:!0}).afterClosed().subscribe(r=>{r&&this.refreshData()})}static \u0275fac=function(e){return new(e||s)(k(Nt),k(G),k(ge),k(Ft),k(sn))};static \u0275cmp=N({type:s,selectors:[["app-big-picture-reporte"]],viewQuery:function(e,n){if(e&1&&(rt(Co,5),rt(_o,5)),e&2){let r;it(r=ct())&&(n.tableWrapper=r.first),it(r=ct())&&(n.fullscreenTableContainer=r.first)}},standalone:!1,decls:61,vars:13,consts:[["tableWrapper",""],["fullscreenTableContainer",""],[1,"big-picture-container"],[1,"prestamos-header"],[1,"header-content"],[1,"page-title"],[1,"page-subtitle"],[1,"header-actions"],["mat-icon-button","","matTooltip","Refrescar datos",3,"click"],["mat-icon-button","",3,"click"],["mat-icon-button","","matTooltip","Ver tabla en pantalla completa",3,"click"],["mat-raised-button","","color","primary",3,"click"],["class","prestamo-stats",4,"ngIf"],[1,"settings-panel",3,"expanded"],[1,"settings-content"],["appearance","outline"],[3,"valueChange","selectionChange","value"],["value","1"],["value","2"],["value","3"],["value","5"],[1,"report-container"],[1,"table-wrapper"],[1,"report-table","static-table"],[1,"concept-header"],[1,"concept-header-content"],[3,"class",4,"ngFor","ngForOf","ngForTrackBy"],["class","loading-state",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","fullscreen-modal",3,"click",4,"ngIf"],[1,"prestamo-stats"],[1,"stats-header"],[1,"stats-grid"],[1,"stat-card","success"],[1,"stat-icon"],[1,"stat-content"],[1,"stat-value"],[1,"stat-label"],[1,"stat-description"],[1,"stat-card","danger"],[1,"stat-card","info"],[1,"stat-card","primary"],[1,"stat-card"],[1,"stat-card","warning"],[1,"stat-card","pending"],[1,"month-header-content"],[1,"month-name"],[1,"month-year"],[1,"concept-cell",3,"click","innerHTML","title"],["class","cell-value",4,"ngIf"],[1,"cell-value"],[1,"loading-state"],["diameter","50"],[1,"empty-state"],["mat-raised-button","","color","primary","routerLink","/tarjetas"],[1,"fullscreen-modal",3,"click"],[1,"fullscreen-content",3,"click"],[1,"fullscreen-header"],[1,"fullscreen-title"],[1,"fullscreen-actions"],["mat-icon-button","","matTooltip","Cerrar vista completa",3,"click"],[1,"fullscreen-table-container"],[1,"fullscreen-table","static-table"]],template:function(e,n){if(e&1){let r=B();a(0,"div",2)(1,"div",3)(2,"div",4)(3,"h1",5)(4,"mat-icon"),i(5,"credit_card"),o(),i(6," Big Picture - Reporte por Tarjetas "),o(),a(7,"p",6),i(8),o()(),a(9,"div",7)(10,"button",8),v("click",function(){return y(r),w(n.refreshData())}),a(11,"mat-icon"),i(12,"refresh"),o()(),a(13,"button",9),v("click",function(){return y(r),w(n.toggleSettings())}),a(14,"mat-icon"),i(15,"settings"),o()(),a(16,"button",10),v("click",function(){return y(r),w(n.openFullscreenModal())}),a(17,"mat-icon"),i(18,"fullscreen"),o()(),a(19,"button",11),v("click",function(){return y(r),w(n.exportToCSV())}),a(20,"mat-icon"),i(21,"download"),o(),i(22," Exportar CSV "),o()()(),M(23,Mo,95,15,"div",12),a(24,"mat-expansion-panel",13)(25,"mat-expansion-panel-header")(26,"mat-panel-title")(27,"mat-icon"),i(28,"tune"),o(),i(29," Configuraci\xF3n del Reporte "),o()(),a(30,"div",14)(31,"mat-form-field",15)(32,"mat-label"),i(33,"A\xF1os a mostrar"),o(),a(34,"mat-select",16),gt("valueChange",function(g){return y(r),lt(n.yearsToShow,g)||(n.yearsToShow=g),w(g)}),v("selectionChange",function(){return y(r),w(n.onYearsChange())}),a(35,"mat-option",17),i(36,"1 a\xF1o"),o(),a(37,"mat-option",18),i(38,"2 a\xF1os"),o(),a(39,"mat-option",19),i(40,"3 a\xF1os"),o(),a(41,"mat-option",20),i(42,"5 a\xF1os"),o()()()()(),a(43,"div",21)(44,"div",22,0)(46,"table",23)(47,"thead")(48,"tr")(49,"th",24)(50,"div",25)(51,"mat-icon"),i(52,"list"),o(),a(53,"span"),i(54,"Concepto"),o()()(),M(55,Po,6,4,"th",26),o()(),a(56,"tbody"),M(57,ho,3,8,"tr",26),o()()()(),M(58,vo,4,0,"div",27)(59,bo,11,0,"div",28),o(),M(60,To,33,4,"div",29)}e&2&&(l(8),E("Proyecci\xF3n de ingresos y gastos por los pr\xF3ximos ",n.yearsToShow," a\xF1os"),l(5),tt("active",n.showSettings),l(10),p("ngIf",n.months.length>0),l(),p("expanded",n.showSettings),l(10),st("value",n.yearsToShow),l(21),p("ngForOf",n.staticTableData.monthHeaders)("ngForTrackBy",n.trackByMonthKey),l(2),p("ngForOf",n.staticTableData.rows)("ngForTrackBy",n.trackByRowId),l(),p("ngIf",n.staticTableData.rows.length===0),l(),p("ngIf",n.staticTableData.rows.length===0&&n.months.length>0),l(),p("ngIf",n.isFullscreenOpen))},dependencies:[K,V,Rt,Q,X,L,dt,mt,ut,pt,Z,kt,We,Ke,Xe],styles:['@charset "UTF-8";.big-picture-container[_ngcontent-%COMP%]{cursor:move;padding:24px;max-width:100%;overflow-x:auto;background-color:var(--mat-sys-background);color:var(--mat-sys-on-background);animation:_ngcontent-%COMP%_fadeIn .6s ease-out}.big-picture-container[_ngcontent-%COMP%]   .prestamos-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:32px;padding:24px;background:var(--mat-sys-surface-container-low);border-radius:16px;box-shadow:0 2px 12px var(--mat-sys-shadow);border:1px solid var(--mat-sys-outline-variant);animation:_ngcontent-%COMP%_slideInDown .6s ease-out}@media (max-width: 768px){.big-picture-container[_ngcontent-%COMP%]   .prestamos-header[_ngcontent-%COMP%]{flex-direction:column;gap:20px;align-items:stretch;padding:20px}}.big-picture-container[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex:1}.big-picture-container[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{margin:0 0 8px;font-size:28px;font-weight:700;color:var(--mat-sys-on-surface);display:flex;align-items:center;gap:12px}.big-picture-container[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .big-picture-container[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:32px;width:32px;height:32px;color:var(--mat-sys-primary)}@media (max-width: 768px){.big-picture-container[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:24px}.big-picture-container[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .big-picture-container[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:28px;width:28px;height:28px}}.big-picture-container[_ngcontent-%COMP%]   .page-subtitle[_ngcontent-%COMP%]{margin:0;font-size:16px;color:var(--mat-sys-on-surface-variant);line-height:1.5}@media (max-width: 768px){.big-picture-container[_ngcontent-%COMP%]   .page-subtitle[_ngcontent-%COMP%]{font-size:14px}}.big-picture-container[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;gap:12px;flex-shrink:0}@media (max-width: 768px){.big-picture-container[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{flex-direction:column;gap:8px}}@media (max-width: 480px){.big-picture-container[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{flex-direction:row;gap:8px}.big-picture-container[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;font-size:13px}.big-picture-container[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .big-picture-container[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}}.big-picture-container[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[mat-icon-button].active[_ngcontent-%COMP%]{background-color:var(--mat-sys-primary-container);color:var(--mat-sys-on-primary-container)}.big-picture-container[_ngcontent-%COMP%]   .settings-panel[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInUp .6s ease-out .1s both;margin-bottom:24px;background-color:var(--mat-sys-surface-container);border-radius:8px;border:1px solid var(--mat-sys-outline-variant)}.big-picture-container[_ngcontent-%COMP%]   .settings-panel[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]{display:flex;gap:16px;flex-wrap:wrap;padding:16px}.big-picture-container[_ngcontent-%COMP%]   .settings-panel[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{min-width:200px}.big-picture-container[_ngcontent-%COMP%]   .report-container[_ngcontent-%COMP%]{background:var(--mat-sys-surface);border-radius:8px;border:1px solid var(--mat-sys-outline-variant);animation:_ngcontent-%COMP%_fadeIn .6s ease-out .2s both;overflow:hidden;margin-bottom:32px}.big-picture-container[_ngcontent-%COMP%]   .report-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]{overflow-x:auto;max-height:70vh;cursor:grab!important;touch-action:none;overscroll-behavior:contain;will-change:scroll-position;transform:translateZ(0);-webkit-overflow-scrolling:touch;contain:layout style paint}.big-picture-container[_ngcontent-%COMP%]   .report-container[_ngcontent-%COMP%]   .table-wrapper.dragging[_ngcontent-%COMP%]{cursor:grabbing!important;-webkit-user-select:none;user-select:none;pointer-events:auto}.big-picture-container[_ngcontent-%COMP%]   .report-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]{width:100%;min-width:800px;transform:translateZ(0);backface-visibility:hidden}.big-picture-container[_ngcontent-%COMP%]   .report-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]   .concept-header[_ngcontent-%COMP%]{position:sticky;left:0;top:0;background-color:var(--mat-sys-surface-container-high);color:var(--mat-sys-on-surface);font-weight:600;z-index:20;min-width:300px;max-width:300px;width:300px;border-right:1px solid var(--mat-sys-outline-variant);border-bottom:2px solid var(--mat-sys-outline)}.big-picture-container[_ngcontent-%COMP%]   .report-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]   .concept-header[_ngcontent-%COMP%]   .concept-header-content[_ngcontent-%COMP%]{margin-left:12px;display:flex;align-items:center;gap:8px}.big-picture-container[_ngcontent-%COMP%]   .report-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]   .month-header[_ngcontent-%COMP%]{position:sticky;top:0;background-color:var(--mat-sys-surface-container-high);color:var(--mat-sys-on-surface);font-weight:600;text-align:center;min-width:120px;max-width:120px;width:120px;z-index:15;border-bottom:2px solid var(--mat-sys-outline)}.big-picture-container[_ngcontent-%COMP%]   .report-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]   .month-header[_ngcontent-%COMP%]   .month-header-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:2px}.big-picture-container[_ngcontent-%COMP%]   .report-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]   .month-header[_ngcontent-%COMP%]   .month-header-content[_ngcontent-%COMP%]   .month-name[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600;color:var(--mat-sys-on-surface)}.big-picture-container[_ngcontent-%COMP%]   .report-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]   .month-header[_ngcontent-%COMP%]   .month-header-content[_ngcontent-%COMP%]   .month-year[_ngcontent-%COMP%]{font-size:.75rem;color:var(--mat-sys-on-surface-variant)}.big-picture-container[_ngcontent-%COMP%]   .report-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]   .month-header.current-month[_ngcontent-%COMP%]{background-color:var(--mat-sys-primary-container);border-bottom:3px solid var(--mat-sys-primary);box-shadow:0 2px 8px #0000001a}.big-picture-container[_ngcontent-%COMP%]   .report-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]   .month-header.current-month[_ngcontent-%COMP%]   .month-header-content[_ngcontent-%COMP%]   .month-name[_ngcontent-%COMP%]{color:var(--mat-sys-on-primary-container);font-weight:700}.big-picture-container[_ngcontent-%COMP%]   .report-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]   .month-header.current-month[_ngcontent-%COMP%]   .month-header-content[_ngcontent-%COMP%]   .month-year[_ngcontent-%COMP%]{color:var(--mat-sys-on-primary-container);font-weight:600}.big-picture-container[_ngcontent-%COMP%]   .report-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%]{position:sticky;left:0;background-color:var(--mat-sys-surface);color:var(--mat-sys-on-surface);z-index:10;min-width:300px;max-width:300px;width:300px;border-right:1px solid var(--mat-sys-outline-variant);padding:4px 12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.big-picture-container[_ngcontent-%COMP%]   .report-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%]   .concept-content[_ngcontent-%COMP%]{font-size:.9rem;color:var(--mat-sys-on-surface);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.big-picture-container[_ngcontent-%COMP%]   .report-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:not(.separator-row):not(.total-row):not(.balance-row){height:24px;max-height:24px}.big-picture-container[_ngcontent-%COMP%]   .report-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:not(.separator-row):not(.total-row):not(.balance-row)   td[_ngcontent-%COMP%]{height:24px;max-height:24px;padding:2px 12px!important;overflow:hidden;vertical-align:middle;line-height:20px}.big-picture-container[_ngcontent-%COMP%]   .report-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:not(.separator-row):not(.total-row):not(.balance-row)   td.concept-cell[_ngcontent-%COMP%]{white-space:nowrap!important;overflow:hidden!important;text-overflow:ellipsis!important;font-size:.85rem}.big-picture-container[_ngcontent-%COMP%]   .report-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:not(.separator-row):not(.total-row):not(.balance-row)   td[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;line-height:20px;display:block}.big-picture-container[_ngcontent-%COMP%]   .report-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]{text-align:right;min-width:120px;max-width:120px;width:120px;padding:8px 12px;background-color:var(--mat-sys-surface)}.big-picture-container[_ngcontent-%COMP%]   .report-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%]{font-family:Roboto Mono,monospace;font-size:.85rem;font-weight:500;color:var(--mat-sys-on-surface)}.big-picture-container[_ngcontent-%COMP%]   .report-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]   .value-cell.positive-value[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%]{color:var(--mat-sys-success)}.big-picture-container[_ngcontent-%COMP%]   .report-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]   .value-cell.negative-value[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%]{color:var(--mat-sys-error)}.big-picture-container[_ngcontent-%COMP%]   .report-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]   .value-cell.zero-value[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%]{color:var(--mat-sys-on-surface-variant)}.big-picture-container[_ngcontent-%COMP%]   .report-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]   .value-cell.current-month[_ngcontent-%COMP%]{background-color:var(--mat-sys-primary-container);border-left:2px solid var(--mat-sys-primary);border-right:2px solid var(--mat-sys-primary)}.big-picture-container[_ngcontent-%COMP%]   .report-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]   .value-cell.current-month[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%]{font-weight:600}.big-picture-container[_ngcontent-%COMP%]   .report-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]   .value-cell.current-month.positive-value[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%]{color:var(--mat-sys-success);font-weight:700}.big-picture-container[_ngcontent-%COMP%]   .report-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]   .value-cell.current-month.negative-value[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%]{color:var(--mat-sys-error);font-weight:700}.big-picture-container[_ngcontent-%COMP%]   .report-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]   .value-cell.current-month.zero-value[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%]{color:var(--mat-sys-on-primary-container);font-weight:600}.big-picture-container[_ngcontent-%COMP%]   .report-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]   .separator-row[_ngcontent-%COMP%]{background-color:var(--mat-sys-surface-container-low)}.big-picture-container[_ngcontent-%COMP%]   .report-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]   .separator-row[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%]{background-color:var(--mat-sys-surface-container-low);font-weight:600;color:var(--mat-sys-primary);font-size:1rem;padding:12px 16px;z-index:10}.big-picture-container[_ngcontent-%COMP%]   .report-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]   .separator-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]{background-color:var(--mat-sys-surface-container-low)}.big-picture-container[_ngcontent-%COMP%]   .report-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]{background-color:var(--mat-sys-success-container);border-top:2px solid var(--mat-sys-success);border-bottom:2px solid var(--mat-sys-success)}.big-picture-container[_ngcontent-%COMP%]   .report-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%]{background-color:var(--mat-sys-success-container);font-weight:700;color:var(--mat-sys-on-success-container);font-size:1rem;z-index:10}.big-picture-container[_ngcontent-%COMP%]   .report-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]{background-color:var(--mat-sys-success-container);font-weight:700}.big-picture-container[_ngcontent-%COMP%]   .report-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%]{color:var(--mat-sys-on-success-container);font-size:.9rem}.big-picture-container[_ngcontent-%COMP%]   .report-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]   .balance-row[_ngcontent-%COMP%]{background-color:var(--mat-sys-primary-container);border-top:3px solid var(--mat-sys-primary);border-bottom:3px solid var(--mat-sys-primary)}.big-picture-container[_ngcontent-%COMP%]   .report-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]   .balance-row[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%]{background-color:var(--mat-sys-primary-container);font-weight:700;color:var(--mat-sys-on-primary-container);font-size:1.1rem;z-index:10}.big-picture-container[_ngcontent-%COMP%]   .report-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]   .balance-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]{background-color:var(--mat-sys-primary-container);font-weight:700}.big-picture-container[_ngcontent-%COMP%]   .report-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]   .balance-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%]{color:var(--mat-sys-on-primary-container);font-size:1rem}.big-picture-container[_ngcontent-%COMP%]   .report-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:not(.separator-row):not(.total-row):not(.balance-row):hover{background-color:var(--mat-sys-surface-container-low)}.big-picture-container[_ngcontent-%COMP%]   .report-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:not(.separator-row):not(.total-row):not(.balance-row):hover   .concept-cell[_ngcontent-%COMP%]{background-color:var(--mat-sys-surface-container-low);z-index:10}.big-picture-container[_ngcontent-%COMP%]   .report-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:not(.separator-row):not(.total-row):not(.balance-row):hover   .value-cell[_ngcontent-%COMP%]{background-color:var(--mat-sys-surface-container-low)}.big-picture-container[_ngcontent-%COMP%]   .prestamo-stats[_ngcontent-%COMP%]{padding:16px;background-color:var(--mat-sys-surface-container-low);border-radius:8px;border:1px solid var(--mat-sys-outline-variant);margin-bottom:24px;animation:_ngcontent-%COMP%_slideInUp .6s ease-out .15s both}.big-picture-container[_ngcontent-%COMP%]   .stats-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}.big-picture-container[_ngcontent-%COMP%]   .stats-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;display:flex;align-items:center;gap:8px;color:var(--mat-sys-primary);font-weight:500;font-size:18px}.big-picture-container[_ngcontent-%COMP%]   .stats-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px}.big-picture-container[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:16px}.big-picture-container[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{background:var(--mat-sys-surface-container-low);border-radius:12px;padding:20px;box-shadow:var(--mat-sys-elevation-level2);border:1px solid var(--mat-sys-outline-variant);transition:all .3s ease;position:relative;overflow:hidden;display:flex;align-items:flex-start;gap:16px}.big-picture-container[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:var(--mat-sys-elevation-level3)}.big-picture-container[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:var(--mat-sys-outline-variant)}.big-picture-container[_ngcontent-%COMP%]   .stat-card.primary[_ngcontent-%COMP%]:before{background:var(--mat-sys-primary)}.big-picture-container[_ngcontent-%COMP%]   .stat-card.secondary[_ngcontent-%COMP%]:before{background:var(--mat-sys-secondary)}.big-picture-container[_ngcontent-%COMP%]   .stat-card.info[_ngcontent-%COMP%]:before{background:var(--mat-sys-info)}.big-picture-container[_ngcontent-%COMP%]   .stat-card.success[_ngcontent-%COMP%]:before{background:var(--mat-sys-success)}.big-picture-container[_ngcontent-%COMP%]   .stat-card.warning[_ngcontent-%COMP%]:before{background:var(--mat-sys-warning)}.big-picture-container[_ngcontent-%COMP%]   .stat-card.danger[_ngcontent-%COMP%]:before{background:var(--mat-sys-error)}.big-picture-container[_ngcontent-%COMP%]   .stat-card.pending[_ngcontent-%COMP%]:before{background:var(--mat-sys-tertiary)}.big-picture-container[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{flex-shrink:0;width:48px;height:48px;border-radius:12px;display:flex;align-items:center;justify-content:center;background-color:var(--mat-sys-surface-variant)}.big-picture-container[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px;color:var(--mat-sys-on-surface-variant)}.primary[_ngcontent-%COMP%]   .big-picture-container[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background-color:var(--mat-sys-primary-container)}.primary[_ngcontent-%COMP%]   .big-picture-container[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:var(--mat-sys-on-primary-container)}.secondary[_ngcontent-%COMP%]   .big-picture-container[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background-color:var(--mat-sys-secondary-container)}.secondary[_ngcontent-%COMP%]   .big-picture-container[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:var(--mat-sys-on-secondary-container)}.info[_ngcontent-%COMP%]   .big-picture-container[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background-color:var(--mat-sys-info-container)}.info[_ngcontent-%COMP%]   .big-picture-container[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:var(--mat-sys-on-info-container)}.success[_ngcontent-%COMP%]   .big-picture-container[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background-color:var(--mat-sys-success-container)}.success[_ngcontent-%COMP%]   .big-picture-container[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:var(--mat-sys-on-success-container)}.warning[_ngcontent-%COMP%]   .big-picture-container[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background-color:var(--mat-sys-warning-container)}.warning[_ngcontent-%COMP%]   .big-picture-container[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:var(--mat-sys-on-warning-container)}.danger[_ngcontent-%COMP%]   .big-picture-container[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background-color:var(--mat-sys-error-container)}.danger[_ngcontent-%COMP%]   .big-picture-container[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:var(--mat-sys-on-error-container)}.pending[_ngcontent-%COMP%]   .big-picture-container[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background-color:var(--mat-sys-tertiary-container)}.pending[_ngcontent-%COMP%]   .big-picture-container[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:var(--mat-sys-on-tertiary-container)}.big-picture-container[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]{flex:1;min-width:0}.big-picture-container[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:var(--mat-sys-on-surface);margin-bottom:4px;line-height:1.2}.big-picture-container[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:14px;color:var(--mat-sys-on-surface-variant);font-weight:500;margin-bottom:4px;text-transform:uppercase;letter-spacing:.5px}.big-picture-container[_ngcontent-%COMP%]   .stat-description[_ngcontent-%COMP%]{font-size:12px;color:var(--mat-sys-outline);margin-bottom:8px;font-style:italic;line-height:1.3}.big-picture-container[_ngcontent-%COMP%]   .stat-trend[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;font-size:12px;color:var(--mat-sys-outline)}.big-picture-container[_ngcontent-%COMP%]   .stat-trend[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.big-picture-container[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%], .big-picture-container[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .6s ease-out .3s both;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:64px 24px;text-align:center}.big-picture-container[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .big-picture-container[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:4rem;width:4rem;height:4rem;color:#ccc;margin-bottom:16px}.big-picture-container[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .big-picture-container[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:16px 0 8px;color:#666}.big-picture-container[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .big-picture-container[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 24px;color:#999}.big-picture-container[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%], .big-picture-container[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{margin-bottom:16px}@media (max-width: 768px){.big-picture-container[_ngcontent-%COMP%]{padding:16px}.big-picture-container[_ngcontent-%COMP%]   .prestamos-header[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.big-picture-container[_ngcontent-%COMP%]   .prestamos-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{justify-content:flex-end}.big-picture-container[_ngcontent-%COMP%]   .report-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]   .concept-header[_ngcontent-%COMP%], .big-picture-container[_ngcontent-%COMP%]   .report-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%]{min-width:250px;max-width:250px;width:250px}.big-picture-container[_ngcontent-%COMP%]   .report-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]   .month-header[_ngcontent-%COMP%], .big-picture-container[_ngcontent-%COMP%]   .report-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]{min-width:100px;max-width:100px;width:100px}.big-picture-container[_ngcontent-%COMP%]   .prestamo-stats[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.export-button[_ngcontent-%COMP%]{position:fixed;top:20px;right:20px;z-index:1000;background-color:var(--mat-sys-primary);color:var(--mat-sys-on-primary);border:none;border-radius:8px;padding:12px 20px;font-size:.9rem;font-weight:500;cursor:pointer;display:flex;align-items:center;gap:8px;box-shadow:0 2px 8px #00000026;transition:all .2s ease}.export-button[_ngcontent-%COMP%]:hover{background-color:var(--mat-sys-primary-container);color:var(--mat-sys-on-primary-container);transform:translateY(-1px);box-shadow:0 4px 12px #0003}.export-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.settings-button[_ngcontent-%COMP%]{position:fixed;top:20px;right:160px;z-index:1000;background-color:var(--mat-sys-surface-container-high);color:var(--mat-sys-on-surface);border:1px solid var(--mat-sys-outline-variant);border-radius:50%;width:48px;height:48px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.settings-button[_ngcontent-%COMP%]:hover{background-color:var(--mat-sys-surface-container-highest);border-color:var(--mat-sys-outline);transform:translateY(-1px)}.settings-button.active[_ngcontent-%COMP%]{background-color:var(--mat-sys-primary);color:var(--mat-sys-on-primary);border-color:var(--mat-sys-primary)}.settings-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}}@media print{.big-picture-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%], .big-picture-container[_ngcontent-%COMP%]   .settings-panel[_ngcontent-%COMP%]{display:none}.big-picture-container[_ngcontent-%COMP%]   .report-container[_ngcontent-%COMP%]{box-shadow:none;border:1px solid #ddd}.big-picture-container[_ngcontent-%COMP%]   .prestamo-stats[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.fullscreen-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#000c;z-index:20000;display:flex;align-items:center;justify-content:center;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.fullscreen-modal[_ngcontent-%COMP%]   .fullscreen-content[_ngcontent-%COMP%]{z-index:20001;width:100vw;height:100vh;background-color:var(--mat-sys-surface);border-radius:0;box-shadow:0 24px 38px 3px #00000024,0 9px 46px 8px #0000001f,0 11px 15px -7px #0003;display:flex;flex-direction:column;overflow:hidden;animation:_ngcontent-%COMP%_modalFadeIn .3s ease-out}.fullscreen-modal[_ngcontent-%COMP%]   .fullscreen-content[_ngcontent-%COMP%]   .fullscreen-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px 24px;background-color:var(--mat-sys-surface-container-high);border-bottom:1px solid var(--mat-sys-outline-variant)}.fullscreen-modal[_ngcontent-%COMP%]   .fullscreen-content[_ngcontent-%COMP%]   .fullscreen-header[_ngcontent-%COMP%]   .fullscreen-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.fullscreen-modal[_ngcontent-%COMP%]   .fullscreen-content[_ngcontent-%COMP%]   .fullscreen-header[_ngcontent-%COMP%]   .fullscreen-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--mat-sys-primary);font-size:28px;width:28px;height:28px}.fullscreen-modal[_ngcontent-%COMP%]   .fullscreen-content[_ngcontent-%COMP%]   .fullscreen-header[_ngcontent-%COMP%]   .fullscreen-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:var(--mat-sys-on-surface);font-size:24px;font-weight:500}.fullscreen-modal[_ngcontent-%COMP%]   .fullscreen-content[_ngcontent-%COMP%]   .fullscreen-header[_ngcontent-%COMP%]   .fullscreen-actions[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.fullscreen-modal[_ngcontent-%COMP%]   .fullscreen-content[_ngcontent-%COMP%]   .fullscreen-header[_ngcontent-%COMP%]   .fullscreen-actions[_ngcontent-%COMP%]   button[mat-raised-button][_ngcontent-%COMP%]{background-color:var(--mat-sys-primary);color:var(--mat-sys-on-primary)}.fullscreen-modal[_ngcontent-%COMP%]   .fullscreen-content[_ngcontent-%COMP%]   .fullscreen-header[_ngcontent-%COMP%]   .fullscreen-actions[_ngcontent-%COMP%]   button[mat-icon-button][_ngcontent-%COMP%]{color:var(--mat-sys-on-surface)}.fullscreen-modal[_ngcontent-%COMP%]   .fullscreen-content[_ngcontent-%COMP%]   .fullscreen-table-container[_ngcontent-%COMP%]{flex:1;overflow:auto;cursor:grab!important;touch-action:none;overscroll-behavior:contain;will-change:scroll-position;transform:translateZ(0);-webkit-overflow-scrolling:touch;contain:layout style paint}.fullscreen-modal[_ngcontent-%COMP%]   .fullscreen-content[_ngcontent-%COMP%]   .fullscreen-table-container.dragging[_ngcontent-%COMP%]{cursor:grabbing!important;-webkit-user-select:none;user-select:none;pointer-events:auto}.fullscreen-modal[_ngcontent-%COMP%]   .fullscreen-content[_ngcontent-%COMP%]   .fullscreen-table-container[_ngcontent-%COMP%]   .fullscreen-table[_ngcontent-%COMP%]{width:100%;background-color:var(--mat-sys-surface);transform:translateZ(0);backface-visibility:hidden}.fullscreen-modal[_ngcontent-%COMP%]   .fullscreen-content[_ngcontent-%COMP%]   .fullscreen-table-container[_ngcontent-%COMP%]   .fullscreen-table[_ngcontent-%COMP%]   .concept-header[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .fullscreen-content[_ngcontent-%COMP%]   .fullscreen-table-container[_ngcontent-%COMP%]   .fullscreen-table[_ngcontent-%COMP%]   .month-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:20;background-color:var(--mat-sys-surface-container-high);color:var(--mat-sys-on-surface);font-weight:600;border-bottom:2px solid var(--mat-sys-outline-variant)}.fullscreen-modal[_ngcontent-%COMP%]   .fullscreen-content[_ngcontent-%COMP%]   .fullscreen-table-container[_ngcontent-%COMP%]   .fullscreen-table[_ngcontent-%COMP%]   .concept-header[_ngcontent-%COMP%]{left:0;z-index:25;min-width:200px;max-width:250px;border-right:1px solid var(--mat-sys-outline-variant)}.fullscreen-modal[_ngcontent-%COMP%]   .fullscreen-content[_ngcontent-%COMP%]   .fullscreen-table-container[_ngcontent-%COMP%]   .fullscreen-table[_ngcontent-%COMP%]   .concept-header[_ngcontent-%COMP%]   .concept-header-content[_ngcontent-%COMP%]{margin-left:12px;display:flex;align-items:center;gap:8px;padding:12px 16px}.fullscreen-modal[_ngcontent-%COMP%]   .fullscreen-content[_ngcontent-%COMP%]   .fullscreen-table-container[_ngcontent-%COMP%]   .fullscreen-table[_ngcontent-%COMP%]   .concept-header[_ngcontent-%COMP%]   .concept-header-content[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--mat-sys-primary);font-size:20px;width:20px;height:20px}.fullscreen-modal[_ngcontent-%COMP%]   .fullscreen-content[_ngcontent-%COMP%]   .fullscreen-table-container[_ngcontent-%COMP%]   .fullscreen-table[_ngcontent-%COMP%]   .month-header[_ngcontent-%COMP%]{min-width:120px;text-align:center}.fullscreen-modal[_ngcontent-%COMP%]   .fullscreen-content[_ngcontent-%COMP%]   .fullscreen-table-container[_ngcontent-%COMP%]   .fullscreen-table[_ngcontent-%COMP%]   .month-header[_ngcontent-%COMP%]   .month-header-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:8px 12px}.fullscreen-modal[_ngcontent-%COMP%]   .fullscreen-content[_ngcontent-%COMP%]   .fullscreen-table-container[_ngcontent-%COMP%]   .fullscreen-table[_ngcontent-%COMP%]   .month-header[_ngcontent-%COMP%]   .month-header-content[_ngcontent-%COMP%]   .month-name[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:var(--mat-sys-on-surface)}.fullscreen-modal[_ngcontent-%COMP%]   .fullscreen-content[_ngcontent-%COMP%]   .fullscreen-table-container[_ngcontent-%COMP%]   .fullscreen-table[_ngcontent-%COMP%]   .month-header[_ngcontent-%COMP%]   .month-header-content[_ngcontent-%COMP%]   .month-year[_ngcontent-%COMP%]{font-size:12px;color:var(--mat-sys-on-surface-variant)}.fullscreen-modal[_ngcontent-%COMP%]   .fullscreen-content[_ngcontent-%COMP%]   .fullscreen-table-container[_ngcontent-%COMP%]   .fullscreen-table[_ngcontent-%COMP%]   .month-header.current-month[_ngcontent-%COMP%]{background-color:var(--mat-sys-primary-container);border-bottom:3px solid var(--mat-sys-primary);box-shadow:0 2px 8px #0000001a}.fullscreen-modal[_ngcontent-%COMP%]   .fullscreen-content[_ngcontent-%COMP%]   .fullscreen-table-container[_ngcontent-%COMP%]   .fullscreen-table[_ngcontent-%COMP%]   .month-header.current-month[_ngcontent-%COMP%]   .month-header-content[_ngcontent-%COMP%]   .month-name[_ngcontent-%COMP%]{color:var(--mat-sys-on-primary-container);font-weight:700}.fullscreen-modal[_ngcontent-%COMP%]   .fullscreen-content[_ngcontent-%COMP%]   .fullscreen-table-container[_ngcontent-%COMP%]   .fullscreen-table[_ngcontent-%COMP%]   .month-header.current-month[_ngcontent-%COMP%]   .month-header-content[_ngcontent-%COMP%]   .month-year[_ngcontent-%COMP%]{color:var(--mat-sys-on-primary-container);font-weight:600}.fullscreen-modal[_ngcontent-%COMP%]   .fullscreen-content[_ngcontent-%COMP%]   .fullscreen-table-container[_ngcontent-%COMP%]   .fullscreen-table[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%]{position:sticky;left:0;z-index:15;background-color:var(--mat-sys-surface);border-right:1px solid var(--mat-sys-outline-variant);min-width:200px;max-width:250px;padding:12px 16px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.fullscreen-modal[_ngcontent-%COMP%]   .fullscreen-content[_ngcontent-%COMP%]   .fullscreen-table-container[_ngcontent-%COMP%]   .fullscreen-table[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%]   .concept-content[_ngcontent-%COMP%]{font-weight:500;color:var(--mat-sys-on-surface);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.fullscreen-modal[_ngcontent-%COMP%]   .fullscreen-content[_ngcontent-%COMP%]   .fullscreen-table-container[_ngcontent-%COMP%]   .fullscreen-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:not(.separator-row):not(.total-row):not(.balance-row){height:24px;max-height:24px}.fullscreen-modal[_ngcontent-%COMP%]   .fullscreen-content[_ngcontent-%COMP%]   .fullscreen-table-container[_ngcontent-%COMP%]   .fullscreen-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:not(.separator-row):not(.total-row):not(.balance-row)   td[_ngcontent-%COMP%]{height:24px;max-height:24px;padding:2px 16px!important;overflow:hidden;vertical-align:middle;line-height:20px}.fullscreen-modal[_ngcontent-%COMP%]   .fullscreen-content[_ngcontent-%COMP%]   .fullscreen-table-container[_ngcontent-%COMP%]   .fullscreen-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:not(.separator-row):not(.total-row):not(.balance-row)   td.concept-cell[_ngcontent-%COMP%]{white-space:nowrap!important;overflow:hidden!important;text-overflow:ellipsis!important;font-size:.85rem}.fullscreen-modal[_ngcontent-%COMP%]   .fullscreen-content[_ngcontent-%COMP%]   .fullscreen-table-container[_ngcontent-%COMP%]   .fullscreen-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:not(.separator-row):not(.total-row):not(.balance-row)   td[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;line-height:20px;display:block}.fullscreen-modal[_ngcontent-%COMP%]   .fullscreen-content[_ngcontent-%COMP%]   .fullscreen-table-container[_ngcontent-%COMP%]   .fullscreen-table[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]{text-align:right;padding:12px 16px;min-width:120px;border-right:1px solid var(--mat-sys-outline-variant)}.fullscreen-modal[_ngcontent-%COMP%]   .fullscreen-content[_ngcontent-%COMP%]   .fullscreen-table-container[_ngcontent-%COMP%]   .fullscreen-table[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%]{font-weight:500;font-family:Roboto Mono,monospace}.fullscreen-modal[_ngcontent-%COMP%]   .fullscreen-content[_ngcontent-%COMP%]   .fullscreen-table-container[_ngcontent-%COMP%]   .fullscreen-table[_ngcontent-%COMP%]   .value-cell.positive-value[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%]{color:var(--mat-sys-success)}.fullscreen-modal[_ngcontent-%COMP%]   .fullscreen-content[_ngcontent-%COMP%]   .fullscreen-table-container[_ngcontent-%COMP%]   .fullscreen-table[_ngcontent-%COMP%]   .value-cell.negative-value[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%]{color:var(--mat-sys-error)}.fullscreen-modal[_ngcontent-%COMP%]   .fullscreen-content[_ngcontent-%COMP%]   .fullscreen-table-container[_ngcontent-%COMP%]   .fullscreen-table[_ngcontent-%COMP%]   .value-cell.zero-value[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%]{color:var(--mat-sys-on-surface-variant)}.fullscreen-modal[_ngcontent-%COMP%]   .fullscreen-content[_ngcontent-%COMP%]   .fullscreen-table-container[_ngcontent-%COMP%]   .fullscreen-table[_ngcontent-%COMP%]   .value-cell.current-month[_ngcontent-%COMP%]{background-color:var(--mat-sys-primary-container);border-left:2px solid var(--mat-sys-primary);border-right:2px solid var(--mat-sys-primary)}.fullscreen-modal[_ngcontent-%COMP%]   .fullscreen-content[_ngcontent-%COMP%]   .fullscreen-table-container[_ngcontent-%COMP%]   .fullscreen-table[_ngcontent-%COMP%]   .value-cell.current-month[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%]{font-weight:600}.fullscreen-modal[_ngcontent-%COMP%]   .fullscreen-content[_ngcontent-%COMP%]   .fullscreen-table-container[_ngcontent-%COMP%]   .fullscreen-table[_ngcontent-%COMP%]   .value-cell.current-month.positive-value[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%]{color:var(--mat-sys-success);font-weight:700}.fullscreen-modal[_ngcontent-%COMP%]   .fullscreen-content[_ngcontent-%COMP%]   .fullscreen-table-container[_ngcontent-%COMP%]   .fullscreen-table[_ngcontent-%COMP%]   .value-cell.current-month.negative-value[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%]{color:var(--mat-sys-error);font-weight:700}.fullscreen-modal[_ngcontent-%COMP%]   .fullscreen-content[_ngcontent-%COMP%]   .fullscreen-table-container[_ngcontent-%COMP%]   .fullscreen-table[_ngcontent-%COMP%]   .value-cell.current-month.zero-value[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%]{color:var(--mat-sys-on-primary-container);font-weight:600}.fullscreen-modal[_ngcontent-%COMP%]   .fullscreen-content[_ngcontent-%COMP%]   .fullscreen-table-container[_ngcontent-%COMP%]   .fullscreen-table[_ngcontent-%COMP%]   .separator-row[_ngcontent-%COMP%]{background-color:var(--mat-sys-surface-container-low)}.fullscreen-modal[_ngcontent-%COMP%]   .fullscreen-content[_ngcontent-%COMP%]   .fullscreen-table-container[_ngcontent-%COMP%]   .fullscreen-table[_ngcontent-%COMP%]   .separator-row[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%]{background-color:var(--mat-sys-surface-container-low);z-index:15}.fullscreen-modal[_ngcontent-%COMP%]   .fullscreen-content[_ngcontent-%COMP%]   .fullscreen-table-container[_ngcontent-%COMP%]   .fullscreen-table[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]{background-color:var(--mat-sys-primary-container);font-weight:600}.fullscreen-modal[_ngcontent-%COMP%]   .fullscreen-content[_ngcontent-%COMP%]   .fullscreen-table-container[_ngcontent-%COMP%]   .fullscreen-table[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%]{background-color:var(--mat-sys-primary-container);color:var(--mat-sys-on-primary-container);z-index:15}.fullscreen-modal[_ngcontent-%COMP%]   .fullscreen-content[_ngcontent-%COMP%]   .fullscreen-table-container[_ngcontent-%COMP%]   .fullscreen-table[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]{color:var(--mat-sys-on-primary-container)}.fullscreen-modal[_ngcontent-%COMP%]   .fullscreen-content[_ngcontent-%COMP%]   .fullscreen-table-container[_ngcontent-%COMP%]   .fullscreen-table[_ngcontent-%COMP%]   .balance-row[_ngcontent-%COMP%]{background-color:var(--mat-sys-success-container);font-weight:700}.fullscreen-modal[_ngcontent-%COMP%]   .fullscreen-content[_ngcontent-%COMP%]   .fullscreen-table-container[_ngcontent-%COMP%]   .fullscreen-table[_ngcontent-%COMP%]   .balance-row[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%]{background-color:var(--mat-sys-success-container);color:var(--mat-sys-on-success-container);z-index:15}.fullscreen-modal[_ngcontent-%COMP%]   .fullscreen-content[_ngcontent-%COMP%]   .fullscreen-table-container[_ngcontent-%COMP%]   .fullscreen-table[_ngcontent-%COMP%]   .balance-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]{color:var(--mat-sys-success);font-size:16px}.fullscreen-modal[_ngcontent-%COMP%]   .fullscreen-content[_ngcontent-%COMP%]   .fullscreen-table-container[_ngcontent-%COMP%]   .fullscreen-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:not(.separator-row):not(.total-row):not(.balance-row):hover{background-color:var(--mat-sys-surface-container-low)}.fullscreen-modal[_ngcontent-%COMP%]   .fullscreen-content[_ngcontent-%COMP%]   .fullscreen-table-container[_ngcontent-%COMP%]   .fullscreen-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:not(.separator-row):not(.total-row):not(.balance-row):hover   .concept-cell[_ngcontent-%COMP%]{background-color:var(--mat-sys-surface-container-low);z-index:15}@keyframes _ngcontent-%COMP%_modalFadeIn{0%{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_slideInDown{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.section-ingresos[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%]{background-color:var(--mat-sys-success-container)!important;color:var(--mat-sys-success)!important}.section-ingresos[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]{background-color:color-mix(in oklab,var(--mat-sys-success-container),transparent 85%)!important}.section-ingresos[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%], .section-ingresos[_ngcontent-%COMP%]   .value-cell.positive-value[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%], .section-ingresos[_ngcontent-%COMP%]   .value-cell.negative-value[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%]{color:var(--mat-sys-success)!important}.section-ingresos[_ngcontent-%COMP%]   .value-cell.zero-value[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%]{color:var(--mat-sys-success)!important;opacity:.6}.section-gastos-tarjetas[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%]{background-color:var(--mat-sys-warning-container)!important;color:var(--mat-sys-warning)!important}.section-gastos-tarjetas[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]{background-color:color-mix(in oklab,var(--mat-sys-warning-container),transparent 85%)!important}.section-gastos-tarjetas[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%], .section-gastos-tarjetas[_ngcontent-%COMP%]   .value-cell.positive-value[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%], .section-gastos-tarjetas[_ngcontent-%COMP%]   .value-cell.negative-value[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%]{color:var(--mat-sys-warning)!important}.section-gastos-tarjetas[_ngcontent-%COMP%]   .value-cell.zero-value[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%]{color:var(--mat-sys-warning)!important;opacity:.6}.section-prestamos[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%]{background-color:var(--mat-sys-info-container)!important;color:var(--mat-sys-info)!important}.section-prestamos[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]{background-color:color-mix(in oklab,var(--mat-sys-info-container),transparent 85%)!important}.section-prestamos[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%], .section-prestamos[_ngcontent-%COMP%]   .value-cell.positive-value[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%], .section-prestamos[_ngcontent-%COMP%]   .value-cell.negative-value[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%]{color:var(--mat-sys-info)!important}.section-prestamos[_ngcontent-%COMP%]   .value-cell.zero-value[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%]{color:var(--mat-sys-info)!important;opacity:.6}.section-otros-gastos[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%]{background-color:var(--mat-sys-tertiary-container)!important;color:var(--mat-sys-tertiary)!important}.section-otros-gastos[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]{background-color:color-mix(in oklab,var(--mat-sys-tertiary-container),transparent 85%)!important}.section-otros-gastos[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%], .section-otros-gastos[_ngcontent-%COMP%]   .value-cell.positive-value[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%], .section-otros-gastos[_ngcontent-%COMP%]   .value-cell.negative-value[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%]{color:var(--mat-sys-tertiary)!important}.section-otros-gastos[_ngcontent-%COMP%]   .value-cell.zero-value[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%]{color:var(--mat-sys-tertiary)!important;opacity:.6}.section-balance[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%]{background-color:var(--mat-sys-primary-container)!important;color:var(--mat-sys-primary)!important}.section-balance[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]{background-color:color-mix(in oklab,var(--mat-sys-primary-container),transparent 85%)!important}.section-balance[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%], .section-balance[_ngcontent-%COMP%]   .value-cell.positive-value[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%], .section-balance[_ngcontent-%COMP%]   .value-cell.negative-value[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%]{color:var(--mat-sys-primary)!important}.section-balance[_ngcontent-%COMP%]   .value-cell.zero-value[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%]{color:var(--mat-sys-primary)!important;opacity:.6}.separator-row[_ngcontent-%COMP%]{background-color:var(--mat-sys-surface-container-low)!important}.separator-row[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%], .separator-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]{background-color:var(--mat-sys-surface-container-low)!important;color:var(--mat-sys-on-surface)!important}.total-row[_ngcontent-%COMP%]{background-color:var(--mat-sys-primary-container)!important}.total-row[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%], .total-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]{background-color:var(--mat-sys-primary-container)!important;color:var(--mat-sys-on-primary-container)!important}.section-ingresos.total-row[_ngcontent-%COMP%], .section-ingresos[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]{background-color:var(--mat-sys-success-container)!important;border-top:2px solid var(--mat-sys-success)!important;border-bottom:2px solid var(--mat-sys-success)!important}.section-ingresos.total-row[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%], .section-ingresos[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%], .section-ingresos.total-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%], .section-ingresos[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]{background-color:var(--mat-sys-success-container)!important;color:#fff!important;font-weight:700}.section-ingresos.total-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%], .section-ingresos[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%]{color:#fff!important}.section-ingresos.separator-row[_ngcontent-%COMP%], .section-ingresos[_ngcontent-%COMP%]   .separator-row[_ngcontent-%COMP%]{background-color:var(--mat-sys-success-container)!important;border-top:2px solid var(--mat-sys-success)!important;border-bottom:2px solid var(--mat-sys-success)!important}.section-ingresos.separator-row[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%], .section-ingresos.separator-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%], .section-ingresos[_ngcontent-%COMP%]   .separator-row[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%], .section-ingresos[_ngcontent-%COMP%]   .separator-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]{background-color:var(--mat-sys-success-container)!important;color:#fff!important;font-weight:700}.section-ingresos[_ngcontent-%COMP%]:not(.separator-row):not(.total-row):not(.balance-row), .section-gastos-tarjetas[_ngcontent-%COMP%]:not(.separator-row):not(.total-row):not(.balance-row), .section-prestamos[_ngcontent-%COMP%]:not(.separator-row):not(.total-row):not(.balance-row), .section-otros-gastos[_ngcontent-%COMP%]:not(.separator-row):not(.total-row):not(.balance-row), .section-balance[_ngcontent-%COMP%]:not(.separator-row):not(.total-row):not(.balance-row){height:24px!important;transition:height 1s ease}.section-ingresos[_ngcontent-%COMP%]:not(.separator-row):not(.total-row):not(.balance-row)   .concept-cell[_ngcontent-%COMP%], .section-ingresos[_ngcontent-%COMP%]:not(.separator-row):not(.total-row):not(.balance-row)   .value-cell[_ngcontent-%COMP%], .section-gastos-tarjetas[_ngcontent-%COMP%]:not(.separator-row):not(.total-row):not(.balance-row)   .concept-cell[_ngcontent-%COMP%], .section-gastos-tarjetas[_ngcontent-%COMP%]:not(.separator-row):not(.total-row):not(.balance-row)   .value-cell[_ngcontent-%COMP%], .section-prestamos[_ngcontent-%COMP%]:not(.separator-row):not(.total-row):not(.balance-row)   .concept-cell[_ngcontent-%COMP%], .section-prestamos[_ngcontent-%COMP%]:not(.separator-row):not(.total-row):not(.balance-row)   .value-cell[_ngcontent-%COMP%], .section-otros-gastos[_ngcontent-%COMP%]:not(.separator-row):not(.total-row):not(.balance-row)   .concept-cell[_ngcontent-%COMP%], .section-otros-gastos[_ngcontent-%COMP%]:not(.separator-row):not(.total-row):not(.balance-row)   .value-cell[_ngcontent-%COMP%], .section-balance[_ngcontent-%COMP%]:not(.separator-row):not(.total-row):not(.balance-row)   .concept-cell[_ngcontent-%COMP%], .section-balance[_ngcontent-%COMP%]:not(.separator-row):not(.total-row):not(.balance-row)   .value-cell[_ngcontent-%COMP%]{height:24px!important;padding-top:0!important;padding-bottom:0!important;line-height:24px!important;transition:height 1s ease,line-height 1s ease}.section-ingresos[_ngcontent-%COMP%]:not(.separator-row):not(.total-row):not(.balance-row)   .concept-cell[_ngcontent-%COMP%]   .concept-content[_ngcontent-%COMP%], .section-gastos-tarjetas[_ngcontent-%COMP%]:not(.separator-row):not(.total-row):not(.balance-row)   .concept-cell[_ngcontent-%COMP%]   .concept-content[_ngcontent-%COMP%], .section-prestamos[_ngcontent-%COMP%]:not(.separator-row):not(.total-row):not(.balance-row)   .concept-cell[_ngcontent-%COMP%]   .concept-content[_ngcontent-%COMP%], .section-otros-gastos[_ngcontent-%COMP%]:not(.separator-row):not(.total-row):not(.balance-row)   .concept-cell[_ngcontent-%COMP%]   .concept-content[_ngcontent-%COMP%], .section-balance[_ngcontent-%COMP%]:not(.separator-row):not(.total-row):not(.balance-row)   .concept-cell[_ngcontent-%COMP%]   .concept-content[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;max-height:24px}.section-gastos-tarjetas.separator-row[_ngcontent-%COMP%], .section-gastos-tarjetas[_ngcontent-%COMP%]   .separator-row[_ngcontent-%COMP%]{background-color:var(--mat-sys-warning-container)!important;border-top:2px solid var(--mat-sys-warning)!important;border-bottom:2px solid var(--mat-sys-warning)!important}.section-gastos-tarjetas.separator-row[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%], .section-gastos-tarjetas.separator-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%], .section-gastos-tarjetas[_ngcontent-%COMP%]   .separator-row[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%], .section-gastos-tarjetas[_ngcontent-%COMP%]   .separator-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]{background-color:var(--mat-sys-warning-container)!important;color:#fff!important;font-weight:700}.section-prestamos.separator-row[_ngcontent-%COMP%], .section-prestamos[_ngcontent-%COMP%]   .separator-row[_ngcontent-%COMP%]{background-color:var(--mat-sys-info-container)!important;border-top:2px solid var(--mat-sys-info)!important;border-bottom:2px solid var(--mat-sys-info)!important}.section-prestamos.separator-row[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%], .section-prestamos.separator-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%], .section-prestamos[_ngcontent-%COMP%]   .separator-row[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%], .section-prestamos[_ngcontent-%COMP%]   .separator-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]{background-color:var(--mat-sys-info-container)!important;color:#fff!important;font-weight:700}.section-otros-gastos.separator-row[_ngcontent-%COMP%], .section-otros-gastos[_ngcontent-%COMP%]   .separator-row[_ngcontent-%COMP%]{background-color:var(--mat-sys-tertiary-container)!important;border-top:2px solid var(--mat-sys-tertiary)!important;border-bottom:2px solid var(--mat-sys-tertiary)!important}.section-otros-gastos.separator-row[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%], .section-otros-gastos.separator-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%], .section-otros-gastos[_ngcontent-%COMP%]   .separator-row[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%], .section-otros-gastos[_ngcontent-%COMP%]   .separator-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]{background-color:var(--mat-sys-tertiary-container)!important;color:#fff!important;font-weight:700}.section-balance.separator-row[_ngcontent-%COMP%], .section-balance[_ngcontent-%COMP%]   .separator-row[_ngcontent-%COMP%]{background-color:var(--mat-sys-primary-container)!important;border-top:2px solid var(--mat-sys-primary)!important;border-bottom:2px solid var(--mat-sys-primary)!important}.section-balance.separator-row[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%], .section-balance.separator-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%], .section-balance[_ngcontent-%COMP%]   .separator-row[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%], .section-balance[_ngcontent-%COMP%]   .separator-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]{background-color:var(--mat-sys-primary-container)!important;color:#fff!important;font-weight:700}.section-gastos-tarjetas.total-row[_ngcontent-%COMP%], .section-gastos-tarjetas[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]{background-color:var(--mat-sys-warning-container)!important;border-top:2px solid var(--mat-sys-warning)!important;border-bottom:2px solid var(--mat-sys-warning)!important}.section-gastos-tarjetas.total-row[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%], .section-gastos-tarjetas[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%], .section-gastos-tarjetas.total-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%], .section-gastos-tarjetas[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]{background-color:var(--mat-sys-warning-container)!important;color:#fff!important;font-weight:700}.section-gastos-tarjetas.total-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%], .section-gastos-tarjetas[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%]{color:#fff!important}.section-prestamos.total-row[_ngcontent-%COMP%], .section-prestamos[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]{background-color:var(--mat-sys-info-container)!important;border-top:2px solid var(--mat-sys-info)!important;border-bottom:2px solid var(--mat-sys-info)!important}.section-prestamos.total-row[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%], .section-prestamos[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%], .section-prestamos.total-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%], .section-prestamos[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]{background-color:var(--mat-sys-info-container)!important;color:#fff!important;font-weight:700}.section-prestamos.total-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%], .section-prestamos[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%]{color:#fff!important}.section-otros-gastos.total-row[_ngcontent-%COMP%], .section-otros-gastos[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]{background-color:var(--mat-sys-tertiary-container)!important;border-top:2px solid var(--mat-sys-tertiary)!important;border-bottom:2px solid var(--mat-sys-tertiary)!important}.section-otros-gastos.total-row[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%], .section-otros-gastos[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%], .section-otros-gastos.total-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%], .section-otros-gastos[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]{background-color:var(--mat-sys-tertiary-container)!important;color:#fff!important;font-weight:700}.section-otros-gastos.total-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%], .section-otros-gastos[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%]{color:#fff!important}.section-balance.total-row[_ngcontent-%COMP%], .section-balance[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]{background-color:var(--mat-sys-primary-container)!important;border-top:2px solid var(--mat-sys-primary)!important;border-bottom:2px solid var(--mat-sys-primary)!important}.section-balance.total-row[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%], .section-balance[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%], .section-balance.total-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%], .section-balance[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]{background-color:var(--mat-sys-primary-container)!important;color:#fff!important;font-weight:700}.section-balance.total-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%], .section-balance[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%]{color:#fff!important}.balance-row[_ngcontent-%COMP%]{background-color:var(--mat-sys-success-container)!important}.balance-row[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%]{background-color:var(--mat-sys-success-container)!important;color:#fff!important}.balance-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]{background-color:var(--mat-sys-success-container)!important;color:var(--mat-sys-success)!important;font-weight:700}.section-ingresos[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%], .section-gastos-tarjetas[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%], .section-prestamos[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%], .section-otros-gastos[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%], .section-balance[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%]{color:#fff!important}.fullscreen-modal[_ngcontent-%COMP%]   .section-ingresos[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%]{background-color:var(--mat-sys-success-container)!important;color:#fff!important}.fullscreen-modal[_ngcontent-%COMP%]   .section-ingresos.separator-row[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-ingresos[_ngcontent-%COMP%]   .separator-row[_ngcontent-%COMP%]{background-color:var(--mat-sys-success-container)!important;border-top:2px solid var(--mat-sys-success)!important;border-bottom:2px solid var(--mat-sys-success)!important}.fullscreen-modal[_ngcontent-%COMP%]   .section-ingresos.separator-row[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-ingresos.separator-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-ingresos[_ngcontent-%COMP%]   .separator-row[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-ingresos[_ngcontent-%COMP%]   .separator-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]{background-color:var(--mat-sys-success-container)!important;color:#fff!important;font-weight:700}.fullscreen-modal[_ngcontent-%COMP%]   .section-ingresos.total-row[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-ingresos[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]{background-color:var(--mat-sys-success-container)!important;border-top:2px solid var(--mat-sys-success)!important;border-bottom:2px solid var(--mat-sys-success)!important}.fullscreen-modal[_ngcontent-%COMP%]   .section-ingresos.total-row[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-ingresos.total-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-ingresos[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-ingresos[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]{background-color:var(--mat-sys-success-container)!important;color:#fff!important;font-weight:700}.fullscreen-modal[_ngcontent-%COMP%]   .section-ingresos.total-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-ingresos[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%]{color:#fff!important}.fullscreen-modal[_ngcontent-%COMP%]   .section-ingresos[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]{background-color:color-mix(in oklab,var(--mat-sys-success-container),transparent 85%)!important;color:var(--mat-sys-success)!important}.fullscreen-modal[_ngcontent-%COMP%]   .section-ingresos[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-ingresos[_ngcontent-%COMP%]   .value-cell.positive-value[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%]{color:var(--mat-sys-success)!important}.fullscreen-modal[_ngcontent-%COMP%]   .section-ingresos[_ngcontent-%COMP%]   .value-cell.negative-value[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%]{color:var(--mat-sys-error)!important}.fullscreen-modal[_ngcontent-%COMP%]   .section-ingresos[_ngcontent-%COMP%]   .value-cell.zero-value[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%]{color:var(--mat-sys-success)!important;opacity:.6}.fullscreen-modal[_ngcontent-%COMP%]   .section-gastos-tarjetas[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%]{background-color:var(--mat-sys-warning-container)!important;color:#fff!important}.fullscreen-modal[_ngcontent-%COMP%]   .section-gastos-tarjetas.separator-row[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-gastos-tarjetas[_ngcontent-%COMP%]   .separator-row[_ngcontent-%COMP%]{background-color:var(--mat-sys-warning-container)!important;border-top:2px solid var(--mat-sys-warning)!important;border-bottom:2px solid var(--mat-sys-warning)!important}.fullscreen-modal[_ngcontent-%COMP%]   .section-gastos-tarjetas.separator-row[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-gastos-tarjetas.separator-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-gastos-tarjetas[_ngcontent-%COMP%]   .separator-row[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-gastos-tarjetas[_ngcontent-%COMP%]   .separator-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]{background-color:var(--mat-sys-warning-container)!important;color:#fff!important;font-weight:700}.fullscreen-modal[_ngcontent-%COMP%]   .section-gastos-tarjetas.total-row[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-gastos-tarjetas[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]{background-color:var(--mat-sys-warning-container)!important;border-top:2px solid var(--mat-sys-warning)!important;border-bottom:2px solid var(--mat-sys-warning)!important}.fullscreen-modal[_ngcontent-%COMP%]   .section-gastos-tarjetas.total-row[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-gastos-tarjetas.total-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-gastos-tarjetas[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-gastos-tarjetas[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]{background-color:var(--mat-sys-warning-container)!important;color:#fff!important;font-weight:700}.fullscreen-modal[_ngcontent-%COMP%]   .section-gastos-tarjetas.total-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-gastos-tarjetas[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%]{color:#fff!important}.fullscreen-modal[_ngcontent-%COMP%]   .section-gastos-tarjetas[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]{background-color:color-mix(in oklab,var(--mat-sys-warning-container),transparent 85%)!important;color:var(--mat-sys-warning)!important}.fullscreen-modal[_ngcontent-%COMP%]   .section-gastos-tarjetas[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-gastos-tarjetas[_ngcontent-%COMP%]   .value-cell.positive-value[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-gastos-tarjetas[_ngcontent-%COMP%]   .value-cell.negative-value[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%]{color:var(--mat-sys-warning)!important}.fullscreen-modal[_ngcontent-%COMP%]   .section-gastos-tarjetas[_ngcontent-%COMP%]   .value-cell.zero-value[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%]{color:var(--mat-sys-warning)!important;opacity:.6}.fullscreen-modal[_ngcontent-%COMP%]   .section-prestamos[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%]{background-color:var(--mat-sys-info-container)!important;color:#fff!important}.fullscreen-modal[_ngcontent-%COMP%]   .section-prestamos.separator-row[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-prestamos[_ngcontent-%COMP%]   .separator-row[_ngcontent-%COMP%]{background-color:var(--mat-sys-info-container)!important;border-top:2px solid var(--mat-sys-info)!important;border-bottom:2px solid var(--mat-sys-info)!important}.fullscreen-modal[_ngcontent-%COMP%]   .section-prestamos.separator-row[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-prestamos.separator-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-prestamos[_ngcontent-%COMP%]   .separator-row[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-prestamos[_ngcontent-%COMP%]   .separator-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]{background-color:var(--mat-sys-info-container)!important;color:#fff!important;font-weight:700}.fullscreen-modal[_ngcontent-%COMP%]   .section-prestamos.total-row[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-prestamos[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]{background-color:var(--mat-sys-info-container)!important;border-top:2px solid var(--mat-sys-info)!important;border-bottom:2px solid var(--mat-sys-info)!important}.fullscreen-modal[_ngcontent-%COMP%]   .section-prestamos.total-row[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-prestamos.total-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-prestamos[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-prestamos[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]{background-color:var(--mat-sys-info-container)!important;color:#fff!important;font-weight:700}.fullscreen-modal[_ngcontent-%COMP%]   .section-prestamos.total-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-prestamos[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%]{color:#fff!important}.fullscreen-modal[_ngcontent-%COMP%]   .section-prestamos[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]{background-color:color-mix(in oklab,var(--mat-sys-info-container),transparent 85%)!important;color:var(--mat-sys-info)!important}.fullscreen-modal[_ngcontent-%COMP%]   .section-prestamos[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-prestamos[_ngcontent-%COMP%]   .value-cell.positive-value[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-prestamos[_ngcontent-%COMP%]   .value-cell.negative-value[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%]{color:var(--mat-sys-info)!important}.fullscreen-modal[_ngcontent-%COMP%]   .section-prestamos[_ngcontent-%COMP%]   .value-cell.zero-value[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%]{color:var(--mat-sys-info)!important;opacity:.6}.fullscreen-modal[_ngcontent-%COMP%]   .section-otros-gastos[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%]{background-color:var(--mat-sys-tertiary-container)!important;color:#fff!important}.fullscreen-modal[_ngcontent-%COMP%]   .section-otros-gastos.separator-row[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-otros-gastos[_ngcontent-%COMP%]   .separator-row[_ngcontent-%COMP%]{background-color:var(--mat-sys-tertiary-container)!important;border-top:2px solid var(--mat-sys-tertiary)!important;border-bottom:2px solid var(--mat-sys-tertiary)!important}.fullscreen-modal[_ngcontent-%COMP%]   .section-otros-gastos.separator-row[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-otros-gastos.separator-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-otros-gastos[_ngcontent-%COMP%]   .separator-row[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-otros-gastos[_ngcontent-%COMP%]   .separator-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]{background-color:var(--mat-sys-tertiary-container)!important;color:#fff!important;font-weight:700}.fullscreen-modal[_ngcontent-%COMP%]   .section-otros-gastos.total-row[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-otros-gastos[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]{background-color:var(--mat-sys-tertiary-container)!important;border-top:2px solid var(--mat-sys-tertiary)!important;border-bottom:2px solid var(--mat-sys-tertiary)!important}.fullscreen-modal[_ngcontent-%COMP%]   .section-otros-gastos.total-row[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-otros-gastos.total-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-otros-gastos[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-otros-gastos[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]{background-color:var(--mat-sys-tertiary-container)!important;color:#fff!important;font-weight:700}.fullscreen-modal[_ngcontent-%COMP%]   .section-otros-gastos.total-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-otros-gastos[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%]{color:#fff!important}.fullscreen-modal[_ngcontent-%COMP%]   .section-otros-gastos[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]{background-color:color-mix(in oklab,var(--mat-sys-tertiary-container),transparent 85%)!important;color:var(--mat-sys-tertiary)!important}.fullscreen-modal[_ngcontent-%COMP%]   .section-otros-gastos[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-otros-gastos[_ngcontent-%COMP%]   .value-cell.positive-value[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-otros-gastos[_ngcontent-%COMP%]   .value-cell.negative-value[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%]{color:var(--mat-sys-tertiary)!important}.fullscreen-modal[_ngcontent-%COMP%]   .section-otros-gastos[_ngcontent-%COMP%]   .value-cell.zero-value[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%]{color:var(--mat-sys-tertiary)!important;opacity:.6}.fullscreen-modal[_ngcontent-%COMP%]   .section-balance[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%]{background-color:var(--mat-sys-primary-container)!important;color:#fff!important}.fullscreen-modal[_ngcontent-%COMP%]   .section-balance.separator-row[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-balance[_ngcontent-%COMP%]   .separator-row[_ngcontent-%COMP%]{background-color:var(--mat-sys-primary-container)!important;border-top:2px solid var(--mat-sys-primary)!important;border-bottom:2px solid var(--mat-sys-primary)!important}.fullscreen-modal[_ngcontent-%COMP%]   .section-balance.separator-row[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-balance.separator-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-balance[_ngcontent-%COMP%]   .separator-row[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-balance[_ngcontent-%COMP%]   .separator-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]{background-color:var(--mat-sys-primary-container)!important;color:#fff!important;font-weight:700}.fullscreen-modal[_ngcontent-%COMP%]   .section-balance.total-row[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-balance[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]{background-color:var(--mat-sys-primary-container)!important;border-top:2px solid var(--mat-sys-primary)!important;border-bottom:2px solid var(--mat-sys-primary)!important}.fullscreen-modal[_ngcontent-%COMP%]   .section-balance.total-row[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-balance.total-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-balance[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-balance[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]{background-color:var(--mat-sys-primary-container)!important;color:#fff!important;font-weight:700}.fullscreen-modal[_ngcontent-%COMP%]   .section-balance.total-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-balance[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%]{color:#fff!important}.fullscreen-modal[_ngcontent-%COMP%]   .section-balance[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]{background-color:color-mix(in oklab,var(--mat-sys-primary-container),transparent 85%)!important;color:var(--mat-sys-primary)!important}.fullscreen-modal[_ngcontent-%COMP%]   .section-balance[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-balance[_ngcontent-%COMP%]   .value-cell.positive-value[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-balance[_ngcontent-%COMP%]   .value-cell.negative-value[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%]{color:var(--mat-sys-primary)!important}.fullscreen-modal[_ngcontent-%COMP%]   .section-balance[_ngcontent-%COMP%]   .value-cell.zero-value[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%]{color:var(--mat-sys-primary)!important;opacity:.6}.fullscreen-modal[_ngcontent-%COMP%]   .separator-row[_ngcontent-%COMP%]{background-color:var(--mat-sys-surface-container-low)!important}.fullscreen-modal[_ngcontent-%COMP%]   .separator-row[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .separator-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]{background-color:var(--mat-sys-surface-container-low)!important;color:var(--mat-sys-on-surface)!important}.fullscreen-modal[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]{background-color:var(--mat-sys-primary-container)!important}.fullscreen-modal[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]{background-color:var(--mat-sys-primary-container)!important;color:var(--mat-sys-on-primary-container)!important}.fullscreen-modal[_ngcontent-%COMP%]   .balance-row[_ngcontent-%COMP%]{background-color:var(--mat-sys-success-container)!important}.fullscreen-modal[_ngcontent-%COMP%]   .balance-row[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%]{background-color:var(--mat-sys-success-container)!important;color:#fff!important}.fullscreen-modal[_ngcontent-%COMP%]   .balance-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]{background-color:var(--mat-sys-success-container)!important;color:var(--mat-sys-success)!important;font-weight:700}.fullscreen-modal[_ngcontent-%COMP%]   .section-ingresos.separator-row[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-ingresos.separator-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-gastos-tarjetas.separator-row[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-gastos-tarjetas.separator-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-prestamos.separator-row[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-prestamos.separator-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-otros-gastos.separator-row[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-otros-gastos.separator-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-balance.separator-row[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-balance.separator-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-ingresos.total-row[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-ingresos.total-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-gastos-tarjetas.total-row[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-gastos-tarjetas.total-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-prestamos.total-row[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-prestamos.total-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-otros-gastos.total-row[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-otros-gastos.total-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-balance.total-row[_ngcontent-%COMP%]   .concept-cell[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-balance.total-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-ingresos.total-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-gastos-tarjetas.total-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-prestamos.total-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-otros-gastos.total-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%], .fullscreen-modal[_ngcontent-%COMP%]   .section-balance.total-row[_ngcontent-%COMP%]   .value-cell[_ngcontent-%COMP%]   .cell-value[_ngcontent-%COMP%]{color:#fff!important}'],changeDetection:0})};var pn=class s{static \u0275fac=function(e){return new(e||s)};static \u0275mod=ae({type:s});static \u0275inj=oe({imports:[ue,ye,xe,tn.forChild([{path:"",component:$t},{path:"big-picture",component:Yt}]),Ze]})};export{pn as TarjetasModule};
